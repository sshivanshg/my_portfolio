"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/react-icon-cloud";
exports.ids = ["vendor-chunks/react-icon-cloud"];
exports.modules = {

/***/ "(ssr)/./node_modules/react-icon-cloud/dist/react-icon-cloud.esm.js":
/*!********************************************************************!*\
  !*** ./node_modules/react-icon-cloud/dist/react-icon-cloud.esm.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cloud: () => (/* binding */ Cloud),\n/* harmony export */   fetchSimpleIcons: () => (/* binding */ fetchSimpleIcons),\n/* harmony export */   getSlug: () => (/* binding */ getSlug),\n/* harmony export */   renderSimpleIcon: () => (/* binding */ renderSimpleIcon)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _csstools_convert_colors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @csstools/convert-colors */ \"(ssr)/./node_modules/@csstools/convert-colors/index.mjs\");\n\n\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n/**\r\n * Copyright (C) 2010-2021 Graham Breach\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Lesser General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\n\n/**\r\n * TagCanvas 2.11\r\n * For more information, please contact <graham@goat1000.com>\r\n */\nvar tagCanvasString = \"(function(){\\\"use strict\\\"; var r,C,p=Math.abs,o=Math.sin,l=Math.cos,g=Math.max,h=Math.min,af=Math.ceil,E=Math.sqrt,w=Math.pow,I={},D={},R={0:\\\"0,\\\",1:\\\"17,\\\",2:\\\"34,\\\",3:\\\"51,\\\",4:\\\"68,\\\",5:\\\"85,\\\",6:\\\"102,\\\",7:\\\"119,\\\",8:\\\"136,\\\",9:\\\"153,\\\",a:\\\"170,\\\",A:\\\"170,\\\",b:\\\"187,\\\",B:\\\"187,\\\",c:\\\"204,\\\",C:\\\"204,\\\",d:\\\"221,\\\",D:\\\"221,\\\",e:\\\"238,\\\",E:\\\"238,\\\",f:\\\"255,\\\",F:\\\"255,\\\"},f,d,b,T,z,F,M,c=document,v,e,P,j={};for(r=0;r<256;++r)C=r.toString(16),r<16&&(C='0'+C),D[C]=D[C.toUpperCase()]=r.toString()+',';function n(a){return typeof a!='undefined'}function B(a){return typeof a=='object'&&a!=null}function G(a,c,b){return isNaN(a)?b:h(b,g(c,a))}function x(){return!1}function q(){return(new Date).valueOf()}function ak(c,d){var b=[],e=c.length,a;for(a=0;a<e;++a)b.push(c[a]);return b.sort(d),b}function ai(a){for(var b=a.length-1,d,c;b;)c=~~(Math.random()*b),d=a[b],a[b]=a[c],a[c]=d,--b}function ag(){var a=window.AudioContext||window.webkitAudioContext;if(e=new a,!e){e='off';return}return e}function $(u,a,t,s,r,q,p){var j=s,h=r,i=t*.01,n=80*i,m=100*i,o=40*i,l=30*i,c=l/2,b=j+n,f=b-o,k=h+m,d=k-l,g=h+l,e=h+m/2;if(a.setTransform(1,0,0,1,0,0),a.setLineDash([]),a.globalAlpha=1,a.strokeStyle=p,a.lineWidth=q,a.lineJoin='round',a.beginPath(),a.moveTo(f,g),a.lineTo(f,d),a.moveTo(b,k),a.lineTo(f,d),a.lineTo(j,d),a.lineTo(j,g),a.lineTo(f,g),a.lineTo(b,h),u){a.lineTo(b,g),a.moveTo(b,d),a.lineTo(b,k),a.moveTo(b-c,e-c),a.lineTo(b+c,e+c),a.moveTo(b+c,e-c),a.lineTo(b-c,e+c),a.stroke();return}a.closePath(),a.stroke()}function s(a,b,c){this.x=a,this.y=b,this.z=c}z=s.prototype,z.length=function(){return E(this.x*this.x+this.y*this.y+this.z*this.z)},z.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z},z.cross=function(a){var b=this.y*a.z-this.z*a.y,c=this.z*a.x-this.x*a.z,d=this.x*a.y-this.y*a.x;return new s(b,c,d)},z.angle=function(b){var c=this.dot(b),a;return c==0?Math.PI/2:(a=c/(this.length()*b.length()),a>=1)?0:a<=-1?Math.PI:Math.acos(a)},z.unit=function(){var a=this.length();return new s(this.x/a,this.y/a,this.z/a)};function ay(b,a){a=a*Math.PI/180,b=b*Math.PI/180;var c=o(b)*l(a),d=-o(a),e=-l(b)*l(a);return new s(c,d,e)}function m(a){this[1]={1:a[0],2:a[1],3:a[2]},this[2]={1:a[3],2:a[4],3:a[5]},this[3]={1:a[6],2:a[7],3:a[8]}}T=m.prototype,m.Identity=function(){return new m([1,0,0,0,1,0,0,0,1])},m.Rotation=function(e,a){var c=o(e),d=l(e),b=1-d;return new m([d+w(a.x,2)*b,a.x*a.y*b-a.z*c,a.x*a.z*b+a.y*c,a.y*a.x*b+a.z*c,d+w(a.y,2)*b,a.y*a.z*b-a.x*c,a.z*a.x*b-a.y*c,a.z*a.y*b+a.x*c,d+w(a.z,2)*b])},T.mul=function(c){var d=[],a,b,e=c.xform?1:0;for(a=1;a<=3;++a)for(b=1;b<=3;++b)e?d.push(this[a][1]*c[1][b]+this[a][2]*c[2][b]+this[a][3]*c[3][b]):d.push(this[a][b]*c);return new m(d)},T.xform=function(b){var a={},c=b.x,d=b.y,e=b.z;return a.x=c*this[1][1]+d*this[2][1]+e*this[3][1],a.y=c*this[1][2]+d*this[2][2]+e*this[3][2],a.z=c*this[1][3]+d*this[2][3]+e*this[3][3],a};function aB(g,j,k,m,f){var a,b,c,d,e=[],h=2/g,i;i=Math.PI*(3-E(5)+(parseFloat(f)?parseFloat(f):0));for(a=0;a<g;++a)b=a*h-1+h/2,c=E(1-b*b),d=a*i,e.push([l(d)*c*j,b*k,o(d)*c*m]);return e}function U(n,p,m,k,h,g){var b,f=[],i=2/n,j,a,d,c,e;j=Math.PI*(3-E(5)+(parseFloat(g)?parseFloat(g):0));for(a=0;a<n;++a)d=a*i-1+i/2,b=a*j,c=l(b),e=o(b),f.push(p?[d*m,c*k,e*h]:[c*m,d*k,e*h]);return f}function aa(k,e,f,h,i,j){var b,g=[],m=Math.PI*2/e,a,c,d;for(a=0;a<e;++a)b=a*m,c=l(b),d=o(b),g.push(k?[j*f,c*h,d*i]:[c*f,j*h,d*i]);return g}function ax(a,b,c,d,e){return U(a,0,b,c,d,e)}function aH(a,b,c,d,e){return U(a,1,b,c,d,e)}function aG(b,c,d,e,a){return a=isNaN(a)?0:a*1,aa(0,b,c,d,e,a)}function aF(b,c,d,e,a){return a=isNaN(a)?0:a*1,aa(1,b,c,d,e,a)}function av(b){var a=new Image;a.onload=function(){var c=a.width/2,d=a.height/2;b.centreFunc=function(b,g,h,e,f){b.setTransform(1,0,0,1,0,0),b.globalAlpha=1,b.drawImage(a,e-c,f-d)}},a.src=b.centreImage}function aE(a,c){var b=a,d,e,f=(c*1).toPrecision(3)+')';return a[0]==='#'?(I[a]||(a.length===4?I[a]='rgba('+R[a[1]]+R[a[2]]+R[a[3]]:I[a]='rgba('+D[a.substr(1,2)]+D[a.substr(3,2)]+D[a.substr(5,2)]),b=I[a]+f):a.substr(0,4)==='rgb('||a.substr(0,4)==='hsl('?b=a.replace('(','a(').replace(')',','+f):(a.substr(0,5)==='rgba('||a.substr(0,5)==='hsla(')&&(d=a.lastIndexOf(',')+1,e=a.indexOf(')'),c*=parseFloat(a.substring(d,e)),b=a.substr(0,d)+c.toPrecision(3)+')'),b}function k(b,d){if(window.G_vmlCanvasManager)return null;var a=c.createElement('canvas');return a.width=b,a.height=d,a}function aD(){var b=k(3,3),a,c;return!!b&&(a=b.getContext('2d'),a.strokeStyle='#000',a.shadowColor='#fff',a.shadowBlur=3,a.globalAlpha=0,a.strokeRect(2,2,2,2),a.globalAlpha=1,c=a.getImageData(2,2,1,1),b=null,c.data[0]>0)}function aC(a,c,f,d){var e=a.createLinearGradient(0,0,c,0),b;for(b in d)e.addColorStop(1-b,d[b]);a.fillStyle=e,a.fillRect(0,f,c,1)}function L(a,m,j){var l=1024,d=1,e=a.weightGradient,i,f,b,c;if(a.gCanvas)f=a.gCanvas.getContext('2d'),d=a.gCanvas.height;else{if(B(e[0])?d=e.length:e=[e],a.gCanvas=i=k(l,d),!i)return null;f=i.getContext('2d');for(b=0;b<d;++b)aC(f,l,b,e[b])}return j=g(h(j||0,d-1),0),c=f.getImageData(~~((l-1)*m),j,1,1).data,'rgba('+c[0]+','+c[1]+','+c[2]+','+c[3]/255+')'}function Y(b,i,q,k,o,n,h,d,a,g,f,l){var m=o+(d||0)+(a.length&&a[0]<0?p(a[0]):0),j=n+(d||0)+(a.length&&a[1]<0?p(a[1]):0),c,e;b.font=i,b.textBaseline='top',b.fillStyle=q,h&&(b.shadowColor=h),d&&(b.shadowBlur=d),a.length&&(b.shadowOffsetX=a[0],b.shadowOffsetY=a[1]);for(c=0;c<k.length;++c)e=0,f&&('right'==l?e=g-f[c]:'centre'==l&&(e=(g-f[c])/2)),b.fillText(k[c],m+e,j),j+=parseInt(i)}function y(d,a,b,f,e,c,g){c?(d.beginPath(),d.moveTo(a,b+e-c),d.arcTo(a,b,a+c,b,c),d.arcTo(a+f,b,a+f,b+c,c),d.arcTo(a+f,b+e,a+f-c,b+e,c),d.arcTo(a,b+e,a,b+e-c,c),d.closePath(),d[g?'stroke':'fill']()):d[g?'strokeRect':'fillRect'](a,b,f,e)}function O(a,b,c,d,e,f,g,h,i){this.strings=a,this.font=b,this.width=c,this.height=d,this.maxWidth=e,this.stringWidths=f,this.align=g,this.valign=h,this.scale=i}M=O.prototype,M.SetImage=function(a,b,c,d,e,f,g,h){this.image=a,this.iwidth=b*this.scale,this.iheight=c*this.scale,this.ipos=d,this.ipad=e*this.scale,this.iscale=h,this.ialign=f,this.ivalign=g},M.Align=function(c,d,a){var b=0;return a=='right'||a=='bottom'?b=d-c:a!='left'&&a!='top'&&(b=(d-c)/2),b},M.Create=function(G,D,F,b,A,m,q,j,E){var o,e,f,a,l,s,i,u,v,r,w,n,c,d,x,B=p(q[0]),C=p(q[1]),t,z;return j=g(j,B+m,C+m),l=2*(j+b),i=2*(j+b),e=this.width+l,f=this.height+i,v=r=j+b,this.image&&(w=n=j+b,c=this.iwidth,d=this.iheight,this.ipos=='top'||this.ipos=='bottom'?(c<this.width?w+=this.Align(c,this.width,this.ialign):v+=this.Align(this.width,c,this.align),this.ipos=='top'?r+=d+this.ipad:n+=this.height+this.ipad,e=g(e,c+l),f+=d+this.ipad):(d<this.height?n+=this.Align(d,this.height,this.ivalign):r+=this.Align(this.height,d,this.valign),this.ipos=='right'?w+=this.width+this.ipad:v+=c+this.ipad,e+=c+this.ipad,f=g(f,d+i))),o=k(e,f),!o?null:(l=i=b/2,s=e-b,u=f-b,x=h(E,s/2,u/2),a=o.getContext('2d'),D&&(a.fillStyle=D,y(a,l,i,s,u,x)),b&&(a.strokeStyle=F,a.lineWidth=b,y(a,l,i,s,u,x,!0)),(m||B||C)&&(t=k(e,f),t&&(z=a,a=t.getContext('2d'))),Y(a,this.font,G,this.strings,v,r,0,0,[],this.maxWidth,this.stringWidths,this.align),this.image&&a.drawImage(this.image,w,n,c,d),z&&(a=z,A&&(a.shadowColor=A),m&&(a.shadowBlur=m),a.shadowOffsetX=q[0],a.shadowOffsetY=q[1],a.drawImage(t,0,0)),o)};function H(a,c,d){var b=k(c,d),e;return b?(e=b.getContext('2d'),e.drawImage(a,(c-a.width)/2,(d-a.height)/2),b):null}function S(e,b,c){var a=k(b,c),d;return a?(d=a.getContext('2d'),d.drawImage(e,0,0,b,c),a):null}function W(n,u,t,e,s,c,v,d,r,w){var g=u+(2*d+c)*e,f=t+(2*d+c)*e,l=k(g,f),b,i,q,m,j,o,a,p;return l?(c*=e,r*=e,i=q=c/2,m=g-c,j=f-c,d=d*e+i,b=l.getContext('2d'),p=h(r,m/2,j/2),s&&(b.fillStyle=s,y(b,i,q,m,j,p)),c&&(b.strokeStyle=v,b.lineWidth=c,y(b,i,q,m,j,p,!0)),w?(o=k(g,f),a=o.getContext('2d'),a.drawImage(n,d,d,u,t),a.globalCompositeOperation='source-in',a.fillStyle=v,a.fillRect(0,0,g,f),a.globalCompositeOperation='destination-over',a.drawImage(l,0,0),a.globalCompositeOperation='source-over',b.drawImage(o,0,0)):b.drawImage(n,d,d,n.width,n.height),{image:l,width:g/e,height:f/e}):null}function at(l,f,c,d,j){var e,a,b=parseFloat(f),i=g(c,d);return e=k(c,d),!e?null:(f.indexOf('%')>0?b=i*b/100:b=b*j,a=e.getContext('2d'),a.globalCompositeOperation='source-over',a.fillStyle='#fff',b>=i/2?(b=h(c,d)/2,a.beginPath(),a.moveTo(c/2,d/2),a.arc(c/2,d/2,b,0,2*Math.PI,!1),a.fill(),a.closePath()):(b=h(c/2,d/2,b),y(a,0,0,c,d,b,!0),a.fill()),a.globalCompositeOperation='source-in',a.drawImage(l,0,0,c,d),e)}function ao(q,m,i,b,h,a,c){var g=p(c[0]),f=p(c[1]),j=m+(g>a?g+a:a*2)*b,l=i+(f>a?f+a:a*2)*b,n=b*((a||0)+(c[0]<0?g:0)),o=b*((a||0)+(c[1]<0?f:0)),e,d;return e=k(j,l),!e?null:(d=e.getContext('2d'),h&&(d.shadowColor=h),a&&(d.shadowBlur=a*b),c&&(d.shadowOffsetX=c[0]*b,d.shadowOffsetY=c[1]*b),d.drawImage(q,n,o,m,i),{image:e,width:j/b,height:l/b})}function ae(m,o,l){var c=parseInt(m.toString().length*l),h=parseInt(l*2*m.length),j=k(c,h),g,i,e,f,b,d,n,a;if(!j)return null;g=j.getContext('2d'),g.fillStyle='#000',g.fillRect(0,0,c,h),Y(g,l+'px '+o,'#fff',m,0,0,0,0,[],'centre'),i=g.getImageData(0,0,c,h),e=i.width,f=i.height,a={min:{x:e,y:f},max:{x:-1,y:-1}};for(d=0;d<f;++d)for(b=0;b<e;++b)n=(d*e+b)*4,i.data[n+1]>0&&(b<a.min.x&&(a.min.x=b),b>a.max.x&&(a.max.x=b),d<a.min.y&&(a.min.y=d),d>a.max.y&&(a.max.y=d));return e!=c&&(a.min.x*=c/e,a.max.x*=c/e),f!=h&&(a.min.y*=c/f,a.max.y*=c/f),j=null,a}function Q(a){return\\\"'\\\"+a.replace(/('|\\\")/g,'').replace(/s*,s*/g,\\\"', '\\\")+\\\"'\\\"}function t(b,d,a){a=a||c,a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent('on'+b,d)}function am(b,d,a){a=a||c,a.removeEventListener?a.removeEventListener(b,d):a.detachEvent('on'+b,d)}function A(g,e,j,a,b){var l=b.imageScale,h,c,k,m,f,d;if(!e.complete)return t('load',function(){A(g,e,j,a,b)},e);if(!g.complete)return t('load',function(){A(g,e,j,a,b)},g);if(j&&!j.complete)return t('load',function(){A(g,e,j,a,b)},j);e.width=e.width,e.height=e.height,l&&(g.width=e.width*l,g.height=e.height*l),a.iw=g.width,a.ih=g.height,b.txtOpt&&(c=g,h=b.zoomMax*b.txtScale,f=a.iw*h,d=a.ih*h,f<e.naturalWidth||d<e.naturalHeight?(c=S(g,f,d),c&&(a.fimage=c)):(f=a.iw,d=a.ih,h=1),parseFloat(b.imageRadius)&&(a.image=a.fimage=g=at(a.image,b.imageRadius,f,d,h)),a.HasText()||(b.shadow&&(c=ao(a.image,f,d,h,b.shadow,b.shadowBlur,b.shadowOffset),c&&(a.fimage=c.image,a.w=c.width,a.h=c.height)),(b.bgColour||b.bgOutlineThickness)&&(k=b.bgColour=='tag'?i(a.a,'background-color'):b.bgColour,m=b.bgOutline=='tag'?i(a.a,'color'):b.bgOutline||b.textColour,f=a.fimage.width,d=a.fimage.height,b.outlineMethod=='colour'&&(c=W(a.fimage,f,d,h,k,b.bgOutlineThickness,a.outline.colour,b.padding,b.bgRadius,1),c&&(a.oimage=c.image)),c=W(a.fimage,f,d,h,k,b.bgOutlineThickness,m,b.padding,b.bgRadius),c&&(a.fimage=c.image,a.w=c.width,a.h=c.height)),b.outlineMethod=='size'&&(b.outlineIncrease>0?(a.iw+=2*b.outlineIncrease,a.ih+=2*b.outlineIncrease,f=h*a.iw,d=h*a.ih,c=S(a.fimage,f,d),a.oimage=c,a.fimage=H(a.fimage,a.oimage.width,a.oimage.height)):(f=h*(a.iw+2*b.outlineIncrease),d=h*(a.ih+2*b.outlineIncrease),c=S(a.fimage,f,d),a.oimage=H(c,a.fimage.width,a.fimage.height))))),a.alt=j,a.Init()}function i(a,d){var b=c.defaultView,e=d.replace(/-([a-z])/g,function(a){return a.charAt(1).toUpperCase()});return b&&b.getComputedStyle&&b.getComputedStyle(a,null).getPropertyValue(d)||a.currentStyle&&a.currentStyle[e]}function aj(c,d,e){var b=1,a;return d?b=1*(c.getAttribute(d)||e):(a=i(c,'font-size'))&&(b=a.indexOf('px')>-1&&a.replace('px','')*1||a.indexOf('pt')>-1&&a.replace('pt','')*1.25||a*3.3),b}function u(a){return a.target&&n(a.target.id)?a.target.id:a.srcElement.parentNode.id}function K(a,c){var b,d,e=parseInt(i(c,'width'))/c.width,f=parseInt(i(c,'height'))/c.height;return n(a.offsetX)?b={x:a.offsetX,y:a.offsetY}:(d=X(c.id),n(a.changedTouches)&&(a=a.changedTouches[0]),a.pageX&&(b={x:a.pageX-d.x,y:a.pageY-d.y})),b&&e&&f&&(b.x/=e,b.y/=f),b}function an(c){var d=c.target||c.fromElement.parentNode,b=a.tc[d.id];b&&(b.mx=b.my=-1,b.UnFreeze(),b.EndDrag())}function ad(e){var g,c=a,b,d,f=u(e);for(g in c.tc)b=c.tc[g],b.tttimer&&(clearTimeout(b.tttimer),b.tttimer=null);f&&c.tc[f]&&(b=c.tc[f],(d=K(e,b.canvas))&&(b.mx=d.x,b.my=d.y,b.Drag(e,d)),b.drawn=0)}function ap(b){var e=a,f=c.addEventListener?0:1,d=u(b);d&&b.button==f&&e.tc[d]&&e.tc[d].BeginDrag(b)}function aq(b){var f=a,g=c.addEventListener?0:1,e=u(b),d;e&&b.button==g&&f.tc[e]&&(d=f.tc[e],ad(b),!d.EndDrag()&&!d.touchState&&d.Clicked(b))}function ar(c){var e=u(c),b=e&&a.tc[e],d;b&&c.changedTouches&&(c.touches.length==1&&b.touchState==0?(b.touchState=1,b.BeginDrag(c),(d=K(c,b.canvas))&&(b.mx=d.x,b.my=d.y,b.drawn=0)):c.targetTouches.length==2&&b.pinchZoom?(b.touchState=3,b.EndDrag(),b.BeginPinch(c)):(b.EndDrag(),b.EndPinch(),b.touchState=0))}function ac(c){var d=u(c),b=d&&a.tc[d];if(b&&c.changedTouches){switch(b.touchState){case 1:b.Draw(),b.Clicked();break;break;case 2:b.EndDrag();break;case 3:b.EndPinch()}b.touchState=0}}function au(c){var f,e=a,b,d,g=u(c);for(f in e.tc)b=e.tc[f],b.tttimer&&(clearTimeout(b.tttimer),b.tttimer=null);if(b=g&&e.tc[g],b&&c.changedTouches&&b.touchState){switch(b.touchState){case 1:case 2:(d=K(c,b.canvas))&&(b.mx=d.x,b.my=d.y,b.Drag(c,d)&&(b.touchState=2));break;case 3:b.Pinch(c)}b.drawn=0}}function ab(b){var d=a,c=u(b);c&&d.tc[c]&&(b.cancelBubble=!0,b.returnValue=!1,b.preventDefault&&b.preventDefault(),d.tc[c].Wheel((b.wheelDelta||b.detail)>0))}function aw(d){var c,b=a;clearTimeout(b.scrollTimer);for(c in b.tc)b.tc[c].Pause();b.scrollTimer=setTimeout(function(){var b,c=a;for(b in c.tc)c.tc[b].Resume()},b.scrollPause)}function al(){Z(q())}function Z(b){var c=a.tc,d;a.NextFrame(a.interval),b=b||q();for(d in c)c[d].Draw(b)}function az(){requestAnimationFrame(Z)}function aA(a){setTimeout(al,a)}function X(f){var g=c.getElementById(f),b=g.getBoundingClientRect(),a=c.documentElement,d=c.body,e=window,h=e.pageXOffset||a.scrollLeft,i=e.pageYOffset||a.scrollTop,j=a.clientLeft||d.clientLeft,k=a.clientTop||d.clientTop;return{x:b.left+h-j,y:b.top+i-k}}function aI(a,b,d,e){var c=a.radius*a.z1/(a.z1+a.z2+b.z);return{x:b.x*c*d,y:b.y*c*e,z:b.z,w:(a.z1-b.z)/a.z2}}function V(a){this.e=a,this.br=0,this.line=[],this.text=[],this.original=a.innerText||a.textContent}F=V.prototype,F.Empty=function(){for(var a=0;a<this.text.length;++a)if(this.text[a].length)return!1;return!0},F.Lines=function(c){var e=c?1:0,b,d,a;c=c||this.e,b=c.childNodes,d=b.length;for(a=0;a<d;++a)b[a].nodeName=='BR'?(this.text.push(this.line.join(' ')),this.br=1):b[a].nodeType==3?this.br?(this.line=[b[a].nodeValue],this.br=0):this.line.push(b[a].nodeValue):this.Lines(b[a]);return e||this.br||this.text.push(this.line.join(' ')),this.text},F.SplitWidth=function(h,e,f,g){var c,b,a,d=[];e.font=g+'px '+f;for(c=0;c<this.text.length;++c){a=this.text[c].split(/s+/),this.line=[a[0]];for(b=1;b<a.length;++b)e.measureText(this.line.join(' ')+' '+a[b]).width>h?(d.push(this.line.join(' ')),this.line=[a[b]]):this.line.push(a[b]);d.push(this.line.join(' '))}return this.text=d};function _(a,b){this.ts=null,this.tc=a,this.tag=b,this.x=this.y=this.w=this.h=this.sc=1,this.z=0,this.pulse=1,this.pulsate=a.pulsateTo<1,this.colour=a.outlineColour,this.adash=~~a.outlineDash,this.agap=~~a.outlineDashSpace||this.adash,this.aspeed=a.outlineDashSpeed*1,this.colour=='tag'?this.colour=i(b.a,'color'):this.colour=='tagbg'&&(this.colour=i(b.a,'background-color')),this.Draw=this.pulsate?this.DrawPulsate:this.DrawSimple,this.radius=a.outlineRadius|0,this.SetMethod(a.outlineMethod,a.altImage)}f=_.prototype,f.SetMethod=function(a,d){var b={block:['PreDraw','DrawBlock'],colour:['PreDraw','DrawColour'],outline:['PostDraw','DrawOutline'],classic:['LastDraw','DrawOutline'],size:['PreDraw','DrawSize'],none:['LastDraw']},c=b[a]||b.outline;a=='none'?this.Draw=function(){return 1}:this.drawFunc=this[c[1]],this[c[0]]=this.Draw,d&&(this.RealPreDraw=this.PreDraw,this.PreDraw=this.DrawAlt)},f.Update=function(d,e,i,j,a,f,g,h){var b=this.tc.outlineOffset,c=2*b;this.x=a*d+g-b,this.y=a*e+h-b,this.w=a*i+c,this.h=a*j+c,this.sc=a,this.z=f},f.Ants=function(k){if(!this.adash)return;var b=this.adash,c=this.agap,a=this.aspeed,j=b+c,h=0,g=b,f=c,i=0,d=0,e;a&&(d=p(a)*(q()-this.ts)/50,a<0&&(d=864e4-d),a=~~d%j),a?(b>=a?(h=b-a,g=a):(f=j-a,i=c-f),e=[h,f,g,i]):e=[b,c],k.setLineDash(e)},f.DrawOutline=function(a,d,e,b,c,f){var g=h(this.radius,c/2,b/2);a.strokeStyle=f,this.Ants(a),y(a,d,e,b,c,g,!0)},f.DrawSize=function(i,n,m,l,k,j,a,h,g){var f=a.w,e=a.h,c,b,d;return this.pulsate?(a.image?d=(a.image.height+this.tc.outlineIncrease)/a.image.height:d=a.oscale,b=a.fimage||a.image,c=1+(d-1)*(1-this.pulse),a.h*=c,a.w*=c):b=a.oimage,a.alpha=1,a.Draw(i,h,g,b),a.h=e,a.w=f,1},f.DrawColour=function(d,h,i,e,f,g,a,b,c){return a.oimage?(this.pulse<1?(a.alpha=1-w(this.pulse,2),a.Draw(d,b,c,a.fimage),a.alpha=this.pulse):a.alpha=1,a.Draw(d,b,c,a.oimage),1):this[a.image?'DrawColourImage':'DrawColourText'](d,h,i,e,f,g,a,b,c)},f.DrawColourText=function(f,h,i,j,g,e,a,b,c){var d=a.colour;return a.colour=e,a.alpha=1,a.Draw(f,b,c),a.colour=d,1},f.DrawColourImage=function(a,q,p,o,n,m,i,r,l){var f=a.canvas,e=~~g(q,0),d=~~g(p,0),c=h(f.width-e,o)+.5|0,b=h(f.height-d,n)+.5|0,j;return v?(v.width=c,v.height=b):v=k(c,b),!v?this.SetMethod('outline'):(j=v.getContext('2d'),j.drawImage(f,e,d,c,b,0,0,c,b),a.clearRect(e,d,c,b),this.pulsate?i.alpha=1-w(this.pulse,2):i.alpha=1,i.Draw(a,r,l),a.setTransform(1,0,0,1,0,0),a.save(),a.beginPath(),a.rect(e,d,c,b),a.clip(),a.globalCompositeOperation='source-in',a.fillStyle=m,a.fillRect(e,d,c,b),a.restore(),a.globalAlpha=1,a.globalCompositeOperation='destination-over',a.drawImage(v,0,0,c,b,e,d,c,b),a.globalCompositeOperation='source-over',1)},f.DrawAlt=function(b,a,c,d,f,g){var e=this.RealPreDraw(b,a,c,d,f,g);return a.alt&&(a.DrawImage(b,c,d,a.alt),e=1),e},f.DrawBlock=function(a,d,e,b,c,f){var g=h(this.radius,c/2,b/2);a.fillStyle=f,y(a,d,e,b,c,g)},f.DrawSimple=function(a,b,c,d,e,f){var g=this.tc;return a.setTransform(1,0,0,1,0,0),a.strokeStyle=this.colour,a.lineWidth=g.outlineThickness,a.shadowBlur=a.shadowOffsetX=a.shadowOffsetY=0,a.globalAlpha=f?e:1,this.drawFunc(a,this.x,this.y,this.w,this.h,this.colour,b,c,d)},f.DrawPulsate=function(h,d,e,f){var g=q()-this.ts,c=this.tc,b=c.pulsateTo+(1-c.pulsateTo)*(.5+l(2*Math.PI*g/(1e3*c.pulsateTime))/2);return this.pulse=b=a.Smooth(1,b),this.DrawSimple(h,d,e,f,b,1)},f.Active=function(d,a,b){var c=a>=this.x&&b>=this.y&&a<=this.x+this.w&&b<=this.y+this.h;return c?this.ts=this.ts||q():this.ts=null,c},f.PreDraw=f.PostDraw=f.LastDraw=x;function J(a,h,c,b,e,f,g,d,i,j,k,l,m,n){this.tc=a,this.image=null,this.text=h,this.text_original=n,this.line_widths=[],this.title=c.title||null,this.a=c,this.position=new s(b[0],b[1],b[2]),this.x=this.y=this.z=0,this.w=e,this.h=f,this.colour=g||a.textColour,this.bgColour=d||a.bgColour,this.bgRadius=i|0,this.bgOutline=j||this.colour,this.bgOutlineThickness=k|0,this.textFont=l||a.textFont,this.padding=m|0,this.sc=this.alpha=1,this.weighted=!a.weight,this.outline=new _(a,this),this.audio=null}d=J.prototype,d.Init=function(b){var a=this.tc;this.textHeight=a.textHeight,this.HasText()?this.Measure(a.ctxt,a):(this.w=this.iw,this.h=this.ih),this.SetShadowColour=a.shadowAlpha?this.SetShadowColourAlpha:this.SetShadowColourFixed,this.SetDraw(a)},d.Draw=x,d.HasText=function(){return this.text&&this.text[0].length>0},d.EqualTo=function(a){var b=a.getElementsByTagName('img');return this.a.href!=a.href?0:b.length?this.image.src==b[0].src:(a.innerText||a.textContent)==this.text_original},d.SetImage=function(a){this.image=this.fimage=a},d.SetAudio=function(a){this.audio=a,this.audio.load()},d.SetDraw=function(a){this.Draw=this.fimage?a.ie>7?this.DrawImageIE:this.DrawImage:this.DrawText,a.noSelect&&(this.CheckActive=x)},d.MeasureText=function(d){var a,e=this.text.length,b=0,c;for(a=0;a<e;++a)this.line_widths[a]=c=d.measureText(this.text[a]).width,b=g(b,c);return b},d.Measure=function(e,a){var f=ae(this.text,this.textFont,this.textHeight),b,k,h,i,g,l,j,c,d;j=f?f.max.y+f.min.y:this.textHeight,e.font=this.font=this.textHeight+'px '+this.textFont,l=this.MeasureText(e),a.txtOpt&&(b=a.txtScale,k=b*this.textHeight,h=k+'px '+this.textFont,i=[b*a.shadowOffset[0],b*a.shadowOffset[1]],e.font=h,g=this.MeasureText(e),d=new O(this.text,h,g+b,b*j+b,g,this.line_widths,a.textAlign,a.textVAlign,b),this.image&&d.SetImage(this.image,this.iw,this.ih,a.imagePosition,a.imagePadding,a.imageAlign,a.imageVAlign,a.imageScale),c=d.Create(this.colour,this.bgColour,this.bgOutline,b*this.bgOutlineThickness,a.shadow,b*a.shadowBlur,i,b*this.padding,b*this.bgRadius),a.outlineMethod=='colour'?this.oimage=d.Create(this.outline.colour,this.bgColour,this.outline.colour,b*this.bgOutlineThickness,a.shadow,b*a.shadowBlur,i,b*this.padding,b*this.bgRadius):a.outlineMethod=='size'&&(f=ae(this.text,this.textFont,this.textHeight+a.outlineIncrease),k=f.max.y+f.min.y,h=b*(this.textHeight+a.outlineIncrease)+'px '+this.textFont,e.font=h,g=this.MeasureText(e),d=new O(this.text,h,g+b,b*k+b,g,this.line_widths,a.textAlign,a.textVAlign,b),this.image&&d.SetImage(this.image,this.iw+a.outlineIncrease,this.ih+a.outlineIncrease,a.imagePosition,a.imagePadding,a.imageAlign,a.imageVAlign,a.imageScale),this.oimage=d.Create(this.colour,this.bgColour,this.bgOutline,b*this.bgOutlineThickness,a.shadow,b*a.shadowBlur,i,b*this.padding,b*this.bgRadius),this.oscale=this.oimage.width/c.width,a.outlineIncrease>0?c=H(c,this.oimage.width,this.oimage.height):this.oimage=H(this.oimage,c.width,c.height)),c&&(this.fimage=c,l=this.fimage.width/b,j=this.fimage.height/b),this.SetDraw(a),a.txtOpt=!!this.fimage),this.h=j,this.w=l},d.SetFont=function(a,b,c,d){this.textFont=a,this.colour=b,this.bgColour=c,this.bgOutline=d,this.Measure(this.tc.ctxt,this.tc)},d.SetWeight=function(c){var b=this.tc,e=b.weightMode.split(/[, ]/),d,a,f=c.length;if(!this.HasText())return;this.weighted=!0;for(a=0;a<f;++a)d=e[a]||'size','both'==d?(this.Weight(c[a],b.ctxt,b,'size',b.min_weight[a],b.max_weight[a],a),this.Weight(c[a],b.ctxt,b,'colour',b.min_weight[a],b.max_weight[a],a)):this.Weight(c[a],b.ctxt,b,d,b.min_weight[a],b.max_weight[a],a);this.Measure(b.ctxt,b)},d.Weight=function(b,i,a,d,f,h,e){b=isNaN(b)?1:b;var c=(b-f)/(h-f);'colour'==d?this.colour=L(a,c,e):'bgcolour'==d?this.bgColour=L(a,c,e):'bgoutline'==d?this.bgOutline=L(a,c,e):'outline'==d?this.outline.colour=L(a,c,e):'size'==d&&(a.weightSizeMin>0&&a.weightSizeMax>a.weightSizeMin?this.textHeight=a.weightSize*(a.weightSizeMin+(a.weightSizeMax-a.weightSizeMin)*c):this.textHeight=g(1,b*a.weightSize))},d.SetShadowColourFixed=function(a,b,c){a.shadowColor=b},d.SetShadowColourAlpha=function(a,b,c){a.shadowColor=aE(b,c)},d.DrawText=function(a,h,i){var e=this.tc,g=this.x,f=this.y,c=this.sc,b,d;a.globalAlpha=this.alpha,a.fillStyle=this.colour,e.shadow&&this.SetShadowColour(a,e.shadow,this.alpha),a.font=this.font,g+=h/c,f+=i/c-this.h/2;for(b=0;b<this.text.length;++b)d=g,'right'==e.textAlign?d+=this.w/2-this.line_widths[b]:'centre'==e.textAlign?d-=this.line_widths[b]/2:d-=this.w/2,a.setTransform(c,0,0,c,c*d,c*f),a.fillText(this.text[b],0,0),f+=this.textHeight},d.DrawImage=function(b,i,k,l){var e=this.x,f=this.y,a=this.sc,j=l||this.fimage,c=this.w,d=this.h,g=this.alpha,h=this.shadow;b.globalAlpha=g,h&&this.SetShadowColour(b,h,g),e+=i/a-c/2,f+=k/a-d/2,b.setTransform(a,0,0,a,a*e,a*f),b.drawImage(j,0,0,c,d)},d.DrawImageIE=function(b,d,e){var c=this.fimage,a=this.sc,f=c.width=this.w*a,g=c.height=this.h*a,h=this.x*a+d-f/2,i=this.y*a+e-g/2;b.setTransform(1,0,0,1,0,0),b.globalAlpha=this.alpha,b.drawImage(c,h,i)},d.Calc=function(g,e){var a,b=this.tc,d=b.minBrightness,f=b.maxBrightness,c=b.max_radius;return a=g.xform(this.position),this.xformed=a,a=aI(b,a,b.stretchX,b.stretchY),this.x=a.x,this.y=a.y,this.z=a.z,this.sc=a.w,this.alpha=e*G(d+(f-d)*(c-this.z)/(2*c),0,1),this.xformed},d.UpdateActive=function(h,e,f){var a=this.outline,b=this.w,c=this.h,d=this.x-b/2,g=this.y-c/2;return a.Update(d,g,b,c,this.sc,this.z,e,f),a},d.CheckActive=function(a,d,e){var b=this.tc,c=this.UpdateActive(a,d,e);return c.Active(a,b.mx,b.my)?c:null},d.Clicked=function(f){var b=this.a,a=b.target,d=b.href,e;if(a!=''&&a!='_self'){if(self.frames[a])self.frames[a].document.location=d;else{try{if(top.frames[a]){top.frames[a].document.location=d;return}}catch(a){}window.open(d,a)}return}if(c.createEvent){if(e=c.createEvent('MouseEvents'),e.initMouseEvent('click',1,1,window,0,0,0,0,0,0,0,0,0,0,null),!b.dispatchEvent(e))return}else if(b.fireEvent)if(!b.fireEvent('onclick'))return;c.location=d},d.StopAudio=function(){this.audio&&this.playing&&this.audio.pause(),this.stopped=1,this.playing=0},d.PlayAudio=function(){if(e==='off'||this.tc.audioOff)return;if(!e&&!ag())return;var a=this.tc.audio,c=this.tc.gain,d='suspended',b;if(this.audio)if(this.track||(this.track=e.createMediaElementSource(this.audio),this.gain=e.createGain(),this.track.connect(this.gain),this.gain.connect(e.destination)),a=this.audio,c=this.gain,!a.paused)return 1;if(a){if(e.state==d&&e.resume(),e.state==d)return;return c.gain.value=h(2,g(0,this.tc.audioVolume*1)),a.currentTime=0,this.stopped=0,b=a.play(),b!==void 0&&b.then(a=>{this.stopped?this.audio.pause():this.playing=1}),1}};function a(f,o,k){var d,i,b=c.getElementById(f),l=['id','class','innerHTML'];if(!b)throw 0;if(n(window.G_vmlCanvasManager)&&(b=window.G_vmlCanvasManager.initElement(b),this.ie=parseFloat(navigator.appVersion.split('MSIE')[1])),b&&(!b.getContext||!b.getContext('2d').fillText)){i=c.createElement('DIV');for(d=0;d<l.length;++d)i[l[d]]=b[l[d]];throw b.parentNode.insertBefore(i,b),b.parentNode.removeChild(b),0}for(d in a.options)this[d]=k&&n(k[d])?k[d]:n(a[d])?a[d]:a.options[d];if(this.canvas=b,this.ctxt=b.getContext('2d'),this.z1=250/g(this.depth,.001),this.z2=this.z1/this.zoom,this.radius=h(b.height,b.width)*.0075,this.max_radius=100,this.max_weight=[],this.min_weight=[],this.textFont=this.textFont&&Q(this.textFont),this.textHeight*=1,this.imageRadius=this.imageRadius.toString(),this.pulsateTo=G(this.pulsateTo,0,1),this.minBrightness=G(this.minBrightness,0,1),this.maxBrightness=G(this.maxBrightness,this.minBrightness,1),this.ctxt.textBaseline='top',this.lx=(this.lock+'').indexOf('x')+1,this.ly=(this.lock+'').indexOf('y')+1,this.frozen=this.dx=this.dy=this.fixedAnim=this.touchState=0,this.fixedAlpha=1,this.source=o||f,this.repeatTags=h(64,~~this.repeatTags),this.minTags=h(200,~~this.minTags),~~this.scrollPause>0?a.scrollPause=~~this.scrollPause:this.scrollPause=0,this.minTags>0&&this.repeatTags<1&&(d=this.GetTags().length)&&(this.repeatTags=af(this.minTags/d)-1),this.transform=m.Identity(),this.startTime=this.time=q(),this.mx=this.my=-1,this.centreImage&&av(this),this.Animate=this.dragControl?this.AnimateDrag:this.AnimatePosition,this.animTiming=typeof a[this.animTiming]=='function'?a[this.animTiming]:a.Smooth,this.shadowBlur||this.shadowOffset[0]||this.shadowOffset[1]?(this.ctxt.shadowColor=this.shadow,this.shadow=this.ctxt.shadowColor,this.shadowAlpha=aD()):delete this.shadow,this.activeAudio===!1?e='off':this.activeAudio&&this.LoadAudio(),this.Load(),o&&this.hideTags&&function(b){a.loaded?b.HideTags():t('load',function(){b.HideTags()},window)}(this),this.yaw=this.initial?this.initial[0]*this.maxSpeed:0,this.pitch=this.initial?this.initial[1]*this.maxSpeed:0,this.tooltip?(this.ctitle=b.title,b.title='',this.tooltip=='native'?this.Tooltip=this.TooltipNative:(this.Tooltip=this.TooltipDiv,this.ttdiv||(this.ttdiv=c.createElement('div'),this.ttdiv.className=this.tooltipClass,this.ttdiv.style.position='absolute',this.ttdiv.style.zIndex=b.style.zIndex+1,t('mouseover',function(a){a.target.style.display='none'},this.ttdiv),c.body.appendChild(this.ttdiv)))):this.Tooltip=this.TooltipNone,!this.noMouse&&!j[f]){j[f]=[['mousemove',ad],['mouseout',an],['mouseup',aq],['touchstart',ar],['touchend',ac],['touchcancel',ac],['touchmove',au]],this.dragControl&&(j[f].push(['mousedown',ap]),j[f].push(['selectstart',x])),this.wheelZoom&&(j[f].push(['mousewheel',ab]),j[f].push(['DOMMouseScroll',ab])),this.scrollPause&&j[f].push(['scroll',aw,window]);for(d=0;d<j[f].length;++d)i=j[f][d],t(i[0],i[1],i[2]?i[2]:b)}a.started||(a.NextFrame=window.requestAnimationFrame?az:aA,a.interval=this.interval,a.NextFrame(this.interval),a.started=1)}b=a.prototype,b.SourceElements=function(){return c.querySelectorAll?c.querySelectorAll('#'+this.source):[c.getElementById(this.source)]},b.HideTags=function(){var b=this.SourceElements(),a;for(a=0;a<b.length;++a)b[a].style.display='none'},b.GetTags=function(){var e=this.SourceElements(),c,f=[],a,b,d;for(d=0;d<=this.repeatTags;++d)for(a=0;a<e.length;++a){c=e[a].getElementsByTagName('a');for(b=0;b<c.length;++b)f.push(c[b])}return f},b.Message=function(j){var g=[],a,f,b=j.split(''),d,e,h,i;for(a=0;a<b.length;++a)b[a]!=' '&&(f=a-b.length/2,d=c.createElement('A'),d.href='#',d.innerText=b[a],h=100*o(f/9),i=-100*l(f/9),e=new J(this,b[a],d,[h,0,i],2,18,'#000','#fff',0,0,0,'monospace',2,b[a]),e.Init(),g.push(e));return g},b.AddAudio=function(b,c){if(e==='off')return;var a=b.getElementsByTagName('audio');a.length&&(c.SetAudio(a[0]),this.hasAudio=1)},b.CreateTag=function(b){var e,c,a,f,d,g,h,j,k=[0,0,0],l;if('text'!=this.imageMode)if(e=b.getElementsByTagName('img'),e.length)if(c=new Image,c.src=e[0].src,!this.imageMode)return a=new J(this,\\\"\\\",b,k,0,0),a.SetImage(c),A(c,e[0],e[1],a,this),this.AddAudio(b,a),a;if('image'!=this.imageMode&&(d=new V(b),f=d.Lines(),d.Empty()?d=null:(g=this.textFont||Q(i(b,'font-family')),this.splitWidth&&(f=d.SplitWidth(this.splitWidth,this.ctxt,g,this.textHeight)),h=this.bgColour=='tag'?i(b,'background-color'):this.bgColour,j=this.bgOutline=='tag'?i(b,'color'):this.bgOutline)),d||c)return a=new J(this,f,b,k,2,this.textHeight+2,this.textColour||i(b,'color'),h,this.bgRadius,j,this.bgOutlineThickness,g,this.padding,d&&d.original),c?(a.SetImage(c),A(c,e[0],e[1],a,this)):a.Init(),this.AddAudio(b,a),a},b.UpdateTag=function(a,b){var c=this.textColour||i(b,'color'),d=this.textFont||Q(i(b,'font-family')),e=this.bgColour=='tag'?i(b,'background-color'):this.bgColour,f=this.bgOutline=='tag'?i(b,'color'):this.bgOutline;a.a=b,a.title=b.title,(a.colour!=c||a.textFont!=d||a.bgColour!=e||a.bgOutline!=f)&&a.SetFont(d,c,e,f)},b.Weight=function(d){var f=d.length,c,b,a,e=[],g,h=this.weightFrom?this.weightFrom.split(/[, ]/):[null],i=h.length;for(b=0;b<f;++b){e[b]=[];for(a=0;a<i;++a)c=aj(d[b].a,h[a],this.textHeight),(!this.max_weight[a]||c>this.max_weight[a])&&(this.max_weight[a]=c),(!this.min_weight[a]||c<this.min_weight[a])&&(this.min_weight[a]=c),e[b][a]=c}for(a=0;a<i;++a)this.max_weight[a]>this.min_weight[a]&&(g=1);if(g)for(b=0;b<f;++b)d[b].SetWeight(e[b])},b.Load=function(){var c=this.GetTags(),b=[],d,k,l,h,i,j,f,a,e=[],m={sphere:aB,vcylinder:ax,hcylinder:aH,vring:aG,hring:aF};if(c.length){e.length=c.length;for(a=0;a<c.length;++a)e[a]=a;this.shuffleTags&&ai(e),h=100*this.radiusX,i=100*this.radiusY,j=100*this.radiusZ,this.max_radius=g(h,g(i,j));for(a=0;a<c.length;++a)k=this.CreateTag(c[e[a]]),k&&b.push(k);this.weight&&this.Weight(b,!0),this.shapeArgs?this.shapeArgs[0]=b.length:(l=this.shape.toString().split(/[(),]/),d=l.shift(),typeof window[d]=='function'?this.shape=window[d]:this.shape=m[d]||m.sphere,this.shapeArgs=[b.length,h,i,j].concat(l)),f=this.shape.apply(this,this.shapeArgs),this.listLength=b.length;for(a=0;a<b.length;++a)b[a].position=new s(f[a][0],f[a][1],f[a][2])}this.noTagsMessage&&!b.length&&(a=this.imageMode&&this.imageMode!='both'?this.imageMode+' ':'',b=this.Message('No '+a+'tags')),this.taglist=b},b.Update=function(){var e=this.GetTags(),d=[],j=this.taglist,k,f=[],c=[],h,i,g,a,b;if(!this.shapeArgs)return this.Load();if(e.length){g=this.listLength=e.length,i=j.length;for(a=0;a<i;++a)d.push(j[a]),c.push(a);for(a=0;a<g;++a){for(b=0,k=0;b<i;++b)j[b].EqualTo(e[a])&&(this.UpdateTag(d[b],e[a]),k=c[b]=-1);k||f.push(a)}for(a=0,b=0;a<i;++a)c[b]==-1?c.splice(b,1):++b;if(c.length){for(ai(c);c.length&&f.length;)a=c.shift(),b=f.shift(),d[a]=this.CreateTag(e[b]);for(c.sort(function(a,b){return a-b});c.length;)d.splice(c.pop(),1)}for(b=d.length/(f.length+1),a=0;f.length;)d.splice(af(++a*b),0,this.CreateTag(e[f.shift()]));this.shapeArgs[0]=g=d.length,h=this.shape.apply(this,this.shapeArgs);for(a=0;a<g;++a)d[a].position=new s(h[a][0],h[a][1],h[a][2]);this.weight&&this.Weight(d)}this.taglist=d},b.SetShadow=function(a){a.shadowBlur=this.shadowBlur,a.shadowOffsetX=this.shadowOffset[0],a.shadowOffsetY=this.shadowOffset[1]},b.LoadAudio=function(){if(!e&&!ag())return;this.audio=c.createElement('audio'),this.audio.src=this.activeAudio,this.track=e.createMediaElementSource(this.audio),this.gain=e.createGain(),this.track.connect(this.gain),this.gain.connect(e.destination),this.hasAudio=1,P=function(a){e.resume(),c.removeEventListener('click',P)},c.addEventListener('click',P)},b.ShowAudioIcon=function(){var a=this.audioIconSize,c=this.canvas,d=this.ctxt,k=c.width-a-3,f=c.height-a-3,g=this.audioIconThickness,h='#000',i='#fff',j=this.audioIconDark,b=this.audioOff,l='suspended';if(!e)return;b||(b=e.state===l),this.audioIcon&&this.hasAudio&&($(b,d,a,k,f,g+1,j?i:h),$(b,d,a,k,f,g,j?h:i))},b.CheckAudioIcon=function(){var a=this.audioIconSize,b=this.canvas,c=this.audioIconThickness/2,d=b.width-a-3-c,e=b.height-a-3-c;if(this.audioIcon&&this.mx>=d&&this.my>=e)return!0},b.ToggleAudio=function(){var a=this.audioOff||e&&e.state==='suspended';a||this.currentAudio&&this.currentAudio.StopAudio(),this.audioOff=!a},b.Draw=function(s){if(this.paused)return;var l=this.canvas,i=l.width,j=l.height,q=0,p=(s-this.time)*a.interval/1e3,h=i/2+this.offsetX,g=j/2+this.offsetY,d=this.ctxt,b,f,c,o=-1,e=this.taglist,k=e.length,t=this.active&&this.active.tag,m='',u=this.frontSelect,r=this.centreFunc==x,n;if(this.time=s,this.frozen&&this.drawn)return this.Animate(i,j,p);n=this.AnimateFixed(),d.setTransform(1,0,0,1,0,0);for(c=0;c<k;++c)e[c].Calc(this.transform,this.fixedAlpha);if(e=ak(e,function(a,b){return b.z-a.z}),n&&this.fixedAnim.active)b=this.fixedAnim.tag.UpdateActive(d,h,g);else if(this.active=null,this.CheckAudioIcon())m='pointer';else{for(c=0;c<k;++c)f=this.mx>=0&&this.my>=0&&this.taglist[c].CheckActive(d,h,g),f&&f.sc>q&&(!u||f.z<=0)&&(b=f,o=c,b.tag=this.taglist[c],q=f.sc);this.active=b}this.txtOpt||this.shadow&&this.SetShadow(d),d.clearRect(0,0,i,j);for(c=0;c<k;++c){if(!r&&e[c].z<=0){try{this.centreFunc(d,i,j,h,g)}catch(a){alert(a),this.centreFunc=x}r=!0}b&&b.tag==e[c]&&b.PreDraw(d,e[c],h,g)||e[c].Draw(d,h,g),b&&b.tag==e[c]&&b.PostDraw(d)}this.freezeActive&&b?this.Freeze():(this.UnFreeze(),this.drawn=k==this.listLength),this.fixedCallback&&(this.fixedCallback(this,this.fixedCallbackTag),this.fixedCallback=null),n||this.Animate(i,j,p),b&&(b.LastDraw(d),b.tag!=t&&(this.currentAudio&&this.currentAudio!=b.tag&&this.currentAudio.StopAudio(),b.tag.PlayAudio()&&(this.currentAudio=b.tag)),m=this.activeCursor),l.style.cursor=m,this.Tooltip(b,this.taglist[o]),this.audioIcon&&this.ShowAudioIcon()},b.TooltipNone=function(){},b.TooltipNative=function(b,a){b?this.canvas.title=a&&a.title?a.title:'':this.canvas.title=this.ctitle},b.SetTTDiv=function(c,d){var a=this,b=a.ttdiv.style;c!=a.ttdiv.innerHTML&&(b.display='none'),a.ttdiv.innerHTML=c,d&&(d.title=a.ttdiv.innerHTML),b.display=='none'&&!a.tttimer&&(a.tttimer=setTimeout(function(){var c=X(a.canvas.id);b.display='block',b.left=c.x+a.mx+'px',b.top=c.y+a.my+24+'px',a.tttimer=null},a.tooltipDelay))},b.TooltipDiv=function(b,a){b&&a&&a.title?this.SetTTDiv(a.title,a):!b&&this.mx!=-1&&this.my!=-1&&this.ctitle.length?this.SetTTDiv(this.ctitle):this.ttdiv.style.display='none'},b.Transform=function(c,a,b){if(a||b){var d=o(a),e=l(a),f=o(b),g=l(b),h=new m([g,0,f,0,1,0,-f,0,g]),i=new m([1,0,0,0,e,-d,0,d,e]);c.transform=c.transform.mul(h.mul(i))}},b.AnimateFixed=function(){var a,b,c,d,e;return!!(this.fadeIn&&(b=q()-this.startTime,b>=this.fadeIn?(this.fadeIn=0,this.fixedAlpha=1):this.fixedAlpha=b/this.fadeIn),this.fixedAnim)&&(this.fixedAnim.transform||(this.fixedAnim.transform=this.transform),a=this.fixedAnim,b=q()-a.t0,c=a.angle,d,e=this.animTiming(a.t,b),this.transform=a.transform,b>=a.t?(this.fixedCallbackTag=a.tag,this.fixedCallback=a.cb,this.fixedAnim=this.yaw=this.pitch=0):c*=e,d=m.Rotation(c,a.axis),this.transform=this.transform.mul(d),this.fixedAnim!=0)},b.AnimatePosition=function(g,h,f){var a=this,d=a.mx,e=a.my,b,c;!a.frozen&&d>=0&&e>=0&&d<g&&e<h?(b=a.maxSpeed,c=a.reverse?-1:1,a.lx||(a.yaw=(d*2*b/g-b)*c*f),a.ly||(a.pitch=(e*2*b/h-b)*-c*f),a.initial=null):a.initial||(a.frozen&&!a.freezeDecel?a.yaw=a.pitch=0:a.Decel(a)),this.Transform(a,a.pitch,a.yaw)},b.AnimateDrag=function(d,e,c){var a=this,b=100*c*a.maxSpeed/a.max_radius/a.zoom;a.dx||a.dy?(a.lx||(a.yaw=a.dx*b/a.stretchX),a.ly||(a.pitch=a.dy*-b/a.stretchY),a.dx=a.dy=0,a.initial=null):a.initial||a.Decel(a),this.Transform(a,a.pitch,a.yaw)},b.Freeze=function(){this.frozen||(this.preFreeze=[this.yaw,this.pitch],this.frozen=1,this.drawn=0)},b.UnFreeze=function(){this.frozen&&(this.yaw=this.preFreeze[0],this.pitch=this.preFreeze[1],this.frozen=0)},b.Decel=function(a){var b=a.minSpeed,c=p(a.yaw),d=p(a.pitch);!a.lx&&c>b&&(a.yaw=c>a.z0?a.yaw*a.decel:0),!a.ly&&d>b&&(a.pitch=d>a.z0?a.pitch*a.decel:0)},b.Zoom=function(a){this.z2=this.z1*(1/a),this.drawn=0},b.Clicked=function(b){if(this.CheckAudioIcon()){this.ToggleAudio();return}var a=this.active;try{a&&a.tag&&(this.clickToFront===!1||this.clickToFront===null?a.tag.Clicked(b):this.TagToFront(a.tag,this.clickToFront,function(){a.tag.Clicked(b)},!0))}catch(a){}},b.Wheel=function(a){var b=this.zoom+this.zoomStep*(a?1:-1);this.zoom=h(this.zoomMax,g(this.zoomMin,b)),this.Zoom(this.zoom)},b.BeginDrag=function(a){this.down=K(a,this.canvas),a.cancelBubble=!0,a.returnValue=!1,a.preventDefault&&a.preventDefault()},b.Drag=function(e,a){if(this.dragControl&&this.down){var d=this.dragThreshold*this.dragThreshold,b=a.x-this.down.x,c=a.y-this.down.y;(this.dragging||b*b+c*c>d)&&(this.dx=b,this.dy=c,this.dragging=1,this.down=a)}return this.dragging},b.EndDrag=function(){var a=this.dragging;return this.dragging=this.down=null,a};function ah(a){var b=a.targetTouches[0],c=a.targetTouches[1];return E(w(c.pageX-b.pageX,2)+w(c.pageY-b.pageY,2))}b.BeginPinch=function(a){this.pinched=[ah(a),this.zoom],a.preventDefault&&a.preventDefault()},b.Pinch=function(d){var b,c,a=this.pinched;if(!a)return;c=ah(d),b=a[1]*c/a[0],this.zoom=h(this.zoomMax,g(this.zoomMin,b)),this.Zoom(this.zoom)},b.EndPinch=function(a){this.pinched=null},b.Pause=function(){this.paused=!0},b.Resume=function(){this.paused=!1},b.SetSpeed=function(a){this.initial=a,this.yaw=a[0]*this.maxSpeed,this.pitch=a[1]*this.maxSpeed},b.FindTag=function(a){if(!n(a))return null;if(n(a.index)&&(a=a.index),!B(a))return this.taglist[a];var c,d,b;n(a.id)?(c='id',d=a.id):n(a.text)&&(c='innerText',d=a.text);for(b=0;b<this.taglist.length;++b)if(this.taglist[b].a[c]==d)return this.taglist[b]},b.RotateTag=function(a,h,i,j,f,g){var b=a.Calc(this.transform,1),c=new s(b.x,b.y,b.z),d=ay(i,h),e=c.angle(d),k=c.cross(d).unit();e==0?(this.fixedCallbackTag=a,this.fixedCallback=f):this.fixedAnim={angle:-e,axis:k,t:j,t0:q(),cb:f,tag:a,active:g}},b.TagToFront=function(a,b,c,d){this.RotateTag(a,0,0,b,c,d)},b.Volume=function(a){this.audioVolume=a*1},a.Start=function(b,c,d){a.Delete(b),a.tc[b]=new a(b,c,d)};function N(c,b){a.tc[b]&&a.tc[b][c]()}a.Linear=function(a,b){return b/a},a.Smooth=function(a,b){return.5-l(b*Math.PI/a)/2},a.Pause=function(a){N('Pause',a)},a.Resume=function(a){N('Resume',a)},a.Reload=function(a){N('Load',a)},a.Update=function(a){N('Update',a)},a.SetSpeed=function(c,b){return!!(B(b)&&a.tc[c]&&!isNaN(b[0])&&!isNaN(b[1]))&&(a.tc[c].SetSpeed(b),!0)},a.TagToFront=function(c,b){return!!B(b)&&(b.lat=b.lng=0,a.RotateTag(c,b))},a.RotateTag=function(c,b){if(B(b)&&a.tc[c]){isNaN(b.time)&&(b.time=500);var d=a.tc[c].FindTag(b);if(d)return a.tc[c].RotateTag(d,b.lat,b.lng,b.time,b.callback,b.active),!0}return!1},a.Delete=function(b){var d,e;if(j[b])if(e=c.getElementById(b),e)for(d=0;d<j[b].length;++d)am(j[b][d][0],j[b][d][1],e);delete j[b],delete a.tc[b]},a.tc={},a.options={z1:2e4,z2:2e4,z0:2e-4,freezeActive:!1,freezeDecel:!1,activeCursor:'pointer',pulsateTo:1,pulsateTime:3,reverse:!1,depth:.5,maxSpeed:.05,minSpeed:0,decel:.95,interval:20,minBrightness:.1,maxBrightness:1,outlineColour:'#ffff99',outlineThickness:2,outlineOffset:5,outlineMethod:'outline',outlineRadius:0,textColour:'#ff99ff',textHeight:15,textFont:'Helvetica, Arial, sans-serif',shadow:'#000',shadowBlur:0,shadowOffset:[0,0],initial:null,hideTags:!0,zoom:1,weight:!1,weightMode:'size',weightFrom:null,weightSize:1,weightSizeMin:null,weightSizeMax:null,weightGradient:{0:'#f00',0.33:'#ff0',0.66:'#0f0',1:'#00f'},txtOpt:!0,txtScale:2,frontSelect:!1,wheelZoom:!0,zoomMin:.3,zoomMax:3,zoomStep:.05,shape:'sphere',lock:null,tooltip:null,tooltipDelay:300,tooltipClass:'tctooltip',radiusX:1,radiusY:1,radiusZ:1,stretchX:1,stretchY:1,offsetX:0,offsetY:0,shuffleTags:!1,noSelect:!1,noMouse:!1,imageScale:1,paused:!1,dragControl:!1,dragThreshold:4,centreFunc:x,splitWidth:0,animTiming:'Smooth',clickToFront:!1,fadeIn:0,padding:0,bgColour:null,bgRadius:0,bgOutline:null,bgOutlineThickness:0,outlineIncrease:4,textAlign:'centre',textVAlign:'middle',imageMode:null,imagePosition:null,imagePadding:2,imageAlign:'centre',imageVAlign:'middle',noTagsMessage:!0,centreImage:null,pinchZoom:!1,repeatTags:0,minTags:0,imageRadius:0,scrollPause:!1,outlineDash:0,outlineDashSpace:0,outlineDashSpeed:1,activeAudio:'',audioVolume:1,audioIcon:1,audioIconSize:20,audioIconThickness:2,audioIconDark:0,altImage:0};for(r in a.options)a[r]=a.options[r];window.TagCanvas=a,t('load',function(){a.loaded=1},window)})()\";\n\nvar s = function s() {\n  return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n};\n\nvar guid = function guid() {\n  return \"\" + s() + s() + \"-\" + s() + \"-\" + s() + \"-\" + s() + \"-\" + s() + s() + s();\n};\n\nvar UseInViewport = function UseInViewport(_ref) {\n  var cb = _ref.cb,\n      children = _ref.children;\n  var ref = react__WEBPACK_IMPORTED_MODULE_0___default().useRef(null);\n  react__WEBPACK_IMPORTED_MODULE_0___default().useEffect(function () {\n    // https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/IntersectionObserver\n    var options = {\n      root: null,\n      rootMargin: '0px',\n      threshold: 0.1\n    };\n\n    var wrappedCb = function wrappedCb(entries) {\n      cb(entries.some(function (e) {\n        return e.isIntersecting;\n      }));\n    };\n\n    var observer = new IntersectionObserver(wrappedCb, options);\n\n    if (ref != null && ref.current) {\n      observer.observe(ref.current);\n    }\n\n    return function () {\n      observer.disconnect();\n    };\n  }, [cb]);\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    ref: ref\n  }, children);\n};\n\nvar isScriptLoaded = false;\n\nvar tr = function tr(fn) {\n  try {\n    fn();\n  } catch (e) {\n    try {\n      fn();\n    } catch (e) {}\n  }\n};\n\nvar CloudWrapped = function CloudWrapped(_ref) {\n  var _ref$options = _ref.options,\n      options = _ref$options === void 0 ? {} : _ref$options,\n      _ref$containerProps = _ref.containerProps,\n      containerProps = _ref$containerProps === void 0 ? {} : _ref$containerProps,\n      _ref$canvasProps = _ref.canvasProps,\n      canvasProps = _ref$canvasProps === void 0 ? {} : _ref$canvasProps,\n      children = _ref.children,\n      _ref$id = _ref.id,\n      id = _ref$id === void 0 ? guid() : _ref$id;\n  var state = react__WEBPACK_IMPORTED_MODULE_0___default().useRef({\n    canvasContainerId: 'canvas-container-' + id,\n    canvasId: 'canvas-' + id,\n    hasStarted: false\n  }).current;\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0___default().useState(false),\n      mounted = _React$useState[0],\n      setMounted = _React$useState[1];\n\n  react__WEBPACK_IMPORTED_MODULE_0___default().useEffect(function () {\n    setMounted(true);\n    return function () {\n      return tr(function () {\n        eval(\"TagCanvas.Delete('\" + state.canvasId + \"')\");\n      });\n    };\n  }, []);\n  var supportsTouch = typeof window !== 'undefined' ? 'ontouchstart' in window || navigator.maxTouchPoints : false;\n  var ops = JSON.stringify(_extends({\n    dragControl: supportsTouch ? true : false,\n    maxSpeed: supportsTouch ? 0.01 : 0.05,\n    textFont: null,\n    textColour: null\n  }, options)); // it will not load canvas animations when its outside the viewport\n\n  var onVisibilityChange = function onVisibilityChange(isVisible) {\n    return tr(function () {\n      if (isVisible && mounted) {\n        if (!isScriptLoaded) {\n          eval(tagCanvasString);\n          isScriptLoaded = true;\n        }\n\n        if (state.hasStarted) {\n          eval(\"TagCanvas.Resume('\" + state.canvasId + \"')\");\n        } else {\n          try {\n            eval(\"TagCanvas.Start('\" + state.canvasId + \"', null, \" + ops + \")\");\n            state.hasStarted = true;\n          } catch (e) {\n            var el = document.getElementById(state.canvasContainerId);\n\n            if (el) {\n              el.style.display = 'none';\n            }\n\n            throw e;\n          }\n        }\n      } else {\n        if (state.hasStarted) {\n          eval(\"TagCanvas.Pause('\" + state.canvasId + \"')\");\n        }\n      }\n    });\n  };\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(UseInViewport, {\n    cb: onVisibilityChange\n  }, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", Object.assign({\n    id: state.canvasContainerId\n  }, containerProps), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"canvas\", Object.assign({\n    id: state.canvasId,\n    style: {\n      width: '100%',\n      maxWidth: '70vh'\n    },\n    width: 1000,\n    height: 1000\n  }, canvasProps), children)));\n};\n\nvar Cloud = function Cloud(props) {\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(CloudWrapped, Object.assign({}, props, {\n    key: guid()\n  }));\n};\n\nvar addHash = function addHash(color) {\n  return color[0] === '#' ? color : \"#\" + color;\n};\n\n/**\r\n * Used to create a tag for the Cloud component\r\n * @param options.aProps Attributes passed to the underlying anchor element\r\n * @param options.bgHex The string hex of the background the icon will be rendered on. Ex: '#fff'. Used to determine if the min contrast ratio for the icons default color will be met\r\n * @param options.fallbackHex The color of the icon if the minContrastRatio is not met Ex: '#000'\r\n * @param options.icon The simple icon object you would like to render. Ex: import icon from \"simple-icons/icons/javascript\";\r\n * @param options.imgProps Attributes passes to the underlying img element\r\n * @param options.minContrastRatio 0 - 21 The min contrast ratio between icon and bgHex before the fallbackHex will be used for the icon color\r\n * @param options.size The size in px of the icon\r\n * @returns A component that can be rendered as a tag inside the Cloud component\r\n */\n\nvar renderSimpleIcon = function renderSimpleIcon(_ref) {\n  var _ref$aProps = _ref.aProps,\n      aProps = _ref$aProps === void 0 ? {} : _ref$aProps,\n      _ref$bgHex = _ref.bgHex,\n      bgHex = _ref$bgHex === void 0 ? '#fff' : _ref$bgHex,\n      _ref$fallbackHex = _ref.fallbackHex,\n      fallbackHex = _ref$fallbackHex === void 0 ? '#000' : _ref$fallbackHex,\n      icon = _ref.icon,\n      _ref$imgProps = _ref.imgProps,\n      imgProps = _ref$imgProps === void 0 ? {} : _ref$imgProps,\n      _ref$minContrastRatio = _ref.minContrastRatio,\n      minContrastRatio = _ref$minContrastRatio === void 0 ? 1 : _ref$minContrastRatio,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 42 : _ref$size;\n  var originalHex = addHash(icon.hex);\n  var bgHexHash = addHash(bgHex);\n  var fallbackHexHash = addHash(fallbackHex);\n  var isAccessibleColor = (0,_csstools_convert_colors__WEBPACK_IMPORTED_MODULE_1__.hex2contrast)(bgHexHash, originalHex) > minContrastRatio;\n  var rgb = isAccessibleColor ? (0,_csstools_convert_colors__WEBPACK_IMPORTED_MODULE_1__.hex2rgb)(originalHex) : (0,_csstools_convert_colors__WEBPACK_IMPORTED_MODULE_1__.hex2rgb)(fallbackHexHash);\n\n  var _rgb$map = rgb.map(function (percent) {\n    return Math.round(percent / 100 * 255);\n  }),\n      r = _rgb$map[0],\n      g = _rgb$map[1],\n      b = _rgb$map[2];\n\n  var imgSrc = \"data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" style=\\\"fill: rgb(\" + r + \", \" + g + \", \" + b + \");\\\" viewBox=\\\"0 0 24 24\\\" height=\\\"\" + size + \"px\\\" width=\\\"\" + size + \"px\\\"> <title>\" + icon.title + \"</title> <path d=\\\"\" + icon.path + \"\\\"></path> </svg>\";\n\n  var a = _extends({\n    key: guid(),\n    title: icon.title,\n    style: {\n      cursor: 'pointer'\n    }\n  }, aProps);\n\n  var i = _extends({\n    height: size,\n    width: size,\n    alt: icon.title,\n    src: imgSrc\n  }, imgProps);\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"a\", Object.assign({}, a), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"img\", Object.assign({}, i)));\n};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar runtime_1 = createCommonjsModule(function (module) {\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined$1; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined$1) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined$1;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined$1;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined$1;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined$1, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined$1;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined$1;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined$1;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined$1;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined$1;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   module.exports \n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n});\n\nvar svgToPath = function svgToPath(svg) {\n  var p0 = svg.indexOf('d=\"');\n  var p1 = svg.indexOf('\"', p0 + 3);\n  return svg.substring(p0 + 3, p1);\n};\n\nvar url = 'https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/';\nvar cache = {};\nvar fallback = '';\n\nvar getSlugPath = /*#__PURE__*/function () {\n  var _ref = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee(slug) {\n    var urlSlug, res, text, path;\n    return runtime_1.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (cache[slug]) {\n              _context.next = 15;\n              break;\n            }\n\n            _context.prev = 1;\n            urlSlug = \"\" + url + slug + \".svg\";\n            _context.next = 5;\n            return fetch(urlSlug, {\n              cache: 'force-cache'\n            });\n\n          case 5:\n            res = _context.sent;\n            _context.next = 8;\n            return res.text();\n\n          case 8:\n            text = _context.sent;\n            path = svgToPath(text);\n            cache[slug] = path;\n            _context.next = 15;\n            break;\n\n          case 13:\n            _context.prev = 13;\n            _context.t0 = _context[\"catch\"](1);\n\n          case 15:\n            if (!cache[slug]) {\n              _context.next = 17;\n              break;\n            }\n\n            return _context.abrupt(\"return\", cache[slug]);\n\n          case 17:\n            return _context.abrupt(\"return\", fallback);\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 13]]);\n  }));\n\n  return function getSlugPath(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getSlugsPath = /*#__PURE__*/function () {\n  var _ref2 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee2(slugs) {\n    var map;\n    return runtime_1.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            map = {};\n            slugs.forEach(function (s) {\n              map[s] = s;\n            });\n            _context2.next = 4;\n            return Promise.all(Object.keys(map).map(getSlugPath));\n\n          case 4:\n            return _context2.abrupt(\"return\", slugs.map(function (slug) {\n              var _cache$slug;\n\n              return {\n                slug: slug,\n                path: (_cache$slug = cache[slug]) != null ? _cache$slug : fallback\n              };\n            }));\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function getSlugsPath(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n// https://github.com/simple-icons/simple-icons/blob/develop/scripts/utils.js\nvar TITLE_TO_SLUG_REPLACEMENTS = {\n  '+': 'plus',\n  '.': 'dot',\n  '&': 'and',\n  đ: 'd',\n  ħ: 'h',\n  ı: 'i',\n  ĸ: 'k',\n  ŀ: 'l',\n  ł: 'l',\n  ß: 'ss',\n  ŧ: 't'\n};\nvar TITLE_TO_SLUG_CHARS_REGEX = /*#__PURE__*/RegExp(\"[\" + /*#__PURE__*/Object.keys(TITLE_TO_SLUG_REPLACEMENTS).join('') + \"]\", 'g');\nvar TITLE_TO_SLUG_RANGE_REGEX = /[^a-z0-9]/g;\nvar getSlug = function getSlug(_ref) {\n  var title = _ref.title;\n  return title.toLowerCase().replace(TITLE_TO_SLUG_CHARS_REGEX, function (_char) {\n    return TITLE_TO_SLUG_REPLACEMENTS[_char];\n  }).normalize('NFD').replace(TITLE_TO_SLUG_RANGE_REGEX, '');\n};\n\nvar url$1 = 'https://raw.githubusercontent.com/simple-icons/simple-icons/develop/_data/simple-icons.json';\nvar cache$1;\nvar fallback$1 = '#000';\n\nvar primeCache = /*#__PURE__*/function () {\n  var _ref = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee() {\n    var res, json;\n    return runtime_1.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (cache$1) {\n              _context.next = 14;\n              break;\n            }\n\n            _context.prev = 1;\n            _context.next = 4;\n            return fetch(url$1, {\n              cache: 'force-cache'\n            });\n\n          case 4:\n            res = _context.sent;\n            _context.next = 7;\n            return res.json();\n\n          case 7:\n            json = _context.sent;\n            cache$1 = {};\n            json.icons.forEach(function (icon) {\n              var _icon$hex;\n\n              var iconSlug = getSlug({\n                title: icon.title\n              });\n              cache$1[iconSlug] = {\n                hex: addHash((_icon$hex = icon.hex) != null ? _icon$hex : fallback$1),\n                title: icon.title,\n                slug: iconSlug\n              };\n            });\n            _context.next = 14;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](1);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 12]]);\n  }));\n\n  return function primeCache() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getSlugHexs = /*#__PURE__*/function () {\n  var _ref2 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee2(slugs) {\n    return runtime_1.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return primeCache();\n\n          case 2:\n            return _context2.abrupt(\"return\", {\n              hexs: slugs.map(function (slug) {\n                var _cache$slug$hex, _cache$slug, _cache$slug$title, _cache$slug2;\n\n                return {\n                  slug: slug,\n                  hex: cache$1 ? (_cache$slug$hex = (_cache$slug = cache$1[slug]) == null ? void 0 : _cache$slug.hex) != null ? _cache$slug$hex : fallback$1 : fallback$1,\n                  title: cache$1 ? (_cache$slug$title = (_cache$slug2 = cache$1[slug]) == null ? void 0 : _cache$slug2.title) != null ? _cache$slug$title : 'icon' : 'icon'\n                };\n              }),\n              cache: cache$1\n            });\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function getSlugHexs(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar fetchSimpleIcons = /*#__PURE__*/function () {\n  var _ref2 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee(_ref) {\n    var slugs, _yield$Promise$all, paths, _yield$Promise$all$, hexs, cache, map;\n\n    return runtime_1.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            slugs = _ref.slugs;\n            _context.next = 3;\n            return Promise.all([getSlugsPath(slugs), getSlugHexs(slugs)]);\n\n          case 3:\n            _yield$Promise$all = _context.sent;\n            paths = _yield$Promise$all[0];\n            _yield$Promise$all$ = _yield$Promise$all[1];\n            hexs = _yield$Promise$all$.hexs;\n            cache = _yield$Promise$all$.cache;\n            map = {};\n            hexs.forEach(function (hex) {\n              map[hex.slug] = hex;\n            });\n            paths.forEach(function (path) {\n              map[path.slug].path = path.path;\n            });\n            slugs.forEach(function (s) {\n              var o = map[s];\n\n              if (!o.hex || !o.path) {\n                if (true) {\n                  console.error(\"'react-icon-cloud/fetchSimpleIcons': the response of \" + o.slug + \" was malformed and it will be ignored.\");\n                }\n\n                delete map[s];\n              }\n            });\n            return _context.abrupt(\"return\", {\n              simpleIcons: map,\n              allIcon: cache\n            });\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetchSimpleIcons(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n\n//# sourceMappingURL=react-icon-cloud.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaWNvbi1jbG91ZC9kaXN0L3JlYWN0LWljb24tY2xvdWQuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMEI7QUFDdUM7O0FBRWpFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxnQkFBZ0IsdUdBQXVHLEtBQUssSUFBSSwyT0FBMk8scUNBQXFDLFFBQVEsTUFBTSw4RUFBOEUsY0FBYyw2QkFBNkIsY0FBYyxtQ0FBbUMsa0JBQWtCLDhCQUE4QixhQUFhLFNBQVMsYUFBYSwyQkFBMkIsaUJBQWlCLHNCQUFzQixRQUFRLElBQUksaUJBQWlCLG1CQUFtQixlQUFlLHlCQUF5QixFQUFFLG1EQUFtRCxjQUFjLHFEQUFxRCxlQUFlLFFBQVEsT0FBTyxTQUFTLDBCQUEwQiw2RkFBNkYsbVBBQW1QLDZIQUE2SCxPQUFPLHlCQUF5QixrQkFBa0IsMkJBQTJCLGtDQUFrQyxvREFBb0QsbUJBQW1CLHdDQUF3QyxxQkFBcUIsNEVBQTRFLG9CQUFvQixxQkFBcUIsb0JBQW9CLHlGQUF5RixtQkFBbUIsb0JBQW9CLDBDQUEwQyxpQkFBaUIsZ0NBQWdDLHFDQUFxQyxvQkFBb0IsY0FBYyxTQUFTLHFCQUFxQixVQUFVLHFCQUFxQixVQUFVLHNCQUFzQixvQ0FBb0Msa0NBQWtDLDBCQUEwQix3QkFBd0IsdUpBQXVKLG1CQUFtQiwyQkFBMkIsUUFBUSxLQUFLLFlBQVksS0FBSyw0RkFBNEYsZ0JBQWdCLHFCQUFxQixRQUFRLG1CQUFtQiwySUFBMkksdUJBQXVCLHlCQUF5QixtREFBbUQsUUFBUSxJQUFJLGlFQUFpRSxTQUFTLHdCQUF3QiwyQkFBMkIsbURBQW1ELFFBQVEsSUFBSSwwRUFBMEUsU0FBUyx5QkFBeUIsK0JBQStCLFFBQVEsSUFBSSw4REFBOEQsU0FBUyx1QkFBdUIsc0JBQXNCLHVCQUF1QixzQkFBc0IsdUJBQXVCLHdDQUF3Qyx1QkFBdUIsd0NBQXdDLGVBQWUsZ0JBQWdCLG9CQUFvQiw2QkFBNkIsaUNBQWlDLG9FQUFvRSxxQkFBcUIsaUJBQWlCLHVDQUF1QyxvWkFBb1osZ0JBQWdCLHlDQUF5QyxnQ0FBZ0MsOEJBQThCLGNBQWMsaUJBQWlCLDhMQUE4TCxxQkFBcUIsd0NBQXdDLG9DQUFvQyxrQ0FBa0Msa0JBQWtCLDBDQUEwQyw2REFBNkQsS0FBSyw4REFBOEQscUJBQXFCLFFBQVEsSUFBSSxtQkFBbUIsbUhBQW1ILG9DQUFvQyx3RkFBd0YsMklBQTJJLFFBQVEsV0FBVyxtR0FBbUcsMEJBQTBCLG1OQUFtTiw4QkFBOEIsa0lBQWtJLG1EQUFtRCw4SUFBOEkseUJBQXlCLFFBQVEsd0VBQXdFLHNDQUFzQywwREFBMEQsMDlCQUEwOUIsa0JBQWtCLGVBQWUsbUZBQW1GLGtCQUFrQixlQUFlLDhEQUE4RCxnQ0FBZ0MseURBQXlELCtjQUErYyw2QkFBNkIsT0FBTyx1QkFBdUIsaUNBQWlDLG1XQUFtVywyQkFBMkIsd0hBQXdILG9LQUFvSyw2QkFBNkIsRUFBRSxtQkFBbUIsd0ZBQXdGLGtCQUFrQiwwSkFBMEosS0FBSyxRQUFRLE1BQU0sWUFBWSxRQUFRLElBQUksWUFBWSxJQUFJLDZIQUE2SCxvRkFBb0YsY0FBYyxxRUFBcUUsa0JBQWtCLDZFQUE2RSxtQkFBbUIsZ0ZBQWdGLHNCQUFzQiwrQkFBK0IsMENBQTBDLGFBQWEsSUFBSSwwQ0FBMEMsYUFBYSxJQUFJLDZDQUE2QyxhQUFhLElBQUksd3RDQUF3dEMsZ0JBQWdCLHdEQUF3RCxpQ0FBaUMsRUFBRSxnSEFBZ0gsbUJBQW1CLFVBQVUsNkpBQTZKLGNBQWMsdUVBQXVFLGdCQUFnQiw0RUFBNEUsdUJBQXVCLHdCQUF3QixzRUFBc0UsNEJBQTRCLDhCQUE4QixlQUFlLHNEQUFzRCwyQ0FBMkMsZUFBZSxxQkFBcUIsNEVBQTRFLHFGQUFxRixlQUFlLHdDQUF3Qyw4Q0FBOEMsZUFBZSwwQ0FBMEMscUZBQXFGLGVBQWUsMEJBQTBCLDJRQUEyUSxlQUFlLHdCQUF3Qix3QkFBd0IscUJBQXFCLDRCQUE0QixNQUFNLE1BQU0sbUJBQW1CLE1BQU0sb0JBQW9CLGdCQUFnQixlQUFlLHFCQUFxQiw0RUFBNEUsbURBQW1ELHFCQUFxQixtRkFBbUYsTUFBTSxrQkFBa0IsV0FBVyxlQUFlLGVBQWUsZ0lBQWdJLGVBQWUsVUFBVSw0QkFBNEIsOEJBQThCLG9DQUFvQyxVQUFVLCtCQUErQixnQkFBZ0IsY0FBYyxPQUFPLGNBQWMsYUFBYSxpQ0FBaUMsd0JBQXdCLGNBQWMseUJBQXlCLGVBQWUsaUJBQWlCLGNBQWMsK01BQStNLE9BQU8sMEJBQTBCLHFCQUFxQixvQ0FBb0MsT0FBTyw2Q0FBNkMsY0FBYyxzRkFBc0YsaUNBQWlDLFlBQVksbUJBQW1CLG9DQUFvQyxTQUFTLHFCQUFxQixrQkFBa0Isc0NBQXNDLFFBQVEsSUFBSSx3TEFBd0wsaUVBQWlFLGdDQUFnQyxlQUFlLGlCQUFpQixRQUFRLG1CQUFtQixLQUFLLDRDQUE0QyxRQUFRLFdBQVcsNEhBQTRILDRCQUE0QixvQkFBb0IsZ0JBQWdCLHllQUF5ZSx3Q0FBd0MsT0FBTyxrTEFBa0wsbUJBQW1CLCtCQUErQixTQUFTLDRHQUE0RyxvQ0FBb0Msa0NBQWtDLDJFQUEyRSxvQkFBb0Isc0JBQXNCLHVFQUF1RSw4SEFBOEgscUNBQXFDLDZCQUE2QiwrQ0FBK0Msd0NBQXdDLHNCQUFzQixpTkFBaU4sMENBQTBDLDRNQUE0TSw4Q0FBOEMsZUFBZSx1REFBdUQsK0NBQStDLG9GQUFvRix5ZkFBeWYsaUNBQWlDLG9DQUFvQywrQ0FBK0MsbUNBQW1DLDZCQUE2Qiw2QkFBNkIsb0NBQW9DLGNBQWMsOE5BQThOLGlDQUFpQyxvR0FBb0csK0RBQStELDBCQUEwQiwrREFBK0QsNkNBQTZDLG1DQUFtQyx3Q0FBd0MsdWNBQXVjLGlDQUFpQyxjQUFjLDBNQUEwTSwrQkFBK0Isd0NBQXdDLHVCQUF1QixvQ0FBb0MsZ0hBQWdILHdCQUF3Qix5QkFBeUIsd0JBQXdCLCtCQUErQix1QkFBdUIsNEdBQTRHLDJCQUEyQiwrQkFBK0IsUUFBUSxJQUFJLHFFQUFxRSxTQUFTLHlCQUF5QixvRUFBb0UsdWxEQUF1bEQsNkJBQTZCLGtHQUFrRyx5QkFBeUIsMERBQTBELDBCQUEwQixpQkFBaUIsUUFBUSxJQUFJLHdPQUF3Tyx1QkFBdUIsa0NBQWtDLGVBQWUsa0JBQWtCLDhVQUE4VSx3Q0FBd0MsZ0JBQWdCLHdDQUF3QyxzQkFBc0IsNEJBQTRCLDhDQUE4QywrSUFBK0ksUUFBUSxtQkFBbUIsd01BQXdNLCtCQUErQiw4RkFBOEYsNEhBQTRILCtCQUErQixxR0FBcUcsd0VBQXdFLHNCQUFzQixtRUFBbUUsc0xBQXNMLGdDQUFnQywrREFBK0QsOENBQThDLCtCQUErQix5Q0FBeUMsb0NBQW9DLHVCQUF1QixtQ0FBbUMsc0JBQXNCLHFEQUFxRCxLQUFLLElBQUksa0JBQWtCLGtDQUFrQyxRQUFRLFVBQVUsaUJBQWlCLE9BQU8sa0JBQWtCLDJIQUEySCxzREFBc0QsYUFBYSx3QkFBd0IsMkVBQTJFLHdCQUF3QixzQ0FBc0Msb0JBQW9CLG1EQUFtRCxxTkFBcU4sTUFBTSw0Q0FBNEMscUhBQXFILCtDQUErQyxNQUFNLGtCQUFrQiwyREFBMkQsY0FBYywwTEFBMEwseUJBQXlCLFFBQVEsV0FBVyxvQkFBb0IsbUVBQW1FLHFFQUFxRSwwNUNBQTA1QywwQ0FBMEMsYUFBYSxTQUFTLHFiQUFxYiw4QkFBOEIsbUdBQW1HLDRVQUE0VSxRQUFRLGNBQWMsdUNBQXVDLDRIQUE0SCwwQ0FBMEMsOEZBQThGLHVCQUF1Qiw4QkFBOEIsUUFBUSxXQUFXLDhCQUE4QixzQkFBc0IseUNBQXlDLFFBQVEsbUJBQW1CLFlBQVksV0FBVyxLQUFLLGlDQUFpQyxRQUFRLFdBQVcsaUJBQWlCLFNBQVMsdUJBQXVCLG1DQUFtQyxRQUFRLFdBQVcsME1BQTBNLFNBQVMsMEJBQTBCLG9CQUFvQixzQ0FBc0MsNkNBQTZDLHlCQUF5QixnQ0FBZ0MsK01BQStNLDhnQkFBOGdCLDJCQUEyQiw0TEFBNEwsc0dBQXNHLHNCQUFzQiw4RkFBOEYsUUFBUSxJQUFJLEtBQUssUUFBUSxRQUFRLElBQUksd0xBQXdMLFFBQVEsSUFBSSxpREFBaUQsYUFBYSxJQUFJLHlCQUF5QixtQkFBbUIsa0RBQWtELHVEQUF1RCxhQUFhLGtCQUFrQixRQUFRLFdBQVcsV0FBVyw2R0FBNkcsUUFBUSxXQUFXLDJDQUEyQyxxVEFBcVQsUUFBUSxXQUFXLGlEQUFpRCw4SUFBOEkscUJBQXFCLCtEQUErRCxzQ0FBc0MsYUFBYSxzQ0FBc0MsUUFBUSxJQUFJLDJCQUEyQixRQUFRLElBQUksS0FBSyxZQUFZLElBQUksOERBQThELGFBQWEsWUFBWSxJQUFJLCtCQUErQixhQUFhLFVBQVUsbUJBQW1CLG1EQUFtRCx5QkFBeUIsV0FBVyxFQUFFLFNBQVMscUJBQXFCLGdDQUFnQyxTQUFTLG9EQUFvRCxxRUFBcUUsUUFBUSxJQUFJLGlEQUFpRCw0QkFBNEIsZUFBZSx5QkFBeUIsdUdBQXVHLHdCQUF3QixvQkFBb0IsNE9BQTRPLDRDQUE0QywrQkFBK0IsNEJBQTRCLCtLQUErSyxhQUFhLGdHQUFnRyw2QkFBNkIsb0dBQW9HLG1EQUFtRCwwQkFBMEIsOENBQThDLHFFQUFxRSxvQkFBb0Isc0JBQXNCLCtPQUErTyxrRUFBa0Usa0RBQWtELFFBQVEsSUFBSSw4Q0FBOEMsd0JBQXdCLGVBQWUsb0VBQW9FLDJEQUEyRCxLQUFLLFFBQVEsSUFBSSxpSUFBaUksY0FBYyxpRUFBaUUsUUFBUSxJQUFJLEtBQUssa0JBQWtCLElBQUksMkJBQTJCLFNBQVMsMkJBQTJCLEtBQUssc0ZBQXNGLHdjQUF3YywyQkFBMkIsK0JBQStCLHdFQUF3RSwwQkFBMEIsMkJBQTJCLDRKQUE0SixxQkFBcUIsNkVBQTZFLGtCQUFrQiw0QkFBNEIsbUpBQW1KLDZCQUE2QixTQUFTLDRGQUE0Rix1Q0FBdUMsMkJBQTJCLGNBQWMsb2VBQW9lLG1DQUFtQyw2QkFBNkIsK09BQStPLCtCQUErQixrREFBa0QsaUtBQWlLLHFCQUFxQiwrRUFBK0UsdUJBQXVCLHFGQUFxRixxQkFBcUIseUNBQXlDLDBGQUEwRixvQkFBb0IsbUNBQW1DLHVCQUF1QiwwQkFBMEIsbUJBQW1CLE9BQU8sa0JBQWtCLElBQUksZ0lBQWdJLGlCQUFpQixNQUFNLFdBQVcscUJBQXFCLHVDQUF1QyxpRUFBaUUseUJBQXlCLG1HQUFtRyxzQkFBc0IsZ0NBQWdDLGdGQUFnRiw4RUFBOEUscUJBQXFCLHNCQUFzQixvQkFBb0IsdUNBQXVDLGVBQWUsOENBQThDLG9EQUFvRCx5QkFBeUIsb0VBQW9FLHFCQUFxQix1QkFBdUIsYUFBYSx1RkFBdUYsd0JBQXdCLGtCQUFrQixvQkFBb0IsZUFBZSxxQkFBcUIsZUFBZSx3QkFBd0IseUVBQXlFLHVCQUF1QixxQkFBcUIsd0RBQXdELFVBQVUsNERBQTRELFFBQVEsc0JBQXNCLHNEQUFzRCxtQ0FBbUMsK0ZBQStGLG9FQUFvRSxnREFBZ0QsZ0NBQWdDLDRCQUE0QixzQkFBc0IscUJBQXFCLHlCQUF5QixrQ0FBa0MsZ0JBQWdCLHNCQUFzQix1QkFBdUIsV0FBVyx3QkFBd0IsMEJBQTBCLHFCQUFxQixhQUFhLHNCQUFzQixjQUFjLHNCQUFzQixZQUFZLHNCQUFzQixjQUFjLDBCQUEwQiw4RUFBOEUsNEJBQTRCLCtDQUErQywyQkFBMkIsa0JBQWtCLDRCQUE0Qix5QkFBeUIsMkVBQTJFLFNBQVMsc0JBQXNCLFFBQVEsMkNBQTJDLGNBQWMsZ0NBQWdDLDJCQUEyQixRQUFRLFlBQVksb2pCQUFvakIsMENBQTBDLDIyQkFBMjJCLHFDQUFxQyx1Q0FBdUMsV0FBVyxTQUFTOztBQUUvbXhDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxtREFBWTtBQUN4QixFQUFFLHNEQUFlO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxTQUFTLDBEQUFtQjtBQUM1QjtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSwyREFBMkQ7QUFDM0Q7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsY0FBYyxtREFBWTtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILHdCQUF3QixxREFBYztBQUN0QztBQUNBOztBQUVBLEVBQUUsc0RBQWU7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxhQUFhOztBQUVoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLFNBQVMsMERBQW1CO0FBQzVCO0FBQ0EsR0FBRyxFQUFFLDBEQUFtQjtBQUN4QjtBQUNBLEdBQUcsbUJBQW1CLDBEQUFtQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsU0FBUywwREFBbUIsK0JBQStCO0FBQzNEO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNFQUFZO0FBQ3RDLGdDQUFnQyxpRUFBTyxnQkFBZ0IsaUVBQU87O0FBRTlEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBLG1DQUFtQyxrR0FBa0c7O0FBRXJJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsU0FBUywwREFBbUIsc0JBQXNCLE1BQU0sMERBQW1CLHdCQUF3QjtBQUNuRzs7QUFFQTtBQUNBLG1CQUFtQixhQUFhO0FBQ2hDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLE1BQU07QUFDTixlQUFlO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBLHdDQUF3QyxXQUFXO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQ0FBcUMsY0FBYztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQ0FBaUMsbUJBQW1CO0FBQ3BEO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0Esa0JBQWtCOztBQUVsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZ0JBQWdCO0FBQ3pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUEsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0IsSUFBcUM7QUFDekQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRTZEO0FBQzlEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV3LXBvcnRmb2xpby8uL25vZGVfbW9kdWxlcy9yZWFjdC1pY29uLWNsb3VkL2Rpc3QvcmVhY3QtaWNvbi1jbG91ZC5lc20uanM/M2M5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaGV4MmNvbnRyYXN0LCBoZXgycmdiIH0gZnJvbSAnQGNzc3Rvb2xzL2NvbnZlcnQtY29sb3JzJztcblxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICB0cnkge1xuICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGluZm8uZG9uZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXG4gICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7XG4gICAgICB9XG5cbiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTAtMjAyMSBHcmFoYW0gQnJlYWNoXHJcbiAqXHJcbiAqIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG4gKlxyXG4gKiBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxyXG4gKiBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuICpcclxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbiAqIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG4gKi9cblxuLyoqXHJcbiAqIFRhZ0NhbnZhcyAyLjExXHJcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBwbGVhc2UgY29udGFjdCA8Z3JhaGFtQGdvYXQxMDAwLmNvbT5cclxuICovXG52YXIgdGFnQ2FudmFzU3RyaW5nID0gXCIoZnVuY3Rpb24oKXtcXFwidXNlIHN0cmljdFxcXCI7IHZhciByLEMscD1NYXRoLmFicyxvPU1hdGguc2luLGw9TWF0aC5jb3MsZz1NYXRoLm1heCxoPU1hdGgubWluLGFmPU1hdGguY2VpbCxFPU1hdGguc3FydCx3PU1hdGgucG93LEk9e30sRD17fSxSPXswOlxcXCIwLFxcXCIsMTpcXFwiMTcsXFxcIiwyOlxcXCIzNCxcXFwiLDM6XFxcIjUxLFxcXCIsNDpcXFwiNjgsXFxcIiw1OlxcXCI4NSxcXFwiLDY6XFxcIjEwMixcXFwiLDc6XFxcIjExOSxcXFwiLDg6XFxcIjEzNixcXFwiLDk6XFxcIjE1MyxcXFwiLGE6XFxcIjE3MCxcXFwiLEE6XFxcIjE3MCxcXFwiLGI6XFxcIjE4NyxcXFwiLEI6XFxcIjE4NyxcXFwiLGM6XFxcIjIwNCxcXFwiLEM6XFxcIjIwNCxcXFwiLGQ6XFxcIjIyMSxcXFwiLEQ6XFxcIjIyMSxcXFwiLGU6XFxcIjIzOCxcXFwiLEU6XFxcIjIzOCxcXFwiLGY6XFxcIjI1NSxcXFwiLEY6XFxcIjI1NSxcXFwifSxmLGQsYixULHosRixNLGM9ZG9jdW1lbnQsdixlLFAsaj17fTtmb3Iocj0wO3I8MjU2OysrcilDPXIudG9TdHJpbmcoMTYpLHI8MTYmJihDPScwJytDKSxEW0NdPURbQy50b1VwcGVyQ2FzZSgpXT1yLnRvU3RyaW5nKCkrJywnO2Z1bmN0aW9uIG4oYSl7cmV0dXJuIHR5cGVvZiBhIT0ndW5kZWZpbmVkJ31mdW5jdGlvbiBCKGEpe3JldHVybiB0eXBlb2YgYT09J29iamVjdCcmJmEhPW51bGx9ZnVuY3Rpb24gRyhhLGMsYil7cmV0dXJuIGlzTmFOKGEpP2I6aChiLGcoYyxhKSl9ZnVuY3Rpb24geCgpe3JldHVybiExfWZ1bmN0aW9uIHEoKXtyZXR1cm4obmV3IERhdGUpLnZhbHVlT2YoKX1mdW5jdGlvbiBhayhjLGQpe3ZhciBiPVtdLGU9Yy5sZW5ndGgsYTtmb3IoYT0wO2E8ZTsrK2EpYi5wdXNoKGNbYV0pO3JldHVybiBiLnNvcnQoZCksYn1mdW5jdGlvbiBhaShhKXtmb3IodmFyIGI9YS5sZW5ndGgtMSxkLGM7YjspYz1+fihNYXRoLnJhbmRvbSgpKmIpLGQ9YVtiXSxhW2JdPWFbY10sYVtjXT1kLC0tYn1mdW5jdGlvbiBhZygpe3ZhciBhPXdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQ7aWYoZT1uZXcgYSwhZSl7ZT0nb2ZmJztyZXR1cm59cmV0dXJuIGV9ZnVuY3Rpb24gJCh1LGEsdCxzLHIscSxwKXt2YXIgaj1zLGg9cixpPXQqLjAxLG49ODAqaSxtPTEwMCppLG89NDAqaSxsPTMwKmksYz1sLzIsYj1qK24sZj1iLW8saz1oK20sZD1rLWwsZz1oK2wsZT1oK20vMjtpZihhLnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksYS5zZXRMaW5lRGFzaChbXSksYS5nbG9iYWxBbHBoYT0xLGEuc3Ryb2tlU3R5bGU9cCxhLmxpbmVXaWR0aD1xLGEubGluZUpvaW49J3JvdW5kJyxhLmJlZ2luUGF0aCgpLGEubW92ZVRvKGYsZyksYS5saW5lVG8oZixkKSxhLm1vdmVUbyhiLGspLGEubGluZVRvKGYsZCksYS5saW5lVG8oaixkKSxhLmxpbmVUbyhqLGcpLGEubGluZVRvKGYsZyksYS5saW5lVG8oYixoKSx1KXthLmxpbmVUbyhiLGcpLGEubW92ZVRvKGIsZCksYS5saW5lVG8oYixrKSxhLm1vdmVUbyhiLWMsZS1jKSxhLmxpbmVUbyhiK2MsZStjKSxhLm1vdmVUbyhiK2MsZS1jKSxhLmxpbmVUbyhiLWMsZStjKSxhLnN0cm9rZSgpO3JldHVybn1hLmNsb3NlUGF0aCgpLGEuc3Ryb2tlKCl9ZnVuY3Rpb24gcyhhLGIsYyl7dGhpcy54PWEsdGhpcy55PWIsdGhpcy56PWN9ej1zLnByb3RvdHlwZSx6Lmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiBFKHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56KX0sei5kb3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMueCphLngrdGhpcy55KmEueSt0aGlzLnoqYS56fSx6LmNyb3NzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMueSphLnotdGhpcy56KmEueSxjPXRoaXMueiphLngtdGhpcy54KmEueixkPXRoaXMueCphLnktdGhpcy55KmEueDtyZXR1cm4gbmV3IHMoYixjLGQpfSx6LmFuZ2xlPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuZG90KGIpLGE7cmV0dXJuIGM9PTA/TWF0aC5QSS8yOihhPWMvKHRoaXMubGVuZ3RoKCkqYi5sZW5ndGgoKSksYT49MSk/MDphPD0tMT9NYXRoLlBJOk1hdGguYWNvcyhhKX0sei51bml0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5sZW5ndGgoKTtyZXR1cm4gbmV3IHModGhpcy54L2EsdGhpcy55L2EsdGhpcy56L2EpfTtmdW5jdGlvbiBheShiLGEpe2E9YSpNYXRoLlBJLzE4MCxiPWIqTWF0aC5QSS8xODA7dmFyIGM9byhiKSpsKGEpLGQ9LW8oYSksZT0tbChiKSpsKGEpO3JldHVybiBuZXcgcyhjLGQsZSl9ZnVuY3Rpb24gbShhKXt0aGlzWzFdPXsxOmFbMF0sMjphWzFdLDM6YVsyXX0sdGhpc1syXT17MTphWzNdLDI6YVs0XSwzOmFbNV19LHRoaXNbM109ezE6YVs2XSwyOmFbN10sMzphWzhdfX1UPW0ucHJvdG90eXBlLG0uSWRlbnRpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG0oWzEsMCwwLDAsMSwwLDAsMCwxXSl9LG0uUm90YXRpb249ZnVuY3Rpb24oZSxhKXt2YXIgYz1vKGUpLGQ9bChlKSxiPTEtZDtyZXR1cm4gbmV3IG0oW2QrdyhhLngsMikqYixhLngqYS55KmItYS56KmMsYS54KmEueipiK2EueSpjLGEueSphLngqYithLnoqYyxkK3coYS55LDIpKmIsYS55KmEueipiLWEueCpjLGEueiphLngqYi1hLnkqYyxhLnoqYS55KmIrYS54KmMsZCt3KGEueiwyKSpiXSl9LFQubXVsPWZ1bmN0aW9uKGMpe3ZhciBkPVtdLGEsYixlPWMueGZvcm0/MTowO2ZvcihhPTE7YTw9MzsrK2EpZm9yKGI9MTtiPD0zOysrYillP2QucHVzaCh0aGlzW2FdWzFdKmNbMV1bYl0rdGhpc1thXVsyXSpjWzJdW2JdK3RoaXNbYV1bM10qY1szXVtiXSk6ZC5wdXNoKHRoaXNbYV1bYl0qYyk7cmV0dXJuIG5ldyBtKGQpfSxULnhmb3JtPWZ1bmN0aW9uKGIpe3ZhciBhPXt9LGM9Yi54LGQ9Yi55LGU9Yi56O3JldHVybiBhLng9Yyp0aGlzWzFdWzFdK2QqdGhpc1syXVsxXStlKnRoaXNbM11bMV0sYS55PWMqdGhpc1sxXVsyXStkKnRoaXNbMl1bMl0rZSp0aGlzWzNdWzJdLGEuej1jKnRoaXNbMV1bM10rZCp0aGlzWzJdWzNdK2UqdGhpc1szXVszXSxhfTtmdW5jdGlvbiBhQihnLGosayxtLGYpe3ZhciBhLGIsYyxkLGU9W10saD0yL2csaTtpPU1hdGguUEkqKDMtRSg1KSsocGFyc2VGbG9hdChmKT9wYXJzZUZsb2F0KGYpOjApKTtmb3IoYT0wO2E8ZzsrK2EpYj1hKmgtMStoLzIsYz1FKDEtYipiKSxkPWEqaSxlLnB1c2goW2woZCkqYypqLGIqayxvKGQpKmMqbV0pO3JldHVybiBlfWZ1bmN0aW9uIFUobixwLG0sayxoLGcpe3ZhciBiLGY9W10saT0yL24saixhLGQsYyxlO2o9TWF0aC5QSSooMy1FKDUpKyhwYXJzZUZsb2F0KGcpP3BhcnNlRmxvYXQoZyk6MCkpO2ZvcihhPTA7YTxuOysrYSlkPWEqaS0xK2kvMixiPWEqaixjPWwoYiksZT1vKGIpLGYucHVzaChwP1tkKm0sYyprLGUqaF06W2MqbSxkKmssZSpoXSk7cmV0dXJuIGZ9ZnVuY3Rpb24gYWEoayxlLGYsaCxpLGope3ZhciBiLGc9W10sbT1NYXRoLlBJKjIvZSxhLGMsZDtmb3IoYT0wO2E8ZTsrK2EpYj1hKm0sYz1sKGIpLGQ9byhiKSxnLnB1c2goaz9baipmLGMqaCxkKmldOltjKmYsaipoLGQqaV0pO3JldHVybiBnfWZ1bmN0aW9uIGF4KGEsYixjLGQsZSl7cmV0dXJuIFUoYSwwLGIsYyxkLGUpfWZ1bmN0aW9uIGFIKGEsYixjLGQsZSl7cmV0dXJuIFUoYSwxLGIsYyxkLGUpfWZ1bmN0aW9uIGFHKGIsYyxkLGUsYSl7cmV0dXJuIGE9aXNOYU4oYSk/MDphKjEsYWEoMCxiLGMsZCxlLGEpfWZ1bmN0aW9uIGFGKGIsYyxkLGUsYSl7cmV0dXJuIGE9aXNOYU4oYSk/MDphKjEsYWEoMSxiLGMsZCxlLGEpfWZ1bmN0aW9uIGF2KGIpe3ZhciBhPW5ldyBJbWFnZTthLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBjPWEud2lkdGgvMixkPWEuaGVpZ2h0LzI7Yi5jZW50cmVGdW5jPWZ1bmN0aW9uKGIsZyxoLGUsZil7Yi5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLGIuZ2xvYmFsQWxwaGE9MSxiLmRyYXdJbWFnZShhLGUtYyxmLWQpfX0sYS5zcmM9Yi5jZW50cmVJbWFnZX1mdW5jdGlvbiBhRShhLGMpe3ZhciBiPWEsZCxlLGY9KGMqMSkudG9QcmVjaXNpb24oMykrJyknO3JldHVybiBhWzBdPT09JyMnPyhJW2FdfHwoYS5sZW5ndGg9PT00P0lbYV09J3JnYmEoJytSW2FbMV1dK1JbYVsyXV0rUlthWzNdXTpJW2FdPSdyZ2JhKCcrRFthLnN1YnN0cigxLDIpXStEW2Euc3Vic3RyKDMsMildK0RbYS5zdWJzdHIoNSwyKV0pLGI9SVthXStmKTphLnN1YnN0cigwLDQpPT09J3JnYignfHxhLnN1YnN0cigwLDQpPT09J2hzbCgnP2I9YS5yZXBsYWNlKCcoJywnYSgnKS5yZXBsYWNlKCcpJywnLCcrZik6KGEuc3Vic3RyKDAsNSk9PT0ncmdiYSgnfHxhLnN1YnN0cigwLDUpPT09J2hzbGEoJykmJihkPWEubGFzdEluZGV4T2YoJywnKSsxLGU9YS5pbmRleE9mKCcpJyksYyo9cGFyc2VGbG9hdChhLnN1YnN0cmluZyhkLGUpKSxiPWEuc3Vic3RyKDAsZCkrYy50b1ByZWNpc2lvbigzKSsnKScpLGJ9ZnVuY3Rpb24gayhiLGQpe2lmKHdpbmRvdy5HX3ZtbENhbnZhc01hbmFnZXIpcmV0dXJuIG51bGw7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtyZXR1cm4gYS53aWR0aD1iLGEuaGVpZ2h0PWQsYX1mdW5jdGlvbiBhRCgpe3ZhciBiPWsoMywzKSxhLGM7cmV0dXJuISFiJiYoYT1iLmdldENvbnRleHQoJzJkJyksYS5zdHJva2VTdHlsZT0nIzAwMCcsYS5zaGFkb3dDb2xvcj0nI2ZmZicsYS5zaGFkb3dCbHVyPTMsYS5nbG9iYWxBbHBoYT0wLGEuc3Ryb2tlUmVjdCgyLDIsMiwyKSxhLmdsb2JhbEFscGhhPTEsYz1hLmdldEltYWdlRGF0YSgyLDIsMSwxKSxiPW51bGwsYy5kYXRhWzBdPjApfWZ1bmN0aW9uIGFDKGEsYyxmLGQpe3ZhciBlPWEuY3JlYXRlTGluZWFyR3JhZGllbnQoMCwwLGMsMCksYjtmb3IoYiBpbiBkKWUuYWRkQ29sb3JTdG9wKDEtYixkW2JdKTthLmZpbGxTdHlsZT1lLGEuZmlsbFJlY3QoMCxmLGMsMSl9ZnVuY3Rpb24gTChhLG0sail7dmFyIGw9MTAyNCxkPTEsZT1hLndlaWdodEdyYWRpZW50LGksZixiLGM7aWYoYS5nQ2FudmFzKWY9YS5nQ2FudmFzLmdldENvbnRleHQoJzJkJyksZD1hLmdDYW52YXMuaGVpZ2h0O2Vsc2V7aWYoQihlWzBdKT9kPWUubGVuZ3RoOmU9W2VdLGEuZ0NhbnZhcz1pPWsobCxkKSwhaSlyZXR1cm4gbnVsbDtmPWkuZ2V0Q29udGV4dCgnMmQnKTtmb3IoYj0wO2I8ZDsrK2IpYUMoZixsLGIsZVtiXSl9cmV0dXJuIGo9ZyhoKGp8fDAsZC0xKSwwKSxjPWYuZ2V0SW1hZ2VEYXRhKH5+KChsLTEpKm0pLGosMSwxKS5kYXRhLCdyZ2JhKCcrY1swXSsnLCcrY1sxXSsnLCcrY1syXSsnLCcrY1szXS8yNTUrJyknfWZ1bmN0aW9uIFkoYixpLHEsayxvLG4saCxkLGEsZyxmLGwpe3ZhciBtPW8rKGR8fDApKyhhLmxlbmd0aCYmYVswXTwwP3AoYVswXSk6MCksaj1uKyhkfHwwKSsoYS5sZW5ndGgmJmFbMV08MD9wKGFbMV0pOjApLGMsZTtiLmZvbnQ9aSxiLnRleHRCYXNlbGluZT0ndG9wJyxiLmZpbGxTdHlsZT1xLGgmJihiLnNoYWRvd0NvbG9yPWgpLGQmJihiLnNoYWRvd0JsdXI9ZCksYS5sZW5ndGgmJihiLnNoYWRvd09mZnNldFg9YVswXSxiLnNoYWRvd09mZnNldFk9YVsxXSk7Zm9yKGM9MDtjPGsubGVuZ3RoOysrYyllPTAsZiYmKCdyaWdodCc9PWw/ZT1nLWZbY106J2NlbnRyZSc9PWwmJihlPShnLWZbY10pLzIpKSxiLmZpbGxUZXh0KGtbY10sbStlLGopLGorPXBhcnNlSW50KGkpfWZ1bmN0aW9uIHkoZCxhLGIsZixlLGMsZyl7Yz8oZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhhLGIrZS1jKSxkLmFyY1RvKGEsYixhK2MsYixjKSxkLmFyY1RvKGErZixiLGErZixiK2MsYyksZC5hcmNUbyhhK2YsYitlLGErZi1jLGIrZSxjKSxkLmFyY1RvKGEsYitlLGEsYitlLWMsYyksZC5jbG9zZVBhdGgoKSxkW2c/J3N0cm9rZSc6J2ZpbGwnXSgpKTpkW2c/J3N0cm9rZVJlY3QnOidmaWxsUmVjdCddKGEsYixmLGUpfWZ1bmN0aW9uIE8oYSxiLGMsZCxlLGYsZyxoLGkpe3RoaXMuc3RyaW5ncz1hLHRoaXMuZm9udD1iLHRoaXMud2lkdGg9Yyx0aGlzLmhlaWdodD1kLHRoaXMubWF4V2lkdGg9ZSx0aGlzLnN0cmluZ1dpZHRocz1mLHRoaXMuYWxpZ249Zyx0aGlzLnZhbGlnbj1oLHRoaXMuc2NhbGU9aX1NPU8ucHJvdG90eXBlLE0uU2V0SW1hZ2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt0aGlzLmltYWdlPWEsdGhpcy5pd2lkdGg9Yip0aGlzLnNjYWxlLHRoaXMuaWhlaWdodD1jKnRoaXMuc2NhbGUsdGhpcy5pcG9zPWQsdGhpcy5pcGFkPWUqdGhpcy5zY2FsZSx0aGlzLmlzY2FsZT1oLHRoaXMuaWFsaWduPWYsdGhpcy5pdmFsaWduPWd9LE0uQWxpZ249ZnVuY3Rpb24oYyxkLGEpe3ZhciBiPTA7cmV0dXJuIGE9PSdyaWdodCd8fGE9PSdib3R0b20nP2I9ZC1jOmEhPSdsZWZ0JyYmYSE9J3RvcCcmJihiPShkLWMpLzIpLGJ9LE0uQ3JlYXRlPWZ1bmN0aW9uKEcsRCxGLGIsQSxtLHEsaixFKXt2YXIgbyxlLGYsYSxsLHMsaSx1LHYscix3LG4sYyxkLHgsQj1wKHFbMF0pLEM9cChxWzFdKSx0LHo7cmV0dXJuIGo9ZyhqLEIrbSxDK20pLGw9MiooaitiKSxpPTIqKGorYiksZT10aGlzLndpZHRoK2wsZj10aGlzLmhlaWdodCtpLHY9cj1qK2IsdGhpcy5pbWFnZSYmKHc9bj1qK2IsYz10aGlzLml3aWR0aCxkPXRoaXMuaWhlaWdodCx0aGlzLmlwb3M9PSd0b3AnfHx0aGlzLmlwb3M9PSdib3R0b20nPyhjPHRoaXMud2lkdGg/dys9dGhpcy5BbGlnbihjLHRoaXMud2lkdGgsdGhpcy5pYWxpZ24pOnYrPXRoaXMuQWxpZ24odGhpcy53aWR0aCxjLHRoaXMuYWxpZ24pLHRoaXMuaXBvcz09J3RvcCc/cis9ZCt0aGlzLmlwYWQ6bis9dGhpcy5oZWlnaHQrdGhpcy5pcGFkLGU9ZyhlLGMrbCksZis9ZCt0aGlzLmlwYWQpOihkPHRoaXMuaGVpZ2h0P24rPXRoaXMuQWxpZ24oZCx0aGlzLmhlaWdodCx0aGlzLml2YWxpZ24pOnIrPXRoaXMuQWxpZ24odGhpcy5oZWlnaHQsZCx0aGlzLnZhbGlnbiksdGhpcy5pcG9zPT0ncmlnaHQnP3crPXRoaXMud2lkdGgrdGhpcy5pcGFkOnYrPWMrdGhpcy5pcGFkLGUrPWMrdGhpcy5pcGFkLGY9ZyhmLGQraSkpKSxvPWsoZSxmKSwhbz9udWxsOihsPWk9Yi8yLHM9ZS1iLHU9Zi1iLHg9aChFLHMvMix1LzIpLGE9by5nZXRDb250ZXh0KCcyZCcpLEQmJihhLmZpbGxTdHlsZT1ELHkoYSxsLGkscyx1LHgpKSxiJiYoYS5zdHJva2VTdHlsZT1GLGEubGluZVdpZHRoPWIseShhLGwsaSxzLHUseCwhMCkpLChtfHxCfHxDKSYmKHQ9ayhlLGYpLHQmJih6PWEsYT10LmdldENvbnRleHQoJzJkJykpKSxZKGEsdGhpcy5mb250LEcsdGhpcy5zdHJpbmdzLHYsciwwLDAsW10sdGhpcy5tYXhXaWR0aCx0aGlzLnN0cmluZ1dpZHRocyx0aGlzLmFsaWduKSx0aGlzLmltYWdlJiZhLmRyYXdJbWFnZSh0aGlzLmltYWdlLHcsbixjLGQpLHomJihhPXosQSYmKGEuc2hhZG93Q29sb3I9QSksbSYmKGEuc2hhZG93Qmx1cj1tKSxhLnNoYWRvd09mZnNldFg9cVswXSxhLnNoYWRvd09mZnNldFk9cVsxXSxhLmRyYXdJbWFnZSh0LDAsMCkpLG8pfTtmdW5jdGlvbiBIKGEsYyxkKXt2YXIgYj1rKGMsZCksZTtyZXR1cm4gYj8oZT1iLmdldENvbnRleHQoJzJkJyksZS5kcmF3SW1hZ2UoYSwoYy1hLndpZHRoKS8yLChkLWEuaGVpZ2h0KS8yKSxiKTpudWxsfWZ1bmN0aW9uIFMoZSxiLGMpe3ZhciBhPWsoYixjKSxkO3JldHVybiBhPyhkPWEuZ2V0Q29udGV4dCgnMmQnKSxkLmRyYXdJbWFnZShlLDAsMCxiLGMpLGEpOm51bGx9ZnVuY3Rpb24gVyhuLHUsdCxlLHMsYyx2LGQscix3KXt2YXIgZz11KygyKmQrYykqZSxmPXQrKDIqZCtjKSplLGw9ayhnLGYpLGIsaSxxLG0saixvLGEscDtyZXR1cm4gbD8oYyo9ZSxyKj1lLGk9cT1jLzIsbT1nLWMsaj1mLWMsZD1kKmUraSxiPWwuZ2V0Q29udGV4dCgnMmQnKSxwPWgocixtLzIsai8yKSxzJiYoYi5maWxsU3R5bGU9cyx5KGIsaSxxLG0saixwKSksYyYmKGIuc3Ryb2tlU3R5bGU9dixiLmxpbmVXaWR0aD1jLHkoYixpLHEsbSxqLHAsITApKSx3PyhvPWsoZyxmKSxhPW8uZ2V0Q29udGV4dCgnMmQnKSxhLmRyYXdJbWFnZShuLGQsZCx1LHQpLGEuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSdzb3VyY2UtaW4nLGEuZmlsbFN0eWxlPXYsYS5maWxsUmVjdCgwLDAsZyxmKSxhLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0nZGVzdGluYXRpb24tb3ZlcicsYS5kcmF3SW1hZ2UobCwwLDApLGEuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSdzb3VyY2Utb3ZlcicsYi5kcmF3SW1hZ2UobywwLDApKTpiLmRyYXdJbWFnZShuLGQsZCxuLndpZHRoLG4uaGVpZ2h0KSx7aW1hZ2U6bCx3aWR0aDpnL2UsaGVpZ2h0OmYvZX0pOm51bGx9ZnVuY3Rpb24gYXQobCxmLGMsZCxqKXt2YXIgZSxhLGI9cGFyc2VGbG9hdChmKSxpPWcoYyxkKTtyZXR1cm4gZT1rKGMsZCksIWU/bnVsbDooZi5pbmRleE9mKCclJyk+MD9iPWkqYi8xMDA6Yj1iKmosYT1lLmdldENvbnRleHQoJzJkJyksYS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249J3NvdXJjZS1vdmVyJyxhLmZpbGxTdHlsZT0nI2ZmZicsYj49aS8yPyhiPWgoYyxkKS8yLGEuYmVnaW5QYXRoKCksYS5tb3ZlVG8oYy8yLGQvMiksYS5hcmMoYy8yLGQvMixiLDAsMipNYXRoLlBJLCExKSxhLmZpbGwoKSxhLmNsb3NlUGF0aCgpKTooYj1oKGMvMixkLzIsYikseShhLDAsMCxjLGQsYiwhMCksYS5maWxsKCkpLGEuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSdzb3VyY2UtaW4nLGEuZHJhd0ltYWdlKGwsMCwwLGMsZCksZSl9ZnVuY3Rpb24gYW8ocSxtLGksYixoLGEsYyl7dmFyIGc9cChjWzBdKSxmPXAoY1sxXSksaj1tKyhnPmE/ZythOmEqMikqYixsPWkrKGY+YT9mK2E6YSoyKSpiLG49YiooKGF8fDApKyhjWzBdPDA/ZzowKSksbz1iKigoYXx8MCkrKGNbMV08MD9mOjApKSxlLGQ7cmV0dXJuIGU9ayhqLGwpLCFlP251bGw6KGQ9ZS5nZXRDb250ZXh0KCcyZCcpLGgmJihkLnNoYWRvd0NvbG9yPWgpLGEmJihkLnNoYWRvd0JsdXI9YSpiKSxjJiYoZC5zaGFkb3dPZmZzZXRYPWNbMF0qYixkLnNoYWRvd09mZnNldFk9Y1sxXSpiKSxkLmRyYXdJbWFnZShxLG4sbyxtLGkpLHtpbWFnZTplLHdpZHRoOmovYixoZWlnaHQ6bC9ifSl9ZnVuY3Rpb24gYWUobSxvLGwpe3ZhciBjPXBhcnNlSW50KG0udG9TdHJpbmcoKS5sZW5ndGgqbCksaD1wYXJzZUludChsKjIqbS5sZW5ndGgpLGo9ayhjLGgpLGcsaSxlLGYsYixkLG4sYTtpZighailyZXR1cm4gbnVsbDtnPWouZ2V0Q29udGV4dCgnMmQnKSxnLmZpbGxTdHlsZT0nIzAwMCcsZy5maWxsUmVjdCgwLDAsYyxoKSxZKGcsbCsncHggJytvLCcjZmZmJyxtLDAsMCwwLDAsW10sJ2NlbnRyZScpLGk9Zy5nZXRJbWFnZURhdGEoMCwwLGMsaCksZT1pLndpZHRoLGY9aS5oZWlnaHQsYT17bWluOnt4OmUseTpmfSxtYXg6e3g6LTEseTotMX19O2ZvcihkPTA7ZDxmOysrZClmb3IoYj0wO2I8ZTsrK2Ipbj0oZCplK2IpKjQsaS5kYXRhW24rMV0+MCYmKGI8YS5taW4ueCYmKGEubWluLng9YiksYj5hLm1heC54JiYoYS5tYXgueD1iKSxkPGEubWluLnkmJihhLm1pbi55PWQpLGQ+YS5tYXgueSYmKGEubWF4Lnk9ZCkpO3JldHVybiBlIT1jJiYoYS5taW4ueCo9Yy9lLGEubWF4LngqPWMvZSksZiE9aCYmKGEubWluLnkqPWMvZixhLm1heC55Kj1jL2YpLGo9bnVsbCxhfWZ1bmN0aW9uIFEoYSl7cmV0dXJuXFxcIidcXFwiK2EucmVwbGFjZSgvKCd8XFxcIikvZywnJykucmVwbGFjZSgvcyoscyovZyxcXFwiJywgJ1xcXCIpK1xcXCInXFxcIn1mdW5jdGlvbiB0KGIsZCxhKXthPWF8fGMsYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihiLGQsITEpOmEuYXR0YWNoRXZlbnQoJ29uJytiLGQpfWZ1bmN0aW9uIGFtKGIsZCxhKXthPWF8fGMsYS5yZW1vdmVFdmVudExpc3RlbmVyP2EucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGQpOmEuZGV0YWNoRXZlbnQoJ29uJytiLGQpfWZ1bmN0aW9uIEEoZyxlLGosYSxiKXt2YXIgbD1iLmltYWdlU2NhbGUsaCxjLGssbSxmLGQ7aWYoIWUuY29tcGxldGUpcmV0dXJuIHQoJ2xvYWQnLGZ1bmN0aW9uKCl7QShnLGUsaixhLGIpfSxlKTtpZighZy5jb21wbGV0ZSlyZXR1cm4gdCgnbG9hZCcsZnVuY3Rpb24oKXtBKGcsZSxqLGEsYil9LGcpO2lmKGomJiFqLmNvbXBsZXRlKXJldHVybiB0KCdsb2FkJyxmdW5jdGlvbigpe0EoZyxlLGosYSxiKX0saik7ZS53aWR0aD1lLndpZHRoLGUuaGVpZ2h0PWUuaGVpZ2h0LGwmJihnLndpZHRoPWUud2lkdGgqbCxnLmhlaWdodD1lLmhlaWdodCpsKSxhLml3PWcud2lkdGgsYS5paD1nLmhlaWdodCxiLnR4dE9wdCYmKGM9ZyxoPWIuem9vbU1heCpiLnR4dFNjYWxlLGY9YS5pdypoLGQ9YS5paCpoLGY8ZS5uYXR1cmFsV2lkdGh8fGQ8ZS5uYXR1cmFsSGVpZ2h0PyhjPVMoZyxmLGQpLGMmJihhLmZpbWFnZT1jKSk6KGY9YS5pdyxkPWEuaWgsaD0xKSxwYXJzZUZsb2F0KGIuaW1hZ2VSYWRpdXMpJiYoYS5pbWFnZT1hLmZpbWFnZT1nPWF0KGEuaW1hZ2UsYi5pbWFnZVJhZGl1cyxmLGQsaCkpLGEuSGFzVGV4dCgpfHwoYi5zaGFkb3cmJihjPWFvKGEuaW1hZ2UsZixkLGgsYi5zaGFkb3csYi5zaGFkb3dCbHVyLGIuc2hhZG93T2Zmc2V0KSxjJiYoYS5maW1hZ2U9Yy5pbWFnZSxhLnc9Yy53aWR0aCxhLmg9Yy5oZWlnaHQpKSwoYi5iZ0NvbG91cnx8Yi5iZ091dGxpbmVUaGlja25lc3MpJiYoaz1iLmJnQ29sb3VyPT0ndGFnJz9pKGEuYSwnYmFja2dyb3VuZC1jb2xvcicpOmIuYmdDb2xvdXIsbT1iLmJnT3V0bGluZT09J3RhZyc/aShhLmEsJ2NvbG9yJyk6Yi5iZ091dGxpbmV8fGIudGV4dENvbG91cixmPWEuZmltYWdlLndpZHRoLGQ9YS5maW1hZ2UuaGVpZ2h0LGIub3V0bGluZU1ldGhvZD09J2NvbG91cicmJihjPVcoYS5maW1hZ2UsZixkLGgsayxiLmJnT3V0bGluZVRoaWNrbmVzcyxhLm91dGxpbmUuY29sb3VyLGIucGFkZGluZyxiLmJnUmFkaXVzLDEpLGMmJihhLm9pbWFnZT1jLmltYWdlKSksYz1XKGEuZmltYWdlLGYsZCxoLGssYi5iZ091dGxpbmVUaGlja25lc3MsbSxiLnBhZGRpbmcsYi5iZ1JhZGl1cyksYyYmKGEuZmltYWdlPWMuaW1hZ2UsYS53PWMud2lkdGgsYS5oPWMuaGVpZ2h0KSksYi5vdXRsaW5lTWV0aG9kPT0nc2l6ZScmJihiLm91dGxpbmVJbmNyZWFzZT4wPyhhLml3Kz0yKmIub3V0bGluZUluY3JlYXNlLGEuaWgrPTIqYi5vdXRsaW5lSW5jcmVhc2UsZj1oKmEuaXcsZD1oKmEuaWgsYz1TKGEuZmltYWdlLGYsZCksYS5vaW1hZ2U9YyxhLmZpbWFnZT1IKGEuZmltYWdlLGEub2ltYWdlLndpZHRoLGEub2ltYWdlLmhlaWdodCkpOihmPWgqKGEuaXcrMipiLm91dGxpbmVJbmNyZWFzZSksZD1oKihhLmloKzIqYi5vdXRsaW5lSW5jcmVhc2UpLGM9UyhhLmZpbWFnZSxmLGQpLGEub2ltYWdlPUgoYyxhLmZpbWFnZS53aWR0aCxhLmZpbWFnZS5oZWlnaHQpKSkpKSxhLmFsdD1qLGEuSW5pdCgpfWZ1bmN0aW9uIGkoYSxkKXt2YXIgYj1jLmRlZmF1bHRWaWV3LGU9ZC5yZXBsYWNlKC8tKFthLXpdKS9nLGZ1bmN0aW9uKGEpe3JldHVybiBhLmNoYXJBdCgxKS50b1VwcGVyQ2FzZSgpfSk7cmV0dXJuIGImJmIuZ2V0Q29tcHV0ZWRTdHlsZSYmYi5nZXRDb21wdXRlZFN0eWxlKGEsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShkKXx8YS5jdXJyZW50U3R5bGUmJmEuY3VycmVudFN0eWxlW2VdfWZ1bmN0aW9uIGFqKGMsZCxlKXt2YXIgYj0xLGE7cmV0dXJuIGQ/Yj0xKihjLmdldEF0dHJpYnV0ZShkKXx8ZSk6KGE9aShjLCdmb250LXNpemUnKSkmJihiPWEuaW5kZXhPZigncHgnKT4tMSYmYS5yZXBsYWNlKCdweCcsJycpKjF8fGEuaW5kZXhPZigncHQnKT4tMSYmYS5yZXBsYWNlKCdwdCcsJycpKjEuMjV8fGEqMy4zKSxifWZ1bmN0aW9uIHUoYSl7cmV0dXJuIGEudGFyZ2V0JiZuKGEudGFyZ2V0LmlkKT9hLnRhcmdldC5pZDphLnNyY0VsZW1lbnQucGFyZW50Tm9kZS5pZH1mdW5jdGlvbiBLKGEsYyl7dmFyIGIsZCxlPXBhcnNlSW50KGkoYywnd2lkdGgnKSkvYy53aWR0aCxmPXBhcnNlSW50KGkoYywnaGVpZ2h0JykpL2MuaGVpZ2h0O3JldHVybiBuKGEub2Zmc2V0WCk/Yj17eDphLm9mZnNldFgseTphLm9mZnNldFl9OihkPVgoYy5pZCksbihhLmNoYW5nZWRUb3VjaGVzKSYmKGE9YS5jaGFuZ2VkVG91Y2hlc1swXSksYS5wYWdlWCYmKGI9e3g6YS5wYWdlWC1kLngseTphLnBhZ2VZLWQueX0pKSxiJiZlJiZmJiYoYi54Lz1lLGIueS89ZiksYn1mdW5jdGlvbiBhbihjKXt2YXIgZD1jLnRhcmdldHx8Yy5mcm9tRWxlbWVudC5wYXJlbnROb2RlLGI9YS50Y1tkLmlkXTtiJiYoYi5teD1iLm15PS0xLGIuVW5GcmVlemUoKSxiLkVuZERyYWcoKSl9ZnVuY3Rpb24gYWQoZSl7dmFyIGcsYz1hLGIsZCxmPXUoZSk7Zm9yKGcgaW4gYy50YyliPWMudGNbZ10sYi50dHRpbWVyJiYoY2xlYXJUaW1lb3V0KGIudHR0aW1lciksYi50dHRpbWVyPW51bGwpO2YmJmMudGNbZl0mJihiPWMudGNbZl0sKGQ9SyhlLGIuY2FudmFzKSkmJihiLm14PWQueCxiLm15PWQueSxiLkRyYWcoZSxkKSksYi5kcmF3bj0wKX1mdW5jdGlvbiBhcChiKXt2YXIgZT1hLGY9Yy5hZGRFdmVudExpc3RlbmVyPzA6MSxkPXUoYik7ZCYmYi5idXR0b249PWYmJmUudGNbZF0mJmUudGNbZF0uQmVnaW5EcmFnKGIpfWZ1bmN0aW9uIGFxKGIpe3ZhciBmPWEsZz1jLmFkZEV2ZW50TGlzdGVuZXI/MDoxLGU9dShiKSxkO2UmJmIuYnV0dG9uPT1nJiZmLnRjW2VdJiYoZD1mLnRjW2VdLGFkKGIpLCFkLkVuZERyYWcoKSYmIWQudG91Y2hTdGF0ZSYmZC5DbGlja2VkKGIpKX1mdW5jdGlvbiBhcihjKXt2YXIgZT11KGMpLGI9ZSYmYS50Y1tlXSxkO2ImJmMuY2hhbmdlZFRvdWNoZXMmJihjLnRvdWNoZXMubGVuZ3RoPT0xJiZiLnRvdWNoU3RhdGU9PTA/KGIudG91Y2hTdGF0ZT0xLGIuQmVnaW5EcmFnKGMpLChkPUsoYyxiLmNhbnZhcykpJiYoYi5teD1kLngsYi5teT1kLnksYi5kcmF3bj0wKSk6Yy50YXJnZXRUb3VjaGVzLmxlbmd0aD09MiYmYi5waW5jaFpvb20/KGIudG91Y2hTdGF0ZT0zLGIuRW5kRHJhZygpLGIuQmVnaW5QaW5jaChjKSk6KGIuRW5kRHJhZygpLGIuRW5kUGluY2goKSxiLnRvdWNoU3RhdGU9MCkpfWZ1bmN0aW9uIGFjKGMpe3ZhciBkPXUoYyksYj1kJiZhLnRjW2RdO2lmKGImJmMuY2hhbmdlZFRvdWNoZXMpe3N3aXRjaChiLnRvdWNoU3RhdGUpe2Nhc2UgMTpiLkRyYXcoKSxiLkNsaWNrZWQoKTticmVhazticmVhaztjYXNlIDI6Yi5FbmREcmFnKCk7YnJlYWs7Y2FzZSAzOmIuRW5kUGluY2goKX1iLnRvdWNoU3RhdGU9MH19ZnVuY3Rpb24gYXUoYyl7dmFyIGYsZT1hLGIsZCxnPXUoYyk7Zm9yKGYgaW4gZS50YyliPWUudGNbZl0sYi50dHRpbWVyJiYoY2xlYXJUaW1lb3V0KGIudHR0aW1lciksYi50dHRpbWVyPW51bGwpO2lmKGI9ZyYmZS50Y1tnXSxiJiZjLmNoYW5nZWRUb3VjaGVzJiZiLnRvdWNoU3RhdGUpe3N3aXRjaChiLnRvdWNoU3RhdGUpe2Nhc2UgMTpjYXNlIDI6KGQ9SyhjLGIuY2FudmFzKSkmJihiLm14PWQueCxiLm15PWQueSxiLkRyYWcoYyxkKSYmKGIudG91Y2hTdGF0ZT0yKSk7YnJlYWs7Y2FzZSAzOmIuUGluY2goYyl9Yi5kcmF3bj0wfX1mdW5jdGlvbiBhYihiKXt2YXIgZD1hLGM9dShiKTtjJiZkLnRjW2NdJiYoYi5jYW5jZWxCdWJibGU9ITAsYi5yZXR1cm5WYWx1ZT0hMSxiLnByZXZlbnREZWZhdWx0JiZiLnByZXZlbnREZWZhdWx0KCksZC50Y1tjXS5XaGVlbCgoYi53aGVlbERlbHRhfHxiLmRldGFpbCk+MCkpfWZ1bmN0aW9uIGF3KGQpe3ZhciBjLGI9YTtjbGVhclRpbWVvdXQoYi5zY3JvbGxUaW1lcik7Zm9yKGMgaW4gYi50YyliLnRjW2NdLlBhdXNlKCk7Yi5zY3JvbGxUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGIsYz1hO2ZvcihiIGluIGMudGMpYy50Y1tiXS5SZXN1bWUoKX0sYi5zY3JvbGxQYXVzZSl9ZnVuY3Rpb24gYWwoKXtaKHEoKSl9ZnVuY3Rpb24gWihiKXt2YXIgYz1hLnRjLGQ7YS5OZXh0RnJhbWUoYS5pbnRlcnZhbCksYj1ifHxxKCk7Zm9yKGQgaW4gYyljW2RdLkRyYXcoYil9ZnVuY3Rpb24gYXooKXtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoWil9ZnVuY3Rpb24gYUEoYSl7c2V0VGltZW91dChhbCxhKX1mdW5jdGlvbiBYKGYpe3ZhciBnPWMuZ2V0RWxlbWVudEJ5SWQoZiksYj1nLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGE9Yy5kb2N1bWVudEVsZW1lbnQsZD1jLmJvZHksZT13aW5kb3csaD1lLnBhZ2VYT2Zmc2V0fHxhLnNjcm9sbExlZnQsaT1lLnBhZ2VZT2Zmc2V0fHxhLnNjcm9sbFRvcCxqPWEuY2xpZW50TGVmdHx8ZC5jbGllbnRMZWZ0LGs9YS5jbGllbnRUb3B8fGQuY2xpZW50VG9wO3JldHVybnt4OmIubGVmdCtoLWoseTpiLnRvcCtpLWt9fWZ1bmN0aW9uIGFJKGEsYixkLGUpe3ZhciBjPWEucmFkaXVzKmEuejEvKGEuejErYS56MitiLnopO3JldHVybnt4OmIueCpjKmQseTpiLnkqYyplLHo6Yi56LHc6KGEuejEtYi56KS9hLnoyfX1mdW5jdGlvbiBWKGEpe3RoaXMuZT1hLHRoaXMuYnI9MCx0aGlzLmxpbmU9W10sdGhpcy50ZXh0PVtdLHRoaXMub3JpZ2luYWw9YS5pbm5lclRleHR8fGEudGV4dENvbnRlbnR9Rj1WLnByb3RvdHlwZSxGLkVtcHR5PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnRleHQubGVuZ3RoOysrYSlpZih0aGlzLnRleHRbYV0ubGVuZ3RoKXJldHVybiExO3JldHVybiEwfSxGLkxpbmVzPWZ1bmN0aW9uKGMpe3ZhciBlPWM/MTowLGIsZCxhO2M9Y3x8dGhpcy5lLGI9Yy5jaGlsZE5vZGVzLGQ9Yi5sZW5ndGg7Zm9yKGE9MDthPGQ7KythKWJbYV0ubm9kZU5hbWU9PSdCUic/KHRoaXMudGV4dC5wdXNoKHRoaXMubGluZS5qb2luKCcgJykpLHRoaXMuYnI9MSk6YlthXS5ub2RlVHlwZT09Mz90aGlzLmJyPyh0aGlzLmxpbmU9W2JbYV0ubm9kZVZhbHVlXSx0aGlzLmJyPTApOnRoaXMubGluZS5wdXNoKGJbYV0ubm9kZVZhbHVlKTp0aGlzLkxpbmVzKGJbYV0pO3JldHVybiBlfHx0aGlzLmJyfHx0aGlzLnRleHQucHVzaCh0aGlzLmxpbmUuam9pbignICcpKSx0aGlzLnRleHR9LEYuU3BsaXRXaWR0aD1mdW5jdGlvbihoLGUsZixnKXt2YXIgYyxiLGEsZD1bXTtlLmZvbnQ9ZysncHggJytmO2ZvcihjPTA7Yzx0aGlzLnRleHQubGVuZ3RoOysrYyl7YT10aGlzLnRleHRbY10uc3BsaXQoL3MrLyksdGhpcy5saW5lPVthWzBdXTtmb3IoYj0xO2I8YS5sZW5ndGg7KytiKWUubWVhc3VyZVRleHQodGhpcy5saW5lLmpvaW4oJyAnKSsnICcrYVtiXSkud2lkdGg+aD8oZC5wdXNoKHRoaXMubGluZS5qb2luKCcgJykpLHRoaXMubGluZT1bYVtiXV0pOnRoaXMubGluZS5wdXNoKGFbYl0pO2QucHVzaCh0aGlzLmxpbmUuam9pbignICcpKX1yZXR1cm4gdGhpcy50ZXh0PWR9O2Z1bmN0aW9uIF8oYSxiKXt0aGlzLnRzPW51bGwsdGhpcy50Yz1hLHRoaXMudGFnPWIsdGhpcy54PXRoaXMueT10aGlzLnc9dGhpcy5oPXRoaXMuc2M9MSx0aGlzLno9MCx0aGlzLnB1bHNlPTEsdGhpcy5wdWxzYXRlPWEucHVsc2F0ZVRvPDEsdGhpcy5jb2xvdXI9YS5vdXRsaW5lQ29sb3VyLHRoaXMuYWRhc2g9fn5hLm91dGxpbmVEYXNoLHRoaXMuYWdhcD1+fmEub3V0bGluZURhc2hTcGFjZXx8dGhpcy5hZGFzaCx0aGlzLmFzcGVlZD1hLm91dGxpbmVEYXNoU3BlZWQqMSx0aGlzLmNvbG91cj09J3RhZyc/dGhpcy5jb2xvdXI9aShiLmEsJ2NvbG9yJyk6dGhpcy5jb2xvdXI9PSd0YWdiZycmJih0aGlzLmNvbG91cj1pKGIuYSwnYmFja2dyb3VuZC1jb2xvcicpKSx0aGlzLkRyYXc9dGhpcy5wdWxzYXRlP3RoaXMuRHJhd1B1bHNhdGU6dGhpcy5EcmF3U2ltcGxlLHRoaXMucmFkaXVzPWEub3V0bGluZVJhZGl1c3wwLHRoaXMuU2V0TWV0aG9kKGEub3V0bGluZU1ldGhvZCxhLmFsdEltYWdlKX1mPV8ucHJvdG90eXBlLGYuU2V0TWV0aG9kPWZ1bmN0aW9uKGEsZCl7dmFyIGI9e2Jsb2NrOlsnUHJlRHJhdycsJ0RyYXdCbG9jayddLGNvbG91cjpbJ1ByZURyYXcnLCdEcmF3Q29sb3VyJ10sb3V0bGluZTpbJ1Bvc3REcmF3JywnRHJhd091dGxpbmUnXSxjbGFzc2ljOlsnTGFzdERyYXcnLCdEcmF3T3V0bGluZSddLHNpemU6WydQcmVEcmF3JywnRHJhd1NpemUnXSxub25lOlsnTGFzdERyYXcnXX0sYz1iW2FdfHxiLm91dGxpbmU7YT09J25vbmUnP3RoaXMuRHJhdz1mdW5jdGlvbigpe3JldHVybiAxfTp0aGlzLmRyYXdGdW5jPXRoaXNbY1sxXV0sdGhpc1tjWzBdXT10aGlzLkRyYXcsZCYmKHRoaXMuUmVhbFByZURyYXc9dGhpcy5QcmVEcmF3LHRoaXMuUHJlRHJhdz10aGlzLkRyYXdBbHQpfSxmLlVwZGF0ZT1mdW5jdGlvbihkLGUsaSxqLGEsZixnLGgpe3ZhciBiPXRoaXMudGMub3V0bGluZU9mZnNldCxjPTIqYjt0aGlzLng9YSpkK2ctYix0aGlzLnk9YSplK2gtYix0aGlzLnc9YSppK2MsdGhpcy5oPWEqaitjLHRoaXMuc2M9YSx0aGlzLno9Zn0sZi5BbnRzPWZ1bmN0aW9uKGspe2lmKCF0aGlzLmFkYXNoKXJldHVybjt2YXIgYj10aGlzLmFkYXNoLGM9dGhpcy5hZ2FwLGE9dGhpcy5hc3BlZWQsaj1iK2MsaD0wLGc9YixmPWMsaT0wLGQ9MCxlO2EmJihkPXAoYSkqKHEoKS10aGlzLnRzKS81MCxhPDAmJihkPTg2NGU0LWQpLGE9fn5kJWopLGE/KGI+PWE/KGg9Yi1hLGc9YSk6KGY9ai1hLGk9Yy1mKSxlPVtoLGYsZyxpXSk6ZT1bYixjXSxrLnNldExpbmVEYXNoKGUpfSxmLkRyYXdPdXRsaW5lPWZ1bmN0aW9uKGEsZCxlLGIsYyxmKXt2YXIgZz1oKHRoaXMucmFkaXVzLGMvMixiLzIpO2Euc3Ryb2tlU3R5bGU9Zix0aGlzLkFudHMoYSkseShhLGQsZSxiLGMsZywhMCl9LGYuRHJhd1NpemU9ZnVuY3Rpb24oaSxuLG0sbCxrLGosYSxoLGcpe3ZhciBmPWEudyxlPWEuaCxjLGIsZDtyZXR1cm4gdGhpcy5wdWxzYXRlPyhhLmltYWdlP2Q9KGEuaW1hZ2UuaGVpZ2h0K3RoaXMudGMub3V0bGluZUluY3JlYXNlKS9hLmltYWdlLmhlaWdodDpkPWEub3NjYWxlLGI9YS5maW1hZ2V8fGEuaW1hZ2UsYz0xKyhkLTEpKigxLXRoaXMucHVsc2UpLGEuaCo9YyxhLncqPWMpOmI9YS5vaW1hZ2UsYS5hbHBoYT0xLGEuRHJhdyhpLGgsZyxiKSxhLmg9ZSxhLnc9ZiwxfSxmLkRyYXdDb2xvdXI9ZnVuY3Rpb24oZCxoLGksZSxmLGcsYSxiLGMpe3JldHVybiBhLm9pbWFnZT8odGhpcy5wdWxzZTwxPyhhLmFscGhhPTEtdyh0aGlzLnB1bHNlLDIpLGEuRHJhdyhkLGIsYyxhLmZpbWFnZSksYS5hbHBoYT10aGlzLnB1bHNlKTphLmFscGhhPTEsYS5EcmF3KGQsYixjLGEub2ltYWdlKSwxKTp0aGlzW2EuaW1hZ2U/J0RyYXdDb2xvdXJJbWFnZSc6J0RyYXdDb2xvdXJUZXh0J10oZCxoLGksZSxmLGcsYSxiLGMpfSxmLkRyYXdDb2xvdXJUZXh0PWZ1bmN0aW9uKGYsaCxpLGosZyxlLGEsYixjKXt2YXIgZD1hLmNvbG91cjtyZXR1cm4gYS5jb2xvdXI9ZSxhLmFscGhhPTEsYS5EcmF3KGYsYixjKSxhLmNvbG91cj1kLDF9LGYuRHJhd0NvbG91ckltYWdlPWZ1bmN0aW9uKGEscSxwLG8sbixtLGkscixsKXt2YXIgZj1hLmNhbnZhcyxlPX5+ZyhxLDApLGQ9fn5nKHAsMCksYz1oKGYud2lkdGgtZSxvKSsuNXwwLGI9aChmLmhlaWdodC1kLG4pKy41fDAsajtyZXR1cm4gdj8odi53aWR0aD1jLHYuaGVpZ2h0PWIpOnY9ayhjLGIpLCF2P3RoaXMuU2V0TWV0aG9kKCdvdXRsaW5lJyk6KGo9di5nZXRDb250ZXh0KCcyZCcpLGouZHJhd0ltYWdlKGYsZSxkLGMsYiwwLDAsYyxiKSxhLmNsZWFyUmVjdChlLGQsYyxiKSx0aGlzLnB1bHNhdGU/aS5hbHBoYT0xLXcodGhpcy5wdWxzZSwyKTppLmFscGhhPTEsaS5EcmF3KGEscixsKSxhLnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksYS5zYXZlKCksYS5iZWdpblBhdGgoKSxhLnJlY3QoZSxkLGMsYiksYS5jbGlwKCksYS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249J3NvdXJjZS1pbicsYS5maWxsU3R5bGU9bSxhLmZpbGxSZWN0KGUsZCxjLGIpLGEucmVzdG9yZSgpLGEuZ2xvYmFsQWxwaGE9MSxhLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0nZGVzdGluYXRpb24tb3ZlcicsYS5kcmF3SW1hZ2UodiwwLDAsYyxiLGUsZCxjLGIpLGEuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSdzb3VyY2Utb3ZlcicsMSl9LGYuRHJhd0FsdD1mdW5jdGlvbihiLGEsYyxkLGYsZyl7dmFyIGU9dGhpcy5SZWFsUHJlRHJhdyhiLGEsYyxkLGYsZyk7cmV0dXJuIGEuYWx0JiYoYS5EcmF3SW1hZ2UoYixjLGQsYS5hbHQpLGU9MSksZX0sZi5EcmF3QmxvY2s9ZnVuY3Rpb24oYSxkLGUsYixjLGYpe3ZhciBnPWgodGhpcy5yYWRpdXMsYy8yLGIvMik7YS5maWxsU3R5bGU9Zix5KGEsZCxlLGIsYyxnKX0sZi5EcmF3U2ltcGxlPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz10aGlzLnRjO3JldHVybiBhLnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksYS5zdHJva2VTdHlsZT10aGlzLmNvbG91cixhLmxpbmVXaWR0aD1nLm91dGxpbmVUaGlja25lc3MsYS5zaGFkb3dCbHVyPWEuc2hhZG93T2Zmc2V0WD1hLnNoYWRvd09mZnNldFk9MCxhLmdsb2JhbEFscGhhPWY/ZToxLHRoaXMuZHJhd0Z1bmMoYSx0aGlzLngsdGhpcy55LHRoaXMudyx0aGlzLmgsdGhpcy5jb2xvdXIsYixjLGQpfSxmLkRyYXdQdWxzYXRlPWZ1bmN0aW9uKGgsZCxlLGYpe3ZhciBnPXEoKS10aGlzLnRzLGM9dGhpcy50YyxiPWMucHVsc2F0ZVRvKygxLWMucHVsc2F0ZVRvKSooLjUrbCgyKk1hdGguUEkqZy8oMWUzKmMucHVsc2F0ZVRpbWUpKS8yKTtyZXR1cm4gdGhpcy5wdWxzZT1iPWEuU21vb3RoKDEsYiksdGhpcy5EcmF3U2ltcGxlKGgsZCxlLGYsYiwxKX0sZi5BY3RpdmU9ZnVuY3Rpb24oZCxhLGIpe3ZhciBjPWE+PXRoaXMueCYmYj49dGhpcy55JiZhPD10aGlzLngrdGhpcy53JiZiPD10aGlzLnkrdGhpcy5oO3JldHVybiBjP3RoaXMudHM9dGhpcy50c3x8cSgpOnRoaXMudHM9bnVsbCxjfSxmLlByZURyYXc9Zi5Qb3N0RHJhdz1mLkxhc3REcmF3PXg7ZnVuY3Rpb24gSihhLGgsYyxiLGUsZixnLGQsaSxqLGssbCxtLG4pe3RoaXMudGM9YSx0aGlzLmltYWdlPW51bGwsdGhpcy50ZXh0PWgsdGhpcy50ZXh0X29yaWdpbmFsPW4sdGhpcy5saW5lX3dpZHRocz1bXSx0aGlzLnRpdGxlPWMudGl0bGV8fG51bGwsdGhpcy5hPWMsdGhpcy5wb3NpdGlvbj1uZXcgcyhiWzBdLGJbMV0sYlsyXSksdGhpcy54PXRoaXMueT10aGlzLno9MCx0aGlzLnc9ZSx0aGlzLmg9Zix0aGlzLmNvbG91cj1nfHxhLnRleHRDb2xvdXIsdGhpcy5iZ0NvbG91cj1kfHxhLmJnQ29sb3VyLHRoaXMuYmdSYWRpdXM9aXwwLHRoaXMuYmdPdXRsaW5lPWp8fHRoaXMuY29sb3VyLHRoaXMuYmdPdXRsaW5lVGhpY2tuZXNzPWt8MCx0aGlzLnRleHRGb250PWx8fGEudGV4dEZvbnQsdGhpcy5wYWRkaW5nPW18MCx0aGlzLnNjPXRoaXMuYWxwaGE9MSx0aGlzLndlaWdodGVkPSFhLndlaWdodCx0aGlzLm91dGxpbmU9bmV3IF8oYSx0aGlzKSx0aGlzLmF1ZGlvPW51bGx9ZD1KLnByb3RvdHlwZSxkLkluaXQ9ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy50Yzt0aGlzLnRleHRIZWlnaHQ9YS50ZXh0SGVpZ2h0LHRoaXMuSGFzVGV4dCgpP3RoaXMuTWVhc3VyZShhLmN0eHQsYSk6KHRoaXMudz10aGlzLml3LHRoaXMuaD10aGlzLmloKSx0aGlzLlNldFNoYWRvd0NvbG91cj1hLnNoYWRvd0FscGhhP3RoaXMuU2V0U2hhZG93Q29sb3VyQWxwaGE6dGhpcy5TZXRTaGFkb3dDb2xvdXJGaXhlZCx0aGlzLlNldERyYXcoYSl9LGQuRHJhdz14LGQuSGFzVGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQmJnRoaXMudGV4dFswXS5sZW5ndGg+MH0sZC5FcXVhbFRvPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2ltZycpO3JldHVybiB0aGlzLmEuaHJlZiE9YS5ocmVmPzA6Yi5sZW5ndGg/dGhpcy5pbWFnZS5zcmM9PWJbMF0uc3JjOihhLmlubmVyVGV4dHx8YS50ZXh0Q29udGVudCk9PXRoaXMudGV4dF9vcmlnaW5hbH0sZC5TZXRJbWFnZT1mdW5jdGlvbihhKXt0aGlzLmltYWdlPXRoaXMuZmltYWdlPWF9LGQuU2V0QXVkaW89ZnVuY3Rpb24oYSl7dGhpcy5hdWRpbz1hLHRoaXMuYXVkaW8ubG9hZCgpfSxkLlNldERyYXc9ZnVuY3Rpb24oYSl7dGhpcy5EcmF3PXRoaXMuZmltYWdlP2EuaWU+Nz90aGlzLkRyYXdJbWFnZUlFOnRoaXMuRHJhd0ltYWdlOnRoaXMuRHJhd1RleHQsYS5ub1NlbGVjdCYmKHRoaXMuQ2hlY2tBY3RpdmU9eCl9LGQuTWVhc3VyZVRleHQ9ZnVuY3Rpb24oZCl7dmFyIGEsZT10aGlzLnRleHQubGVuZ3RoLGI9MCxjO2ZvcihhPTA7YTxlOysrYSl0aGlzLmxpbmVfd2lkdGhzW2FdPWM9ZC5tZWFzdXJlVGV4dCh0aGlzLnRleHRbYV0pLndpZHRoLGI9ZyhiLGMpO3JldHVybiBifSxkLk1lYXN1cmU9ZnVuY3Rpb24oZSxhKXt2YXIgZj1hZSh0aGlzLnRleHQsdGhpcy50ZXh0Rm9udCx0aGlzLnRleHRIZWlnaHQpLGIsayxoLGksZyxsLGosYyxkO2o9Zj9mLm1heC55K2YubWluLnk6dGhpcy50ZXh0SGVpZ2h0LGUuZm9udD10aGlzLmZvbnQ9dGhpcy50ZXh0SGVpZ2h0KydweCAnK3RoaXMudGV4dEZvbnQsbD10aGlzLk1lYXN1cmVUZXh0KGUpLGEudHh0T3B0JiYoYj1hLnR4dFNjYWxlLGs9Yip0aGlzLnRleHRIZWlnaHQsaD1rKydweCAnK3RoaXMudGV4dEZvbnQsaT1bYiphLnNoYWRvd09mZnNldFswXSxiKmEuc2hhZG93T2Zmc2V0WzFdXSxlLmZvbnQ9aCxnPXRoaXMuTWVhc3VyZVRleHQoZSksZD1uZXcgTyh0aGlzLnRleHQsaCxnK2IsYipqK2IsZyx0aGlzLmxpbmVfd2lkdGhzLGEudGV4dEFsaWduLGEudGV4dFZBbGlnbixiKSx0aGlzLmltYWdlJiZkLlNldEltYWdlKHRoaXMuaW1hZ2UsdGhpcy5pdyx0aGlzLmloLGEuaW1hZ2VQb3NpdGlvbixhLmltYWdlUGFkZGluZyxhLmltYWdlQWxpZ24sYS5pbWFnZVZBbGlnbixhLmltYWdlU2NhbGUpLGM9ZC5DcmVhdGUodGhpcy5jb2xvdXIsdGhpcy5iZ0NvbG91cix0aGlzLmJnT3V0bGluZSxiKnRoaXMuYmdPdXRsaW5lVGhpY2tuZXNzLGEuc2hhZG93LGIqYS5zaGFkb3dCbHVyLGksYip0aGlzLnBhZGRpbmcsYip0aGlzLmJnUmFkaXVzKSxhLm91dGxpbmVNZXRob2Q9PSdjb2xvdXInP3RoaXMub2ltYWdlPWQuQ3JlYXRlKHRoaXMub3V0bGluZS5jb2xvdXIsdGhpcy5iZ0NvbG91cix0aGlzLm91dGxpbmUuY29sb3VyLGIqdGhpcy5iZ091dGxpbmVUaGlja25lc3MsYS5zaGFkb3csYiphLnNoYWRvd0JsdXIsaSxiKnRoaXMucGFkZGluZyxiKnRoaXMuYmdSYWRpdXMpOmEub3V0bGluZU1ldGhvZD09J3NpemUnJiYoZj1hZSh0aGlzLnRleHQsdGhpcy50ZXh0Rm9udCx0aGlzLnRleHRIZWlnaHQrYS5vdXRsaW5lSW5jcmVhc2UpLGs9Zi5tYXgueStmLm1pbi55LGg9YioodGhpcy50ZXh0SGVpZ2h0K2Eub3V0bGluZUluY3JlYXNlKSsncHggJyt0aGlzLnRleHRGb250LGUuZm9udD1oLGc9dGhpcy5NZWFzdXJlVGV4dChlKSxkPW5ldyBPKHRoaXMudGV4dCxoLGcrYixiKmsrYixnLHRoaXMubGluZV93aWR0aHMsYS50ZXh0QWxpZ24sYS50ZXh0VkFsaWduLGIpLHRoaXMuaW1hZ2UmJmQuU2V0SW1hZ2UodGhpcy5pbWFnZSx0aGlzLml3K2Eub3V0bGluZUluY3JlYXNlLHRoaXMuaWgrYS5vdXRsaW5lSW5jcmVhc2UsYS5pbWFnZVBvc2l0aW9uLGEuaW1hZ2VQYWRkaW5nLGEuaW1hZ2VBbGlnbixhLmltYWdlVkFsaWduLGEuaW1hZ2VTY2FsZSksdGhpcy5vaW1hZ2U9ZC5DcmVhdGUodGhpcy5jb2xvdXIsdGhpcy5iZ0NvbG91cix0aGlzLmJnT3V0bGluZSxiKnRoaXMuYmdPdXRsaW5lVGhpY2tuZXNzLGEuc2hhZG93LGIqYS5zaGFkb3dCbHVyLGksYip0aGlzLnBhZGRpbmcsYip0aGlzLmJnUmFkaXVzKSx0aGlzLm9zY2FsZT10aGlzLm9pbWFnZS53aWR0aC9jLndpZHRoLGEub3V0bGluZUluY3JlYXNlPjA/Yz1IKGMsdGhpcy5vaW1hZ2Uud2lkdGgsdGhpcy5vaW1hZ2UuaGVpZ2h0KTp0aGlzLm9pbWFnZT1IKHRoaXMub2ltYWdlLGMud2lkdGgsYy5oZWlnaHQpKSxjJiYodGhpcy5maW1hZ2U9YyxsPXRoaXMuZmltYWdlLndpZHRoL2Isaj10aGlzLmZpbWFnZS5oZWlnaHQvYiksdGhpcy5TZXREcmF3KGEpLGEudHh0T3B0PSEhdGhpcy5maW1hZ2UpLHRoaXMuaD1qLHRoaXMudz1sfSxkLlNldEZvbnQ9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy50ZXh0Rm9udD1hLHRoaXMuY29sb3VyPWIsdGhpcy5iZ0NvbG91cj1jLHRoaXMuYmdPdXRsaW5lPWQsdGhpcy5NZWFzdXJlKHRoaXMudGMuY3R4dCx0aGlzLnRjKX0sZC5TZXRXZWlnaHQ9ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcy50YyxlPWIud2VpZ2h0TW9kZS5zcGxpdCgvWywgXS8pLGQsYSxmPWMubGVuZ3RoO2lmKCF0aGlzLkhhc1RleHQoKSlyZXR1cm47dGhpcy53ZWlnaHRlZD0hMDtmb3IoYT0wO2E8ZjsrK2EpZD1lW2FdfHwnc2l6ZScsJ2JvdGgnPT1kPyh0aGlzLldlaWdodChjW2FdLGIuY3R4dCxiLCdzaXplJyxiLm1pbl93ZWlnaHRbYV0sYi5tYXhfd2VpZ2h0W2FdLGEpLHRoaXMuV2VpZ2h0KGNbYV0sYi5jdHh0LGIsJ2NvbG91cicsYi5taW5fd2VpZ2h0W2FdLGIubWF4X3dlaWdodFthXSxhKSk6dGhpcy5XZWlnaHQoY1thXSxiLmN0eHQsYixkLGIubWluX3dlaWdodFthXSxiLm1heF93ZWlnaHRbYV0sYSk7dGhpcy5NZWFzdXJlKGIuY3R4dCxiKX0sZC5XZWlnaHQ9ZnVuY3Rpb24oYixpLGEsZCxmLGgsZSl7Yj1pc05hTihiKT8xOmI7dmFyIGM9KGItZikvKGgtZik7J2NvbG91cic9PWQ/dGhpcy5jb2xvdXI9TChhLGMsZSk6J2JnY29sb3VyJz09ZD90aGlzLmJnQ29sb3VyPUwoYSxjLGUpOidiZ291dGxpbmUnPT1kP3RoaXMuYmdPdXRsaW5lPUwoYSxjLGUpOidvdXRsaW5lJz09ZD90aGlzLm91dGxpbmUuY29sb3VyPUwoYSxjLGUpOidzaXplJz09ZCYmKGEud2VpZ2h0U2l6ZU1pbj4wJiZhLndlaWdodFNpemVNYXg+YS53ZWlnaHRTaXplTWluP3RoaXMudGV4dEhlaWdodD1hLndlaWdodFNpemUqKGEud2VpZ2h0U2l6ZU1pbisoYS53ZWlnaHRTaXplTWF4LWEud2VpZ2h0U2l6ZU1pbikqYyk6dGhpcy50ZXh0SGVpZ2h0PWcoMSxiKmEud2VpZ2h0U2l6ZSkpfSxkLlNldFNoYWRvd0NvbG91ckZpeGVkPWZ1bmN0aW9uKGEsYixjKXthLnNoYWRvd0NvbG9yPWJ9LGQuU2V0U2hhZG93Q29sb3VyQWxwaGE9ZnVuY3Rpb24oYSxiLGMpe2Euc2hhZG93Q29sb3I9YUUoYixjKX0sZC5EcmF3VGV4dD1mdW5jdGlvbihhLGgsaSl7dmFyIGU9dGhpcy50YyxnPXRoaXMueCxmPXRoaXMueSxjPXRoaXMuc2MsYixkO2EuZ2xvYmFsQWxwaGE9dGhpcy5hbHBoYSxhLmZpbGxTdHlsZT10aGlzLmNvbG91cixlLnNoYWRvdyYmdGhpcy5TZXRTaGFkb3dDb2xvdXIoYSxlLnNoYWRvdyx0aGlzLmFscGhhKSxhLmZvbnQ9dGhpcy5mb250LGcrPWgvYyxmKz1pL2MtdGhpcy5oLzI7Zm9yKGI9MDtiPHRoaXMudGV4dC5sZW5ndGg7KytiKWQ9ZywncmlnaHQnPT1lLnRleHRBbGlnbj9kKz10aGlzLncvMi10aGlzLmxpbmVfd2lkdGhzW2JdOidjZW50cmUnPT1lLnRleHRBbGlnbj9kLT10aGlzLmxpbmVfd2lkdGhzW2JdLzI6ZC09dGhpcy53LzIsYS5zZXRUcmFuc2Zvcm0oYywwLDAsYyxjKmQsYypmKSxhLmZpbGxUZXh0KHRoaXMudGV4dFtiXSwwLDApLGYrPXRoaXMudGV4dEhlaWdodH0sZC5EcmF3SW1hZ2U9ZnVuY3Rpb24oYixpLGssbCl7dmFyIGU9dGhpcy54LGY9dGhpcy55LGE9dGhpcy5zYyxqPWx8fHRoaXMuZmltYWdlLGM9dGhpcy53LGQ9dGhpcy5oLGc9dGhpcy5hbHBoYSxoPXRoaXMuc2hhZG93O2IuZ2xvYmFsQWxwaGE9ZyxoJiZ0aGlzLlNldFNoYWRvd0NvbG91cihiLGgsZyksZSs9aS9hLWMvMixmKz1rL2EtZC8yLGIuc2V0VHJhbnNmb3JtKGEsMCwwLGEsYSplLGEqZiksYi5kcmF3SW1hZ2UoaiwwLDAsYyxkKX0sZC5EcmF3SW1hZ2VJRT1mdW5jdGlvbihiLGQsZSl7dmFyIGM9dGhpcy5maW1hZ2UsYT10aGlzLnNjLGY9Yy53aWR0aD10aGlzLncqYSxnPWMuaGVpZ2h0PXRoaXMuaCphLGg9dGhpcy54KmErZC1mLzIsaT10aGlzLnkqYStlLWcvMjtiLnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksYi5nbG9iYWxBbHBoYT10aGlzLmFscGhhLGIuZHJhd0ltYWdlKGMsaCxpKX0sZC5DYWxjPWZ1bmN0aW9uKGcsZSl7dmFyIGEsYj10aGlzLnRjLGQ9Yi5taW5CcmlnaHRuZXNzLGY9Yi5tYXhCcmlnaHRuZXNzLGM9Yi5tYXhfcmFkaXVzO3JldHVybiBhPWcueGZvcm0odGhpcy5wb3NpdGlvbiksdGhpcy54Zm9ybWVkPWEsYT1hSShiLGEsYi5zdHJldGNoWCxiLnN0cmV0Y2hZKSx0aGlzLng9YS54LHRoaXMueT1hLnksdGhpcy56PWEueix0aGlzLnNjPWEudyx0aGlzLmFscGhhPWUqRyhkKyhmLWQpKihjLXRoaXMueikvKDIqYyksMCwxKSx0aGlzLnhmb3JtZWR9LGQuVXBkYXRlQWN0aXZlPWZ1bmN0aW9uKGgsZSxmKXt2YXIgYT10aGlzLm91dGxpbmUsYj10aGlzLncsYz10aGlzLmgsZD10aGlzLngtYi8yLGc9dGhpcy55LWMvMjtyZXR1cm4gYS5VcGRhdGUoZCxnLGIsYyx0aGlzLnNjLHRoaXMueixlLGYpLGF9LGQuQ2hlY2tBY3RpdmU9ZnVuY3Rpb24oYSxkLGUpe3ZhciBiPXRoaXMudGMsYz10aGlzLlVwZGF0ZUFjdGl2ZShhLGQsZSk7cmV0dXJuIGMuQWN0aXZlKGEsYi5teCxiLm15KT9jOm51bGx9LGQuQ2xpY2tlZD1mdW5jdGlvbihmKXt2YXIgYj10aGlzLmEsYT1iLnRhcmdldCxkPWIuaHJlZixlO2lmKGEhPScnJiZhIT0nX3NlbGYnKXtpZihzZWxmLmZyYW1lc1thXSlzZWxmLmZyYW1lc1thXS5kb2N1bWVudC5sb2NhdGlvbj1kO2Vsc2V7dHJ5e2lmKHRvcC5mcmFtZXNbYV0pe3RvcC5mcmFtZXNbYV0uZG9jdW1lbnQubG9jYXRpb249ZDtyZXR1cm59fWNhdGNoKGEpe313aW5kb3cub3BlbihkLGEpfXJldHVybn1pZihjLmNyZWF0ZUV2ZW50KXtpZihlPWMuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyksZS5pbml0TW91c2VFdmVudCgnY2xpY2snLDEsMSx3aW5kb3csMCwwLDAsMCwwLDAsMCwwLDAsMCxudWxsKSwhYi5kaXNwYXRjaEV2ZW50KGUpKXJldHVybn1lbHNlIGlmKGIuZmlyZUV2ZW50KWlmKCFiLmZpcmVFdmVudCgnb25jbGljaycpKXJldHVybjtjLmxvY2F0aW9uPWR9LGQuU3RvcEF1ZGlvPWZ1bmN0aW9uKCl7dGhpcy5hdWRpbyYmdGhpcy5wbGF5aW5nJiZ0aGlzLmF1ZGlvLnBhdXNlKCksdGhpcy5zdG9wcGVkPTEsdGhpcy5wbGF5aW5nPTB9LGQuUGxheUF1ZGlvPWZ1bmN0aW9uKCl7aWYoZT09PSdvZmYnfHx0aGlzLnRjLmF1ZGlvT2ZmKXJldHVybjtpZighZSYmIWFnKCkpcmV0dXJuO3ZhciBhPXRoaXMudGMuYXVkaW8sYz10aGlzLnRjLmdhaW4sZD0nc3VzcGVuZGVkJyxiO2lmKHRoaXMuYXVkaW8paWYodGhpcy50cmFja3x8KHRoaXMudHJhY2s9ZS5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UodGhpcy5hdWRpbyksdGhpcy5nYWluPWUuY3JlYXRlR2FpbigpLHRoaXMudHJhY2suY29ubmVjdCh0aGlzLmdhaW4pLHRoaXMuZ2Fpbi5jb25uZWN0KGUuZGVzdGluYXRpb24pKSxhPXRoaXMuYXVkaW8sYz10aGlzLmdhaW4sIWEucGF1c2VkKXJldHVybiAxO2lmKGEpe2lmKGUuc3RhdGU9PWQmJmUucmVzdW1lKCksZS5zdGF0ZT09ZClyZXR1cm47cmV0dXJuIGMuZ2Fpbi52YWx1ZT1oKDIsZygwLHRoaXMudGMuYXVkaW9Wb2x1bWUqMSkpLGEuY3VycmVudFRpbWU9MCx0aGlzLnN0b3BwZWQ9MCxiPWEucGxheSgpLGIhPT12b2lkIDAmJmIudGhlbihhPT57dGhpcy5zdG9wcGVkP3RoaXMuYXVkaW8ucGF1c2UoKTp0aGlzLnBsYXlpbmc9MX0pLDF9fTtmdW5jdGlvbiBhKGYsbyxrKXt2YXIgZCxpLGI9Yy5nZXRFbGVtZW50QnlJZChmKSxsPVsnaWQnLCdjbGFzcycsJ2lubmVySFRNTCddO2lmKCFiKXRocm93IDA7aWYobih3aW5kb3cuR192bWxDYW52YXNNYW5hZ2VyKSYmKGI9d2luZG93Lkdfdm1sQ2FudmFzTWFuYWdlci5pbml0RWxlbWVudChiKSx0aGlzLmllPXBhcnNlRmxvYXQobmF2aWdhdG9yLmFwcFZlcnNpb24uc3BsaXQoJ01TSUUnKVsxXSkpLGImJighYi5nZXRDb250ZXh0fHwhYi5nZXRDb250ZXh0KCcyZCcpLmZpbGxUZXh0KSl7aT1jLmNyZWF0ZUVsZW1lbnQoJ0RJVicpO2ZvcihkPTA7ZDxsLmxlbmd0aDsrK2QpaVtsW2RdXT1iW2xbZF1dO3Rocm93IGIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaSxiKSxiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksMH1mb3IoZCBpbiBhLm9wdGlvbnMpdGhpc1tkXT1rJiZuKGtbZF0pP2tbZF06bihhW2RdKT9hW2RdOmEub3B0aW9uc1tkXTtpZih0aGlzLmNhbnZhcz1iLHRoaXMuY3R4dD1iLmdldENvbnRleHQoJzJkJyksdGhpcy56MT0yNTAvZyh0aGlzLmRlcHRoLC4wMDEpLHRoaXMuejI9dGhpcy56MS90aGlzLnpvb20sdGhpcy5yYWRpdXM9aChiLmhlaWdodCxiLndpZHRoKSouMDA3NSx0aGlzLm1heF9yYWRpdXM9MTAwLHRoaXMubWF4X3dlaWdodD1bXSx0aGlzLm1pbl93ZWlnaHQ9W10sdGhpcy50ZXh0Rm9udD10aGlzLnRleHRGb250JiZRKHRoaXMudGV4dEZvbnQpLHRoaXMudGV4dEhlaWdodCo9MSx0aGlzLmltYWdlUmFkaXVzPXRoaXMuaW1hZ2VSYWRpdXMudG9TdHJpbmcoKSx0aGlzLnB1bHNhdGVUbz1HKHRoaXMucHVsc2F0ZVRvLDAsMSksdGhpcy5taW5CcmlnaHRuZXNzPUcodGhpcy5taW5CcmlnaHRuZXNzLDAsMSksdGhpcy5tYXhCcmlnaHRuZXNzPUcodGhpcy5tYXhCcmlnaHRuZXNzLHRoaXMubWluQnJpZ2h0bmVzcywxKSx0aGlzLmN0eHQudGV4dEJhc2VsaW5lPSd0b3AnLHRoaXMubHg9KHRoaXMubG9jaysnJykuaW5kZXhPZigneCcpKzEsdGhpcy5seT0odGhpcy5sb2NrKycnKS5pbmRleE9mKCd5JykrMSx0aGlzLmZyb3plbj10aGlzLmR4PXRoaXMuZHk9dGhpcy5maXhlZEFuaW09dGhpcy50b3VjaFN0YXRlPTAsdGhpcy5maXhlZEFscGhhPTEsdGhpcy5zb3VyY2U9b3x8Zix0aGlzLnJlcGVhdFRhZ3M9aCg2NCx+fnRoaXMucmVwZWF0VGFncyksdGhpcy5taW5UYWdzPWgoMjAwLH5+dGhpcy5taW5UYWdzKSx+fnRoaXMuc2Nyb2xsUGF1c2U+MD9hLnNjcm9sbFBhdXNlPX5+dGhpcy5zY3JvbGxQYXVzZTp0aGlzLnNjcm9sbFBhdXNlPTAsdGhpcy5taW5UYWdzPjAmJnRoaXMucmVwZWF0VGFnczwxJiYoZD10aGlzLkdldFRhZ3MoKS5sZW5ndGgpJiYodGhpcy5yZXBlYXRUYWdzPWFmKHRoaXMubWluVGFncy9kKS0xKSx0aGlzLnRyYW5zZm9ybT1tLklkZW50aXR5KCksdGhpcy5zdGFydFRpbWU9dGhpcy50aW1lPXEoKSx0aGlzLm14PXRoaXMubXk9LTEsdGhpcy5jZW50cmVJbWFnZSYmYXYodGhpcyksdGhpcy5BbmltYXRlPXRoaXMuZHJhZ0NvbnRyb2w/dGhpcy5BbmltYXRlRHJhZzp0aGlzLkFuaW1hdGVQb3NpdGlvbix0aGlzLmFuaW1UaW1pbmc9dHlwZW9mIGFbdGhpcy5hbmltVGltaW5nXT09J2Z1bmN0aW9uJz9hW3RoaXMuYW5pbVRpbWluZ106YS5TbW9vdGgsdGhpcy5zaGFkb3dCbHVyfHx0aGlzLnNoYWRvd09mZnNldFswXXx8dGhpcy5zaGFkb3dPZmZzZXRbMV0/KHRoaXMuY3R4dC5zaGFkb3dDb2xvcj10aGlzLnNoYWRvdyx0aGlzLnNoYWRvdz10aGlzLmN0eHQuc2hhZG93Q29sb3IsdGhpcy5zaGFkb3dBbHBoYT1hRCgpKTpkZWxldGUgdGhpcy5zaGFkb3csdGhpcy5hY3RpdmVBdWRpbz09PSExP2U9J29mZic6dGhpcy5hY3RpdmVBdWRpbyYmdGhpcy5Mb2FkQXVkaW8oKSx0aGlzLkxvYWQoKSxvJiZ0aGlzLmhpZGVUYWdzJiZmdW5jdGlvbihiKXthLmxvYWRlZD9iLkhpZGVUYWdzKCk6dCgnbG9hZCcsZnVuY3Rpb24oKXtiLkhpZGVUYWdzKCl9LHdpbmRvdyl9KHRoaXMpLHRoaXMueWF3PXRoaXMuaW5pdGlhbD90aGlzLmluaXRpYWxbMF0qdGhpcy5tYXhTcGVlZDowLHRoaXMucGl0Y2g9dGhpcy5pbml0aWFsP3RoaXMuaW5pdGlhbFsxXSp0aGlzLm1heFNwZWVkOjAsdGhpcy50b29sdGlwPyh0aGlzLmN0aXRsZT1iLnRpdGxlLGIudGl0bGU9JycsdGhpcy50b29sdGlwPT0nbmF0aXZlJz90aGlzLlRvb2x0aXA9dGhpcy5Ub29sdGlwTmF0aXZlOih0aGlzLlRvb2x0aXA9dGhpcy5Ub29sdGlwRGl2LHRoaXMudHRkaXZ8fCh0aGlzLnR0ZGl2PWMuY3JlYXRlRWxlbWVudCgnZGl2JyksdGhpcy50dGRpdi5jbGFzc05hbWU9dGhpcy50b29sdGlwQ2xhc3MsdGhpcy50dGRpdi5zdHlsZS5wb3NpdGlvbj0nYWJzb2x1dGUnLHRoaXMudHRkaXYuc3R5bGUuekluZGV4PWIuc3R5bGUuekluZGV4KzEsdCgnbW91c2VvdmVyJyxmdW5jdGlvbihhKXthLnRhcmdldC5zdHlsZS5kaXNwbGF5PSdub25lJ30sdGhpcy50dGRpdiksYy5ib2R5LmFwcGVuZENoaWxkKHRoaXMudHRkaXYpKSkpOnRoaXMuVG9vbHRpcD10aGlzLlRvb2x0aXBOb25lLCF0aGlzLm5vTW91c2UmJiFqW2ZdKXtqW2ZdPVtbJ21vdXNlbW92ZScsYWRdLFsnbW91c2VvdXQnLGFuXSxbJ21vdXNldXAnLGFxXSxbJ3RvdWNoc3RhcnQnLGFyXSxbJ3RvdWNoZW5kJyxhY10sWyd0b3VjaGNhbmNlbCcsYWNdLFsndG91Y2htb3ZlJyxhdV1dLHRoaXMuZHJhZ0NvbnRyb2wmJihqW2ZdLnB1c2goWydtb3VzZWRvd24nLGFwXSksaltmXS5wdXNoKFsnc2VsZWN0c3RhcnQnLHhdKSksdGhpcy53aGVlbFpvb20mJihqW2ZdLnB1c2goWydtb3VzZXdoZWVsJyxhYl0pLGpbZl0ucHVzaChbJ0RPTU1vdXNlU2Nyb2xsJyxhYl0pKSx0aGlzLnNjcm9sbFBhdXNlJiZqW2ZdLnB1c2goWydzY3JvbGwnLGF3LHdpbmRvd10pO2ZvcihkPTA7ZDxqW2ZdLmxlbmd0aDsrK2QpaT1qW2ZdW2RdLHQoaVswXSxpWzFdLGlbMl0/aVsyXTpiKX1hLnN0YXJ0ZWR8fChhLk5leHRGcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lP2F6OmFBLGEuaW50ZXJ2YWw9dGhpcy5pbnRlcnZhbCxhLk5leHRGcmFtZSh0aGlzLmludGVydmFsKSxhLnN0YXJ0ZWQ9MSl9Yj1hLnByb3RvdHlwZSxiLlNvdXJjZUVsZW1lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIGMucXVlcnlTZWxlY3RvckFsbD9jLnF1ZXJ5U2VsZWN0b3JBbGwoJyMnK3RoaXMuc291cmNlKTpbYy5nZXRFbGVtZW50QnlJZCh0aGlzLnNvdXJjZSldfSxiLkhpZGVUYWdzPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5Tb3VyY2VFbGVtZW50cygpLGE7Zm9yKGE9MDthPGIubGVuZ3RoOysrYSliW2FdLnN0eWxlLmRpc3BsYXk9J25vbmUnfSxiLkdldFRhZ3M9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLlNvdXJjZUVsZW1lbnRzKCksYyxmPVtdLGEsYixkO2ZvcihkPTA7ZDw9dGhpcy5yZXBlYXRUYWdzOysrZClmb3IoYT0wO2E8ZS5sZW5ndGg7KythKXtjPWVbYV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKTtmb3IoYj0wO2I8Yy5sZW5ndGg7KytiKWYucHVzaChjW2JdKX1yZXR1cm4gZn0sYi5NZXNzYWdlPWZ1bmN0aW9uKGope3ZhciBnPVtdLGEsZixiPWouc3BsaXQoJycpLGQsZSxoLGk7Zm9yKGE9MDthPGIubGVuZ3RoOysrYSliW2FdIT0nICcmJihmPWEtYi5sZW5ndGgvMixkPWMuY3JlYXRlRWxlbWVudCgnQScpLGQuaHJlZj0nIycsZC5pbm5lclRleHQ9YlthXSxoPTEwMCpvKGYvOSksaT0tMTAwKmwoZi85KSxlPW5ldyBKKHRoaXMsYlthXSxkLFtoLDAsaV0sMiwxOCwnIzAwMCcsJyNmZmYnLDAsMCwwLCdtb25vc3BhY2UnLDIsYlthXSksZS5Jbml0KCksZy5wdXNoKGUpKTtyZXR1cm4gZ30sYi5BZGRBdWRpbz1mdW5jdGlvbihiLGMpe2lmKGU9PT0nb2ZmJylyZXR1cm47dmFyIGE9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYXVkaW8nKTthLmxlbmd0aCYmKGMuU2V0QXVkaW8oYVswXSksdGhpcy5oYXNBdWRpbz0xKX0sYi5DcmVhdGVUYWc9ZnVuY3Rpb24oYil7dmFyIGUsYyxhLGYsZCxnLGgsaixrPVswLDAsMF0sbDtpZigndGV4dCchPXRoaXMuaW1hZ2VNb2RlKWlmKGU9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJyksZS5sZW5ndGgpaWYoYz1uZXcgSW1hZ2UsYy5zcmM9ZVswXS5zcmMsIXRoaXMuaW1hZ2VNb2RlKXJldHVybiBhPW5ldyBKKHRoaXMsXFxcIlxcXCIsYixrLDAsMCksYS5TZXRJbWFnZShjKSxBKGMsZVswXSxlWzFdLGEsdGhpcyksdGhpcy5BZGRBdWRpbyhiLGEpLGE7aWYoJ2ltYWdlJyE9dGhpcy5pbWFnZU1vZGUmJihkPW5ldyBWKGIpLGY9ZC5MaW5lcygpLGQuRW1wdHkoKT9kPW51bGw6KGc9dGhpcy50ZXh0Rm9udHx8UShpKGIsJ2ZvbnQtZmFtaWx5JykpLHRoaXMuc3BsaXRXaWR0aCYmKGY9ZC5TcGxpdFdpZHRoKHRoaXMuc3BsaXRXaWR0aCx0aGlzLmN0eHQsZyx0aGlzLnRleHRIZWlnaHQpKSxoPXRoaXMuYmdDb2xvdXI9PSd0YWcnP2koYiwnYmFja2dyb3VuZC1jb2xvcicpOnRoaXMuYmdDb2xvdXIsaj10aGlzLmJnT3V0bGluZT09J3RhZyc/aShiLCdjb2xvcicpOnRoaXMuYmdPdXRsaW5lKSksZHx8YylyZXR1cm4gYT1uZXcgSih0aGlzLGYsYixrLDIsdGhpcy50ZXh0SGVpZ2h0KzIsdGhpcy50ZXh0Q29sb3VyfHxpKGIsJ2NvbG9yJyksaCx0aGlzLmJnUmFkaXVzLGosdGhpcy5iZ091dGxpbmVUaGlja25lc3MsZyx0aGlzLnBhZGRpbmcsZCYmZC5vcmlnaW5hbCksYz8oYS5TZXRJbWFnZShjKSxBKGMsZVswXSxlWzFdLGEsdGhpcykpOmEuSW5pdCgpLHRoaXMuQWRkQXVkaW8oYixhKSxhfSxiLlVwZGF0ZVRhZz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMudGV4dENvbG91cnx8aShiLCdjb2xvcicpLGQ9dGhpcy50ZXh0Rm9udHx8UShpKGIsJ2ZvbnQtZmFtaWx5JykpLGU9dGhpcy5iZ0NvbG91cj09J3RhZyc/aShiLCdiYWNrZ3JvdW5kLWNvbG9yJyk6dGhpcy5iZ0NvbG91cixmPXRoaXMuYmdPdXRsaW5lPT0ndGFnJz9pKGIsJ2NvbG9yJyk6dGhpcy5iZ091dGxpbmU7YS5hPWIsYS50aXRsZT1iLnRpdGxlLChhLmNvbG91ciE9Y3x8YS50ZXh0Rm9udCE9ZHx8YS5iZ0NvbG91ciE9ZXx8YS5iZ091dGxpbmUhPWYpJiZhLlNldEZvbnQoZCxjLGUsZil9LGIuV2VpZ2h0PWZ1bmN0aW9uKGQpe3ZhciBmPWQubGVuZ3RoLGMsYixhLGU9W10sZyxoPXRoaXMud2VpZ2h0RnJvbT90aGlzLndlaWdodEZyb20uc3BsaXQoL1ssIF0vKTpbbnVsbF0saT1oLmxlbmd0aDtmb3IoYj0wO2I8ZjsrK2Ipe2VbYl09W107Zm9yKGE9MDthPGk7KythKWM9YWooZFtiXS5hLGhbYV0sdGhpcy50ZXh0SGVpZ2h0KSwoIXRoaXMubWF4X3dlaWdodFthXXx8Yz50aGlzLm1heF93ZWlnaHRbYV0pJiYodGhpcy5tYXhfd2VpZ2h0W2FdPWMpLCghdGhpcy5taW5fd2VpZ2h0W2FdfHxjPHRoaXMubWluX3dlaWdodFthXSkmJih0aGlzLm1pbl93ZWlnaHRbYV09YyksZVtiXVthXT1jfWZvcihhPTA7YTxpOysrYSl0aGlzLm1heF93ZWlnaHRbYV0+dGhpcy5taW5fd2VpZ2h0W2FdJiYoZz0xKTtpZihnKWZvcihiPTA7YjxmOysrYilkW2JdLlNldFdlaWdodChlW2JdKX0sYi5Mb2FkPWZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5HZXRUYWdzKCksYj1bXSxkLGssbCxoLGksaixmLGEsZT1bXSxtPXtzcGhlcmU6YUIsdmN5bGluZGVyOmF4LGhjeWxpbmRlcjphSCx2cmluZzphRyxocmluZzphRn07aWYoYy5sZW5ndGgpe2UubGVuZ3RoPWMubGVuZ3RoO2ZvcihhPTA7YTxjLmxlbmd0aDsrK2EpZVthXT1hO3RoaXMuc2h1ZmZsZVRhZ3MmJmFpKGUpLGg9MTAwKnRoaXMucmFkaXVzWCxpPTEwMCp0aGlzLnJhZGl1c1ksaj0xMDAqdGhpcy5yYWRpdXNaLHRoaXMubWF4X3JhZGl1cz1nKGgsZyhpLGopKTtmb3IoYT0wO2E8Yy5sZW5ndGg7KythKWs9dGhpcy5DcmVhdGVUYWcoY1tlW2FdXSksayYmYi5wdXNoKGspO3RoaXMud2VpZ2h0JiZ0aGlzLldlaWdodChiLCEwKSx0aGlzLnNoYXBlQXJncz90aGlzLnNoYXBlQXJnc1swXT1iLmxlbmd0aDoobD10aGlzLnNoYXBlLnRvU3RyaW5nKCkuc3BsaXQoL1soKSxdLyksZD1sLnNoaWZ0KCksdHlwZW9mIHdpbmRvd1tkXT09J2Z1bmN0aW9uJz90aGlzLnNoYXBlPXdpbmRvd1tkXTp0aGlzLnNoYXBlPW1bZF18fG0uc3BoZXJlLHRoaXMuc2hhcGVBcmdzPVtiLmxlbmd0aCxoLGksal0uY29uY2F0KGwpKSxmPXRoaXMuc2hhcGUuYXBwbHkodGhpcyx0aGlzLnNoYXBlQXJncyksdGhpcy5saXN0TGVuZ3RoPWIubGVuZ3RoO2ZvcihhPTA7YTxiLmxlbmd0aDsrK2EpYlthXS5wb3NpdGlvbj1uZXcgcyhmW2FdWzBdLGZbYV1bMV0sZlthXVsyXSl9dGhpcy5ub1RhZ3NNZXNzYWdlJiYhYi5sZW5ndGgmJihhPXRoaXMuaW1hZ2VNb2RlJiZ0aGlzLmltYWdlTW9kZSE9J2JvdGgnP3RoaXMuaW1hZ2VNb2RlKycgJzonJyxiPXRoaXMuTWVzc2FnZSgnTm8gJythKyd0YWdzJykpLHRoaXMudGFnbGlzdD1ifSxiLlVwZGF0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuR2V0VGFncygpLGQ9W10saj10aGlzLnRhZ2xpc3QsayxmPVtdLGM9W10saCxpLGcsYSxiO2lmKCF0aGlzLnNoYXBlQXJncylyZXR1cm4gdGhpcy5Mb2FkKCk7aWYoZS5sZW5ndGgpe2c9dGhpcy5saXN0TGVuZ3RoPWUubGVuZ3RoLGk9ai5sZW5ndGg7Zm9yKGE9MDthPGk7KythKWQucHVzaChqW2FdKSxjLnB1c2goYSk7Zm9yKGE9MDthPGc7KythKXtmb3IoYj0wLGs9MDtiPGk7KytiKWpbYl0uRXF1YWxUbyhlW2FdKSYmKHRoaXMuVXBkYXRlVGFnKGRbYl0sZVthXSksaz1jW2JdPS0xKTtrfHxmLnB1c2goYSl9Zm9yKGE9MCxiPTA7YTxpOysrYSljW2JdPT0tMT9jLnNwbGljZShiLDEpOisrYjtpZihjLmxlbmd0aCl7Zm9yKGFpKGMpO2MubGVuZ3RoJiZmLmxlbmd0aDspYT1jLnNoaWZ0KCksYj1mLnNoaWZ0KCksZFthXT10aGlzLkNyZWF0ZVRhZyhlW2JdKTtmb3IoYy5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pO2MubGVuZ3RoOylkLnNwbGljZShjLnBvcCgpLDEpfWZvcihiPWQubGVuZ3RoLyhmLmxlbmd0aCsxKSxhPTA7Zi5sZW5ndGg7KWQuc3BsaWNlKGFmKCsrYSpiKSwwLHRoaXMuQ3JlYXRlVGFnKGVbZi5zaGlmdCgpXSkpO3RoaXMuc2hhcGVBcmdzWzBdPWc9ZC5sZW5ndGgsaD10aGlzLnNoYXBlLmFwcGx5KHRoaXMsdGhpcy5zaGFwZUFyZ3MpO2ZvcihhPTA7YTxnOysrYSlkW2FdLnBvc2l0aW9uPW5ldyBzKGhbYV1bMF0saFthXVsxXSxoW2FdWzJdKTt0aGlzLndlaWdodCYmdGhpcy5XZWlnaHQoZCl9dGhpcy50YWdsaXN0PWR9LGIuU2V0U2hhZG93PWZ1bmN0aW9uKGEpe2Euc2hhZG93Qmx1cj10aGlzLnNoYWRvd0JsdXIsYS5zaGFkb3dPZmZzZXRYPXRoaXMuc2hhZG93T2Zmc2V0WzBdLGEuc2hhZG93T2Zmc2V0WT10aGlzLnNoYWRvd09mZnNldFsxXX0sYi5Mb2FkQXVkaW89ZnVuY3Rpb24oKXtpZighZSYmIWFnKCkpcmV0dXJuO3RoaXMuYXVkaW89Yy5jcmVhdGVFbGVtZW50KCdhdWRpbycpLHRoaXMuYXVkaW8uc3JjPXRoaXMuYWN0aXZlQXVkaW8sdGhpcy50cmFjaz1lLmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSh0aGlzLmF1ZGlvKSx0aGlzLmdhaW49ZS5jcmVhdGVHYWluKCksdGhpcy50cmFjay5jb25uZWN0KHRoaXMuZ2FpbiksdGhpcy5nYWluLmNvbm5lY3QoZS5kZXN0aW5hdGlvbiksdGhpcy5oYXNBdWRpbz0xLFA9ZnVuY3Rpb24oYSl7ZS5yZXN1bWUoKSxjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxQKX0sYy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsUCl9LGIuU2hvd0F1ZGlvSWNvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYXVkaW9JY29uU2l6ZSxjPXRoaXMuY2FudmFzLGQ9dGhpcy5jdHh0LGs9Yy53aWR0aC1hLTMsZj1jLmhlaWdodC1hLTMsZz10aGlzLmF1ZGlvSWNvblRoaWNrbmVzcyxoPScjMDAwJyxpPScjZmZmJyxqPXRoaXMuYXVkaW9JY29uRGFyayxiPXRoaXMuYXVkaW9PZmYsbD0nc3VzcGVuZGVkJztpZighZSlyZXR1cm47Ynx8KGI9ZS5zdGF0ZT09PWwpLHRoaXMuYXVkaW9JY29uJiZ0aGlzLmhhc0F1ZGlvJiYoJChiLGQsYSxrLGYsZysxLGo/aTpoKSwkKGIsZCxhLGssZixnLGo/aDppKSl9LGIuQ2hlY2tBdWRpb0ljb249ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmF1ZGlvSWNvblNpemUsYj10aGlzLmNhbnZhcyxjPXRoaXMuYXVkaW9JY29uVGhpY2tuZXNzLzIsZD1iLndpZHRoLWEtMy1jLGU9Yi5oZWlnaHQtYS0zLWM7aWYodGhpcy5hdWRpb0ljb24mJnRoaXMubXg+PWQmJnRoaXMubXk+PWUpcmV0dXJuITB9LGIuVG9nZ2xlQXVkaW89ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmF1ZGlvT2ZmfHxlJiZlLnN0YXRlPT09J3N1c3BlbmRlZCc7YXx8dGhpcy5jdXJyZW50QXVkaW8mJnRoaXMuY3VycmVudEF1ZGlvLlN0b3BBdWRpbygpLHRoaXMuYXVkaW9PZmY9IWF9LGIuRHJhdz1mdW5jdGlvbihzKXtpZih0aGlzLnBhdXNlZClyZXR1cm47dmFyIGw9dGhpcy5jYW52YXMsaT1sLndpZHRoLGo9bC5oZWlnaHQscT0wLHA9KHMtdGhpcy50aW1lKSphLmludGVydmFsLzFlMyxoPWkvMit0aGlzLm9mZnNldFgsZz1qLzIrdGhpcy5vZmZzZXRZLGQ9dGhpcy5jdHh0LGIsZixjLG89LTEsZT10aGlzLnRhZ2xpc3Qsaz1lLmxlbmd0aCx0PXRoaXMuYWN0aXZlJiZ0aGlzLmFjdGl2ZS50YWcsbT0nJyx1PXRoaXMuZnJvbnRTZWxlY3Qscj10aGlzLmNlbnRyZUZ1bmM9PXgsbjtpZih0aGlzLnRpbWU9cyx0aGlzLmZyb3plbiYmdGhpcy5kcmF3bilyZXR1cm4gdGhpcy5BbmltYXRlKGksaixwKTtuPXRoaXMuQW5pbWF0ZUZpeGVkKCksZC5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApO2ZvcihjPTA7YzxrOysrYyllW2NdLkNhbGModGhpcy50cmFuc2Zvcm0sdGhpcy5maXhlZEFscGhhKTtpZihlPWFrKGUsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi56LWEuen0pLG4mJnRoaXMuZml4ZWRBbmltLmFjdGl2ZSliPXRoaXMuZml4ZWRBbmltLnRhZy5VcGRhdGVBY3RpdmUoZCxoLGcpO2Vsc2UgaWYodGhpcy5hY3RpdmU9bnVsbCx0aGlzLkNoZWNrQXVkaW9JY29uKCkpbT0ncG9pbnRlcic7ZWxzZXtmb3IoYz0wO2M8azsrK2MpZj10aGlzLm14Pj0wJiZ0aGlzLm15Pj0wJiZ0aGlzLnRhZ2xpc3RbY10uQ2hlY2tBY3RpdmUoZCxoLGcpLGYmJmYuc2M+cSYmKCF1fHxmLno8PTApJiYoYj1mLG89YyxiLnRhZz10aGlzLnRhZ2xpc3RbY10scT1mLnNjKTt0aGlzLmFjdGl2ZT1ifXRoaXMudHh0T3B0fHx0aGlzLnNoYWRvdyYmdGhpcy5TZXRTaGFkb3coZCksZC5jbGVhclJlY3QoMCwwLGksaik7Zm9yKGM9MDtjPGs7KytjKXtpZighciYmZVtjXS56PD0wKXt0cnl7dGhpcy5jZW50cmVGdW5jKGQsaSxqLGgsZyl9Y2F0Y2goYSl7YWxlcnQoYSksdGhpcy5jZW50cmVGdW5jPXh9cj0hMH1iJiZiLnRhZz09ZVtjXSYmYi5QcmVEcmF3KGQsZVtjXSxoLGcpfHxlW2NdLkRyYXcoZCxoLGcpLGImJmIudGFnPT1lW2NdJiZiLlBvc3REcmF3KGQpfXRoaXMuZnJlZXplQWN0aXZlJiZiP3RoaXMuRnJlZXplKCk6KHRoaXMuVW5GcmVlemUoKSx0aGlzLmRyYXduPWs9PXRoaXMubGlzdExlbmd0aCksdGhpcy5maXhlZENhbGxiYWNrJiYodGhpcy5maXhlZENhbGxiYWNrKHRoaXMsdGhpcy5maXhlZENhbGxiYWNrVGFnKSx0aGlzLmZpeGVkQ2FsbGJhY2s9bnVsbCksbnx8dGhpcy5BbmltYXRlKGksaixwKSxiJiYoYi5MYXN0RHJhdyhkKSxiLnRhZyE9dCYmKHRoaXMuY3VycmVudEF1ZGlvJiZ0aGlzLmN1cnJlbnRBdWRpbyE9Yi50YWcmJnRoaXMuY3VycmVudEF1ZGlvLlN0b3BBdWRpbygpLGIudGFnLlBsYXlBdWRpbygpJiYodGhpcy5jdXJyZW50QXVkaW89Yi50YWcpKSxtPXRoaXMuYWN0aXZlQ3Vyc29yKSxsLnN0eWxlLmN1cnNvcj1tLHRoaXMuVG9vbHRpcChiLHRoaXMudGFnbGlzdFtvXSksdGhpcy5hdWRpb0ljb24mJnRoaXMuU2hvd0F1ZGlvSWNvbigpfSxiLlRvb2x0aXBOb25lPWZ1bmN0aW9uKCl7fSxiLlRvb2x0aXBOYXRpdmU9ZnVuY3Rpb24oYixhKXtiP3RoaXMuY2FudmFzLnRpdGxlPWEmJmEudGl0bGU/YS50aXRsZTonJzp0aGlzLmNhbnZhcy50aXRsZT10aGlzLmN0aXRsZX0sYi5TZXRUVERpdj1mdW5jdGlvbihjLGQpe3ZhciBhPXRoaXMsYj1hLnR0ZGl2LnN0eWxlO2MhPWEudHRkaXYuaW5uZXJIVE1MJiYoYi5kaXNwbGF5PSdub25lJyksYS50dGRpdi5pbm5lckhUTUw9YyxkJiYoZC50aXRsZT1hLnR0ZGl2LmlubmVySFRNTCksYi5kaXNwbGF5PT0nbm9uZScmJiFhLnR0dGltZXImJihhLnR0dGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBjPVgoYS5jYW52YXMuaWQpO2IuZGlzcGxheT0nYmxvY2snLGIubGVmdD1jLngrYS5teCsncHgnLGIudG9wPWMueSthLm15KzI0KydweCcsYS50dHRpbWVyPW51bGx9LGEudG9vbHRpcERlbGF5KSl9LGIuVG9vbHRpcERpdj1mdW5jdGlvbihiLGEpe2ImJmEmJmEudGl0bGU/dGhpcy5TZXRUVERpdihhLnRpdGxlLGEpOiFiJiZ0aGlzLm14IT0tMSYmdGhpcy5teSE9LTEmJnRoaXMuY3RpdGxlLmxlbmd0aD90aGlzLlNldFRURGl2KHRoaXMuY3RpdGxlKTp0aGlzLnR0ZGl2LnN0eWxlLmRpc3BsYXk9J25vbmUnfSxiLlRyYW5zZm9ybT1mdW5jdGlvbihjLGEsYil7aWYoYXx8Yil7dmFyIGQ9byhhKSxlPWwoYSksZj1vKGIpLGc9bChiKSxoPW5ldyBtKFtnLDAsZiwwLDEsMCwtZiwwLGddKSxpPW5ldyBtKFsxLDAsMCwwLGUsLWQsMCxkLGVdKTtjLnRyYW5zZm9ybT1jLnRyYW5zZm9ybS5tdWwoaC5tdWwoaSkpfX0sYi5BbmltYXRlRml4ZWQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlO3JldHVybiEhKHRoaXMuZmFkZUluJiYoYj1xKCktdGhpcy5zdGFydFRpbWUsYj49dGhpcy5mYWRlSW4/KHRoaXMuZmFkZUluPTAsdGhpcy5maXhlZEFscGhhPTEpOnRoaXMuZml4ZWRBbHBoYT1iL3RoaXMuZmFkZUluKSx0aGlzLmZpeGVkQW5pbSkmJih0aGlzLmZpeGVkQW5pbS50cmFuc2Zvcm18fCh0aGlzLmZpeGVkQW5pbS50cmFuc2Zvcm09dGhpcy50cmFuc2Zvcm0pLGE9dGhpcy5maXhlZEFuaW0sYj1xKCktYS50MCxjPWEuYW5nbGUsZCxlPXRoaXMuYW5pbVRpbWluZyhhLnQsYiksdGhpcy50cmFuc2Zvcm09YS50cmFuc2Zvcm0sYj49YS50Pyh0aGlzLmZpeGVkQ2FsbGJhY2tUYWc9YS50YWcsdGhpcy5maXhlZENhbGxiYWNrPWEuY2IsdGhpcy5maXhlZEFuaW09dGhpcy55YXc9dGhpcy5waXRjaD0wKTpjKj1lLGQ9bS5Sb3RhdGlvbihjLGEuYXhpcyksdGhpcy50cmFuc2Zvcm09dGhpcy50cmFuc2Zvcm0ubXVsKGQpLHRoaXMuZml4ZWRBbmltIT0wKX0sYi5BbmltYXRlUG9zaXRpb249ZnVuY3Rpb24oZyxoLGYpe3ZhciBhPXRoaXMsZD1hLm14LGU9YS5teSxiLGM7IWEuZnJvemVuJiZkPj0wJiZlPj0wJiZkPGcmJmU8aD8oYj1hLm1heFNwZWVkLGM9YS5yZXZlcnNlPy0xOjEsYS5seHx8KGEueWF3PShkKjIqYi9nLWIpKmMqZiksYS5seXx8KGEucGl0Y2g9KGUqMipiL2gtYikqLWMqZiksYS5pbml0aWFsPW51bGwpOmEuaW5pdGlhbHx8KGEuZnJvemVuJiYhYS5mcmVlemVEZWNlbD9hLnlhdz1hLnBpdGNoPTA6YS5EZWNlbChhKSksdGhpcy5UcmFuc2Zvcm0oYSxhLnBpdGNoLGEueWF3KX0sYi5BbmltYXRlRHJhZz1mdW5jdGlvbihkLGUsYyl7dmFyIGE9dGhpcyxiPTEwMCpjKmEubWF4U3BlZWQvYS5tYXhfcmFkaXVzL2Euem9vbTthLmR4fHxhLmR5PyhhLmx4fHwoYS55YXc9YS5keCpiL2Euc3RyZXRjaFgpLGEubHl8fChhLnBpdGNoPWEuZHkqLWIvYS5zdHJldGNoWSksYS5keD1hLmR5PTAsYS5pbml0aWFsPW51bGwpOmEuaW5pdGlhbHx8YS5EZWNlbChhKSx0aGlzLlRyYW5zZm9ybShhLGEucGl0Y2gsYS55YXcpfSxiLkZyZWV6ZT1mdW5jdGlvbigpe3RoaXMuZnJvemVufHwodGhpcy5wcmVGcmVlemU9W3RoaXMueWF3LHRoaXMucGl0Y2hdLHRoaXMuZnJvemVuPTEsdGhpcy5kcmF3bj0wKX0sYi5VbkZyZWV6ZT1mdW5jdGlvbigpe3RoaXMuZnJvemVuJiYodGhpcy55YXc9dGhpcy5wcmVGcmVlemVbMF0sdGhpcy5waXRjaD10aGlzLnByZUZyZWV6ZVsxXSx0aGlzLmZyb3plbj0wKX0sYi5EZWNlbD1mdW5jdGlvbihhKXt2YXIgYj1hLm1pblNwZWVkLGM9cChhLnlhdyksZD1wKGEucGl0Y2gpOyFhLmx4JiZjPmImJihhLnlhdz1jPmEuejA/YS55YXcqYS5kZWNlbDowKSwhYS5seSYmZD5iJiYoYS5waXRjaD1kPmEuejA/YS5waXRjaCphLmRlY2VsOjApfSxiLlpvb209ZnVuY3Rpb24oYSl7dGhpcy56Mj10aGlzLnoxKigxL2EpLHRoaXMuZHJhd249MH0sYi5DbGlja2VkPWZ1bmN0aW9uKGIpe2lmKHRoaXMuQ2hlY2tBdWRpb0ljb24oKSl7dGhpcy5Ub2dnbGVBdWRpbygpO3JldHVybn12YXIgYT10aGlzLmFjdGl2ZTt0cnl7YSYmYS50YWcmJih0aGlzLmNsaWNrVG9Gcm9udD09PSExfHx0aGlzLmNsaWNrVG9Gcm9udD09PW51bGw/YS50YWcuQ2xpY2tlZChiKTp0aGlzLlRhZ1RvRnJvbnQoYS50YWcsdGhpcy5jbGlja1RvRnJvbnQsZnVuY3Rpb24oKXthLnRhZy5DbGlja2VkKGIpfSwhMCkpfWNhdGNoKGEpe319LGIuV2hlZWw9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy56b29tK3RoaXMuem9vbVN0ZXAqKGE/MTotMSk7dGhpcy56b29tPWgodGhpcy56b29tTWF4LGcodGhpcy56b29tTWluLGIpKSx0aGlzLlpvb20odGhpcy56b29tKX0sYi5CZWdpbkRyYWc9ZnVuY3Rpb24oYSl7dGhpcy5kb3duPUsoYSx0aGlzLmNhbnZhcyksYS5jYW5jZWxCdWJibGU9ITAsYS5yZXR1cm5WYWx1ZT0hMSxhLnByZXZlbnREZWZhdWx0JiZhLnByZXZlbnREZWZhdWx0KCl9LGIuRHJhZz1mdW5jdGlvbihlLGEpe2lmKHRoaXMuZHJhZ0NvbnRyb2wmJnRoaXMuZG93bil7dmFyIGQ9dGhpcy5kcmFnVGhyZXNob2xkKnRoaXMuZHJhZ1RocmVzaG9sZCxiPWEueC10aGlzLmRvd24ueCxjPWEueS10aGlzLmRvd24ueTsodGhpcy5kcmFnZ2luZ3x8YipiK2MqYz5kKSYmKHRoaXMuZHg9Yix0aGlzLmR5PWMsdGhpcy5kcmFnZ2luZz0xLHRoaXMuZG93bj1hKX1yZXR1cm4gdGhpcy5kcmFnZ2luZ30sYi5FbmREcmFnPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5kcmFnZ2luZztyZXR1cm4gdGhpcy5kcmFnZ2luZz10aGlzLmRvd249bnVsbCxhfTtmdW5jdGlvbiBhaChhKXt2YXIgYj1hLnRhcmdldFRvdWNoZXNbMF0sYz1hLnRhcmdldFRvdWNoZXNbMV07cmV0dXJuIEUodyhjLnBhZ2VYLWIucGFnZVgsMikrdyhjLnBhZ2VZLWIucGFnZVksMikpfWIuQmVnaW5QaW5jaD1mdW5jdGlvbihhKXt0aGlzLnBpbmNoZWQ9W2FoKGEpLHRoaXMuem9vbV0sYS5wcmV2ZW50RGVmYXVsdCYmYS5wcmV2ZW50RGVmYXVsdCgpfSxiLlBpbmNoPWZ1bmN0aW9uKGQpe3ZhciBiLGMsYT10aGlzLnBpbmNoZWQ7aWYoIWEpcmV0dXJuO2M9YWgoZCksYj1hWzFdKmMvYVswXSx0aGlzLnpvb209aCh0aGlzLnpvb21NYXgsZyh0aGlzLnpvb21NaW4sYikpLHRoaXMuWm9vbSh0aGlzLnpvb20pfSxiLkVuZFBpbmNoPWZ1bmN0aW9uKGEpe3RoaXMucGluY2hlZD1udWxsfSxiLlBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5wYXVzZWQ9ITB9LGIuUmVzdW1lPWZ1bmN0aW9uKCl7dGhpcy5wYXVzZWQ9ITF9LGIuU2V0U3BlZWQ9ZnVuY3Rpb24oYSl7dGhpcy5pbml0aWFsPWEsdGhpcy55YXc9YVswXSp0aGlzLm1heFNwZWVkLHRoaXMucGl0Y2g9YVsxXSp0aGlzLm1heFNwZWVkfSxiLkZpbmRUYWc9ZnVuY3Rpb24oYSl7aWYoIW4oYSkpcmV0dXJuIG51bGw7aWYobihhLmluZGV4KSYmKGE9YS5pbmRleCksIUIoYSkpcmV0dXJuIHRoaXMudGFnbGlzdFthXTt2YXIgYyxkLGI7bihhLmlkKT8oYz0naWQnLGQ9YS5pZCk6bihhLnRleHQpJiYoYz0naW5uZXJUZXh0JyxkPWEudGV4dCk7Zm9yKGI9MDtiPHRoaXMudGFnbGlzdC5sZW5ndGg7KytiKWlmKHRoaXMudGFnbGlzdFtiXS5hW2NdPT1kKXJldHVybiB0aGlzLnRhZ2xpc3RbYl19LGIuUm90YXRlVGFnPWZ1bmN0aW9uKGEsaCxpLGosZixnKXt2YXIgYj1hLkNhbGModGhpcy50cmFuc2Zvcm0sMSksYz1uZXcgcyhiLngsYi55LGIueiksZD1heShpLGgpLGU9Yy5hbmdsZShkKSxrPWMuY3Jvc3MoZCkudW5pdCgpO2U9PTA/KHRoaXMuZml4ZWRDYWxsYmFja1RhZz1hLHRoaXMuZml4ZWRDYWxsYmFjaz1mKTp0aGlzLmZpeGVkQW5pbT17YW5nbGU6LWUsYXhpczprLHQ6aix0MDpxKCksY2I6Zix0YWc6YSxhY3RpdmU6Z319LGIuVGFnVG9Gcm9udD1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLlJvdGF0ZVRhZyhhLDAsMCxiLGMsZCl9LGIuVm9sdW1lPWZ1bmN0aW9uKGEpe3RoaXMuYXVkaW9Wb2x1bWU9YSoxfSxhLlN0YXJ0PWZ1bmN0aW9uKGIsYyxkKXthLkRlbGV0ZShiKSxhLnRjW2JdPW5ldyBhKGIsYyxkKX07ZnVuY3Rpb24gTihjLGIpe2EudGNbYl0mJmEudGNbYl1bY10oKX1hLkxpbmVhcj1mdW5jdGlvbihhLGIpe3JldHVybiBiL2F9LGEuU21vb3RoPWZ1bmN0aW9uKGEsYil7cmV0dXJuLjUtbChiKk1hdGguUEkvYSkvMn0sYS5QYXVzZT1mdW5jdGlvbihhKXtOKCdQYXVzZScsYSl9LGEuUmVzdW1lPWZ1bmN0aW9uKGEpe04oJ1Jlc3VtZScsYSl9LGEuUmVsb2FkPWZ1bmN0aW9uKGEpe04oJ0xvYWQnLGEpfSxhLlVwZGF0ZT1mdW5jdGlvbihhKXtOKCdVcGRhdGUnLGEpfSxhLlNldFNwZWVkPWZ1bmN0aW9uKGMsYil7cmV0dXJuISEoQihiKSYmYS50Y1tjXSYmIWlzTmFOKGJbMF0pJiYhaXNOYU4oYlsxXSkpJiYoYS50Y1tjXS5TZXRTcGVlZChiKSwhMCl9LGEuVGFnVG9Gcm9udD1mdW5jdGlvbihjLGIpe3JldHVybiEhQihiKSYmKGIubGF0PWIubG5nPTAsYS5Sb3RhdGVUYWcoYyxiKSl9LGEuUm90YXRlVGFnPWZ1bmN0aW9uKGMsYil7aWYoQihiKSYmYS50Y1tjXSl7aXNOYU4oYi50aW1lKSYmKGIudGltZT01MDApO3ZhciBkPWEudGNbY10uRmluZFRhZyhiKTtpZihkKXJldHVybiBhLnRjW2NdLlJvdGF0ZVRhZyhkLGIubGF0LGIubG5nLGIudGltZSxiLmNhbGxiYWNrLGIuYWN0aXZlKSwhMH1yZXR1cm4hMX0sYS5EZWxldGU9ZnVuY3Rpb24oYil7dmFyIGQsZTtpZihqW2JdKWlmKGU9Yy5nZXRFbGVtZW50QnlJZChiKSxlKWZvcihkPTA7ZDxqW2JdLmxlbmd0aDsrK2QpYW0oaltiXVtkXVswXSxqW2JdW2RdWzFdLGUpO2RlbGV0ZSBqW2JdLGRlbGV0ZSBhLnRjW2JdfSxhLnRjPXt9LGEub3B0aW9ucz17ejE6MmU0LHoyOjJlNCx6MDoyZS00LGZyZWV6ZUFjdGl2ZTohMSxmcmVlemVEZWNlbDohMSxhY3RpdmVDdXJzb3I6J3BvaW50ZXInLHB1bHNhdGVUbzoxLHB1bHNhdGVUaW1lOjMscmV2ZXJzZTohMSxkZXB0aDouNSxtYXhTcGVlZDouMDUsbWluU3BlZWQ6MCxkZWNlbDouOTUsaW50ZXJ2YWw6MjAsbWluQnJpZ2h0bmVzczouMSxtYXhCcmlnaHRuZXNzOjEsb3V0bGluZUNvbG91cjonI2ZmZmY5OScsb3V0bGluZVRoaWNrbmVzczoyLG91dGxpbmVPZmZzZXQ6NSxvdXRsaW5lTWV0aG9kOidvdXRsaW5lJyxvdXRsaW5lUmFkaXVzOjAsdGV4dENvbG91cjonI2ZmOTlmZicsdGV4dEhlaWdodDoxNSx0ZXh0Rm9udDonSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZicsc2hhZG93OicjMDAwJyxzaGFkb3dCbHVyOjAsc2hhZG93T2Zmc2V0OlswLDBdLGluaXRpYWw6bnVsbCxoaWRlVGFnczohMCx6b29tOjEsd2VpZ2h0OiExLHdlaWdodE1vZGU6J3NpemUnLHdlaWdodEZyb206bnVsbCx3ZWlnaHRTaXplOjEsd2VpZ2h0U2l6ZU1pbjpudWxsLHdlaWdodFNpemVNYXg6bnVsbCx3ZWlnaHRHcmFkaWVudDp7MDonI2YwMCcsMC4zMzonI2ZmMCcsMC42NjonIzBmMCcsMTonIzAwZid9LHR4dE9wdDohMCx0eHRTY2FsZToyLGZyb250U2VsZWN0OiExLHdoZWVsWm9vbTohMCx6b29tTWluOi4zLHpvb21NYXg6Myx6b29tU3RlcDouMDUsc2hhcGU6J3NwaGVyZScsbG9jazpudWxsLHRvb2x0aXA6bnVsbCx0b29sdGlwRGVsYXk6MzAwLHRvb2x0aXBDbGFzczondGN0b29sdGlwJyxyYWRpdXNYOjEscmFkaXVzWToxLHJhZGl1c1o6MSxzdHJldGNoWDoxLHN0cmV0Y2hZOjEsb2Zmc2V0WDowLG9mZnNldFk6MCxzaHVmZmxlVGFnczohMSxub1NlbGVjdDohMSxub01vdXNlOiExLGltYWdlU2NhbGU6MSxwYXVzZWQ6ITEsZHJhZ0NvbnRyb2w6ITEsZHJhZ1RocmVzaG9sZDo0LGNlbnRyZUZ1bmM6eCxzcGxpdFdpZHRoOjAsYW5pbVRpbWluZzonU21vb3RoJyxjbGlja1RvRnJvbnQ6ITEsZmFkZUluOjAscGFkZGluZzowLGJnQ29sb3VyOm51bGwsYmdSYWRpdXM6MCxiZ091dGxpbmU6bnVsbCxiZ091dGxpbmVUaGlja25lc3M6MCxvdXRsaW5lSW5jcmVhc2U6NCx0ZXh0QWxpZ246J2NlbnRyZScsdGV4dFZBbGlnbjonbWlkZGxlJyxpbWFnZU1vZGU6bnVsbCxpbWFnZVBvc2l0aW9uOm51bGwsaW1hZ2VQYWRkaW5nOjIsaW1hZ2VBbGlnbjonY2VudHJlJyxpbWFnZVZBbGlnbjonbWlkZGxlJyxub1RhZ3NNZXNzYWdlOiEwLGNlbnRyZUltYWdlOm51bGwscGluY2hab29tOiExLHJlcGVhdFRhZ3M6MCxtaW5UYWdzOjAsaW1hZ2VSYWRpdXM6MCxzY3JvbGxQYXVzZTohMSxvdXRsaW5lRGFzaDowLG91dGxpbmVEYXNoU3BhY2U6MCxvdXRsaW5lRGFzaFNwZWVkOjEsYWN0aXZlQXVkaW86JycsYXVkaW9Wb2x1bWU6MSxhdWRpb0ljb246MSxhdWRpb0ljb25TaXplOjIwLGF1ZGlvSWNvblRoaWNrbmVzczoyLGF1ZGlvSWNvbkRhcms6MCxhbHRJbWFnZTowfTtmb3IociBpbiBhLm9wdGlvbnMpYVtyXT1hLm9wdGlvbnNbcl07d2luZG93LlRhZ0NhbnZhcz1hLHQoJ2xvYWQnLGZ1bmN0aW9uKCl7YS5sb2FkZWQ9MX0sd2luZG93KX0pKClcIjtcblxudmFyIHMgPSBmdW5jdGlvbiBzKCkge1xuICByZXR1cm4gTWF0aC5mbG9vcigoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKTtcbn07XG5cbnZhciBndWlkID0gZnVuY3Rpb24gZ3VpZCgpIHtcbiAgcmV0dXJuIFwiXCIgKyBzKCkgKyBzKCkgKyBcIi1cIiArIHMoKSArIFwiLVwiICsgcygpICsgXCItXCIgKyBzKCkgKyBcIi1cIiArIHMoKSArIHMoKSArIHMoKTtcbn07XG5cbnZhciBVc2VJblZpZXdwb3J0ID0gZnVuY3Rpb24gVXNlSW5WaWV3cG9ydChfcmVmKSB7XG4gIHZhciBjYiA9IF9yZWYuY2IsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG4gIHZhciByZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ludGVyc2VjdGlvbk9ic2VydmVyL0ludGVyc2VjdGlvbk9ic2VydmVyXG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICByb290OiBudWxsLFxuICAgICAgcm9vdE1hcmdpbjogJzBweCcsXG4gICAgICB0aHJlc2hvbGQ6IDAuMVxuICAgIH07XG5cbiAgICB2YXIgd3JhcHBlZENiID0gZnVuY3Rpb24gd3JhcHBlZENiKGVudHJpZXMpIHtcbiAgICAgIGNiKGVudHJpZXMuc29tZShmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gZS5pc0ludGVyc2VjdGluZztcbiAgICAgIH0pKTtcbiAgICB9O1xuXG4gICAgdmFyIG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKHdyYXBwZWRDYiwgb3B0aW9ucyk7XG5cbiAgICBpZiAocmVmICE9IG51bGwgJiYgcmVmLmN1cnJlbnQpIHtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUocmVmLmN1cnJlbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgfSwgW2NiXSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICByZWY6IHJlZlxuICB9LCBjaGlsZHJlbik7XG59O1xuXG52YXIgaXNTY3JpcHRMb2FkZWQgPSBmYWxzZTtcblxudmFyIHRyID0gZnVuY3Rpb24gdHIoZm4pIHtcbiAgdHJ5IHtcbiAgICBmbigpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGZuKCk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxufTtcblxudmFyIENsb3VkV3JhcHBlZCA9IGZ1bmN0aW9uIENsb3VkV3JhcHBlZChfcmVmKSB7XG4gIHZhciBfcmVmJG9wdGlvbnMgPSBfcmVmLm9wdGlvbnMsXG4gICAgICBvcHRpb25zID0gX3JlZiRvcHRpb25zID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkb3B0aW9ucyxcbiAgICAgIF9yZWYkY29udGFpbmVyUHJvcHMgPSBfcmVmLmNvbnRhaW5lclByb3BzLFxuICAgICAgY29udGFpbmVyUHJvcHMgPSBfcmVmJGNvbnRhaW5lclByb3BzID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkY29udGFpbmVyUHJvcHMsXG4gICAgICBfcmVmJGNhbnZhc1Byb3BzID0gX3JlZi5jYW52YXNQcm9wcyxcbiAgICAgIGNhbnZhc1Byb3BzID0gX3JlZiRjYW52YXNQcm9wcyA9PT0gdm9pZCAwID8ge30gOiBfcmVmJGNhbnZhc1Byb3BzLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgX3JlZiRpZCA9IF9yZWYuaWQsXG4gICAgICBpZCA9IF9yZWYkaWQgPT09IHZvaWQgMCA/IGd1aWQoKSA6IF9yZWYkaWQ7XG4gIHZhciBzdGF0ZSA9IFJlYWN0LnVzZVJlZih7XG4gICAgY2FudmFzQ29udGFpbmVySWQ6ICdjYW52YXMtY29udGFpbmVyLScgKyBpZCxcbiAgICBjYW52YXNJZDogJ2NhbnZhcy0nICsgaWQsXG4gICAgaGFzU3RhcnRlZDogZmFsc2VcbiAgfSkuY3VycmVudDtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpLFxuICAgICAgbW91bnRlZCA9IF9SZWFjdCR1c2VTdGF0ZVswXSxcbiAgICAgIHNldE1vdW50ZWQgPSBfUmVhY3QkdXNlU3RhdGVbMV07XG5cbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBzZXRNb3VudGVkKHRydWUpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdHIoZnVuY3Rpb24gKCkge1xuICAgICAgICBldmFsKFwiVGFnQ2FudmFzLkRlbGV0ZSgnXCIgKyBzdGF0ZS5jYW52YXNJZCArIFwiJylcIik7XG4gICAgICB9KTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHZhciBzdXBwb3J0c1RvdWNoID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHwgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzIDogZmFsc2U7XG4gIHZhciBvcHMgPSBKU09OLnN0cmluZ2lmeShfZXh0ZW5kcyh7XG4gICAgZHJhZ0NvbnRyb2w6IHN1cHBvcnRzVG91Y2ggPyB0cnVlIDogZmFsc2UsXG4gICAgbWF4U3BlZWQ6IHN1cHBvcnRzVG91Y2ggPyAwLjAxIDogMC4wNSxcbiAgICB0ZXh0Rm9udDogbnVsbCxcbiAgICB0ZXh0Q29sb3VyOiBudWxsXG4gIH0sIG9wdGlvbnMpKTsgLy8gaXQgd2lsbCBub3QgbG9hZCBjYW52YXMgYW5pbWF0aW9ucyB3aGVuIGl0cyBvdXRzaWRlIHRoZSB2aWV3cG9ydFxuXG4gIHZhciBvblZpc2liaWxpdHlDaGFuZ2UgPSBmdW5jdGlvbiBvblZpc2liaWxpdHlDaGFuZ2UoaXNWaXNpYmxlKSB7XG4gICAgcmV0dXJuIHRyKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpc1Zpc2libGUgJiYgbW91bnRlZCkge1xuICAgICAgICBpZiAoIWlzU2NyaXB0TG9hZGVkKSB7XG4gICAgICAgICAgZXZhbCh0YWdDYW52YXNTdHJpbmcpO1xuICAgICAgICAgIGlzU2NyaXB0TG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS5oYXNTdGFydGVkKSB7XG4gICAgICAgICAgZXZhbChcIlRhZ0NhbnZhcy5SZXN1bWUoJ1wiICsgc3RhdGUuY2FudmFzSWQgKyBcIicpXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBldmFsKFwiVGFnQ2FudmFzLlN0YXJ0KCdcIiArIHN0YXRlLmNhbnZhc0lkICsgXCInLCBudWxsLCBcIiArIG9wcyArIFwiKVwiKTtcbiAgICAgICAgICAgIHN0YXRlLmhhc1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0YXRlLmNhbnZhc0NvbnRhaW5lcklkKTtcblxuICAgICAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoc3RhdGUuaGFzU3RhcnRlZCkge1xuICAgICAgICAgIGV2YWwoXCJUYWdDYW52YXMuUGF1c2UoJ1wiICsgc3RhdGUuY2FudmFzSWQgKyBcIicpXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVXNlSW5WaWV3cG9ydCwge1xuICAgIGNiOiBvblZpc2liaWxpdHlDaGFuZ2VcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICBpZDogc3RhdGUuY2FudmFzQ29udGFpbmVySWRcbiAgfSwgY29udGFpbmVyUHJvcHMpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgIGlkOiBzdGF0ZS5jYW52YXNJZCxcbiAgICBzdHlsZToge1xuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIG1heFdpZHRoOiAnNzB2aCdcbiAgICB9LFxuICAgIHdpZHRoOiAxMDAwLFxuICAgIGhlaWdodDogMTAwMFxuICB9LCBjYW52YXNQcm9wcyksIGNoaWxkcmVuKSkpO1xufTtcblxudmFyIENsb3VkID0gZnVuY3Rpb24gQ2xvdWQocHJvcHMpIHtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2xvdWRXcmFwcGVkLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywge1xuICAgIGtleTogZ3VpZCgpXG4gIH0pKTtcbn07XG5cbnZhciBhZGRIYXNoID0gZnVuY3Rpb24gYWRkSGFzaChjb2xvcikge1xuICByZXR1cm4gY29sb3JbMF0gPT09ICcjJyA/IGNvbG9yIDogXCIjXCIgKyBjb2xvcjtcbn07XG5cbi8qKlxyXG4gKiBVc2VkIHRvIGNyZWF0ZSBhIHRhZyBmb3IgdGhlIENsb3VkIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0gb3B0aW9ucy5hUHJvcHMgQXR0cmlidXRlcyBwYXNzZWQgdG8gdGhlIHVuZGVybHlpbmcgYW5jaG9yIGVsZW1lbnRcclxuICogQHBhcmFtIG9wdGlvbnMuYmdIZXggVGhlIHN0cmluZyBoZXggb2YgdGhlIGJhY2tncm91bmQgdGhlIGljb24gd2lsbCBiZSByZW5kZXJlZCBvbi4gRXg6ICcjZmZmJy4gVXNlZCB0byBkZXRlcm1pbmUgaWYgdGhlIG1pbiBjb250cmFzdCByYXRpbyBmb3IgdGhlIGljb25zIGRlZmF1bHQgY29sb3Igd2lsbCBiZSBtZXRcclxuICogQHBhcmFtIG9wdGlvbnMuZmFsbGJhY2tIZXggVGhlIGNvbG9yIG9mIHRoZSBpY29uIGlmIHRoZSBtaW5Db250cmFzdFJhdGlvIGlzIG5vdCBtZXQgRXg6ICcjMDAwJ1xyXG4gKiBAcGFyYW0gb3B0aW9ucy5pY29uIFRoZSBzaW1wbGUgaWNvbiBvYmplY3QgeW91IHdvdWxkIGxpa2UgdG8gcmVuZGVyLiBFeDogaW1wb3J0IGljb24gZnJvbSBcInNpbXBsZS1pY29ucy9pY29ucy9qYXZhc2NyaXB0XCI7XHJcbiAqIEBwYXJhbSBvcHRpb25zLmltZ1Byb3BzIEF0dHJpYnV0ZXMgcGFzc2VzIHRvIHRoZSB1bmRlcmx5aW5nIGltZyBlbGVtZW50XHJcbiAqIEBwYXJhbSBvcHRpb25zLm1pbkNvbnRyYXN0UmF0aW8gMCAtIDIxIFRoZSBtaW4gY29udHJhc3QgcmF0aW8gYmV0d2VlbiBpY29uIGFuZCBiZ0hleCBiZWZvcmUgdGhlIGZhbGxiYWNrSGV4IHdpbGwgYmUgdXNlZCBmb3IgdGhlIGljb24gY29sb3JcclxuICogQHBhcmFtIG9wdGlvbnMuc2l6ZSBUaGUgc2l6ZSBpbiBweCBvZiB0aGUgaWNvblxyXG4gKiBAcmV0dXJucyBBIGNvbXBvbmVudCB0aGF0IGNhbiBiZSByZW5kZXJlZCBhcyBhIHRhZyBpbnNpZGUgdGhlIENsb3VkIGNvbXBvbmVudFxyXG4gKi9cblxudmFyIHJlbmRlclNpbXBsZUljb24gPSBmdW5jdGlvbiByZW5kZXJTaW1wbGVJY29uKF9yZWYpIHtcbiAgdmFyIF9yZWYkYVByb3BzID0gX3JlZi5hUHJvcHMsXG4gICAgICBhUHJvcHMgPSBfcmVmJGFQcm9wcyA9PT0gdm9pZCAwID8ge30gOiBfcmVmJGFQcm9wcyxcbiAgICAgIF9yZWYkYmdIZXggPSBfcmVmLmJnSGV4LFxuICAgICAgYmdIZXggPSBfcmVmJGJnSGV4ID09PSB2b2lkIDAgPyAnI2ZmZicgOiBfcmVmJGJnSGV4LFxuICAgICAgX3JlZiRmYWxsYmFja0hleCA9IF9yZWYuZmFsbGJhY2tIZXgsXG4gICAgICBmYWxsYmFja0hleCA9IF9yZWYkZmFsbGJhY2tIZXggPT09IHZvaWQgMCA/ICcjMDAwJyA6IF9yZWYkZmFsbGJhY2tIZXgsXG4gICAgICBpY29uID0gX3JlZi5pY29uLFxuICAgICAgX3JlZiRpbWdQcm9wcyA9IF9yZWYuaW1nUHJvcHMsXG4gICAgICBpbWdQcm9wcyA9IF9yZWYkaW1nUHJvcHMgPT09IHZvaWQgMCA/IHt9IDogX3JlZiRpbWdQcm9wcyxcbiAgICAgIF9yZWYkbWluQ29udHJhc3RSYXRpbyA9IF9yZWYubWluQ29udHJhc3RSYXRpbyxcbiAgICAgIG1pbkNvbnRyYXN0UmF0aW8gPSBfcmVmJG1pbkNvbnRyYXN0UmF0aW8gPT09IHZvaWQgMCA/IDEgOiBfcmVmJG1pbkNvbnRyYXN0UmF0aW8sXG4gICAgICBfcmVmJHNpemUgPSBfcmVmLnNpemUsXG4gICAgICBzaXplID0gX3JlZiRzaXplID09PSB2b2lkIDAgPyA0MiA6IF9yZWYkc2l6ZTtcbiAgdmFyIG9yaWdpbmFsSGV4ID0gYWRkSGFzaChpY29uLmhleCk7XG4gIHZhciBiZ0hleEhhc2ggPSBhZGRIYXNoKGJnSGV4KTtcbiAgdmFyIGZhbGxiYWNrSGV4SGFzaCA9IGFkZEhhc2goZmFsbGJhY2tIZXgpO1xuICB2YXIgaXNBY2Nlc3NpYmxlQ29sb3IgPSBoZXgyY29udHJhc3QoYmdIZXhIYXNoLCBvcmlnaW5hbEhleCkgPiBtaW5Db250cmFzdFJhdGlvO1xuICB2YXIgcmdiID0gaXNBY2Nlc3NpYmxlQ29sb3IgPyBoZXgycmdiKG9yaWdpbmFsSGV4KSA6IGhleDJyZ2IoZmFsbGJhY2tIZXhIYXNoKTtcblxuICB2YXIgX3JnYiRtYXAgPSByZ2IubWFwKGZ1bmN0aW9uIChwZXJjZW50KSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQocGVyY2VudCAvIDEwMCAqIDI1NSk7XG4gIH0pLFxuICAgICAgciA9IF9yZ2IkbWFwWzBdLFxuICAgICAgZyA9IF9yZ2IkbWFwWzFdLFxuICAgICAgYiA9IF9yZ2IkbWFwWzJdO1xuXG4gIHZhciBpbWdTcmMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDt1dGY4LDxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBzdHlsZT1cXFwiZmlsbDogcmdiKFwiICsgciArIFwiLCBcIiArIGcgKyBcIiwgXCIgKyBiICsgXCIpO1xcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIiBoZWlnaHQ9XFxcIlwiICsgc2l6ZSArIFwicHhcXFwiIHdpZHRoPVxcXCJcIiArIHNpemUgKyBcInB4XFxcIj4gPHRpdGxlPlwiICsgaWNvbi50aXRsZSArIFwiPC90aXRsZT4gPHBhdGggZD1cXFwiXCIgKyBpY29uLnBhdGggKyBcIlxcXCI+PC9wYXRoPiA8L3N2Zz5cIjtcblxuICB2YXIgYSA9IF9leHRlbmRzKHtcbiAgICBrZXk6IGd1aWQoKSxcbiAgICB0aXRsZTogaWNvbi50aXRsZSxcbiAgICBzdHlsZToge1xuICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICB9XG4gIH0sIGFQcm9wcyk7XG5cbiAgdmFyIGkgPSBfZXh0ZW5kcyh7XG4gICAgaGVpZ2h0OiBzaXplLFxuICAgIHdpZHRoOiBzaXplLFxuICAgIGFsdDogaWNvbi50aXRsZSxcbiAgICBzcmM6IGltZ1NyY1xuICB9LCBpbWdQcm9wcyk7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIE9iamVjdC5hc3NpZ24oe30sIGEpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIE9iamVjdC5hc3NpZ24oe30sIGkpKSk7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgbW9kdWxlKSB7XG5cdHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcbn1cblxudmFyIHJ1bnRpbWVfMSA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxudmFyIHJ1bnRpbWUgPSAoZnVuY3Rpb24gKGV4cG9ydHMpIHtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQkMTsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIG9ialtrZXldO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gSUUgOCBoYXMgYSBicm9rZW4gT2JqZWN0LmRlZmluZVByb3BlcnR5IHRoYXQgb25seSB3b3JrcyBvbiBET00gb2JqZWN0cy5cbiAgICBkZWZpbmUoe30sIFwiXCIpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBkZWZpbmUgPSBmdW5jdGlvbihvYmosIGtleSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBleHBvcnRzLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBkZWZpbmUoSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIGRlZmluZShHcCwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gIGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvbik7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKFxuICAgIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLFxuICAgIHRvU3RyaW5nVGFnU3ltYm9sLFxuICAgIFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICApO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIGRlZmluZShwcm90b3R5cGUsIG1ldGhvZCwgZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGRlZmluZShnZW5GdW4sIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIC8vIElmIGEgcmVqZWN0ZWQgUHJvbWlzZSB3YXMgeWllbGRlZCwgdGhyb3cgdGhlIHJlamVjdGlvbiBiYWNrXG4gICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLlxuICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBhc3luY0l0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7XG4gICAgaWYgKFByb21pc2VJbXBsID09PSB2b2lkIDApIFByb21pc2VJbXBsID0gUHJvbWlzZTtcblxuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSxcbiAgICAgIFByb21pc2VJbXBsXG4gICAgKTtcblxuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgPyBHZW5TdGF0ZUNvbXBsZXRlZFxuICAgICAgICAgICAgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXG4gIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcbiAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQkMSkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIC8vIE5vdGU6IFtcInJldHVyblwiXSBtdXN0IGJlIHVzZWQgZm9yIEVTMyBwYXJzaW5nIGNvbXBhdGliaWxpdHkuXG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXSkge1xuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkJDE7XG4gICAgICAgICAgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb21cbiAgICAgICAgICAgIC8vIFwicmV0dXJuXCIgdG8gXCJ0aHJvd1wiLCBsZXQgdGhhdCBvdmVycmlkZSB0aGUgVHlwZUVycm9yIGJlbG93LlxuICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG5cbiAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcblxuICAgIGlmICghIGluZm8pIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5XG4gICAgICAvLyB2YXJpYWJsZSBzcGVjaWZpZWQgYnkgZGVsZWdhdGUucmVzdWx0TmFtZSAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7XG5cbiAgICAgIC8vIFJlc3VtZSBleGVjdXRpb24gYXQgdGhlIGRlc2lyZWQgbG9jYXRpb24gKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG5cbiAgICAgIC8vIElmIGNvbnRleHQubWV0aG9kIHdhcyBcInRocm93XCIgYnV0IHRoZSBkZWxlZ2F0ZSBoYW5kbGVkIHRoZVxuICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZlxuICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzIFwibmV4dFwiLCBmb3JnZXQgY29udGV4dC5hcmcgc2luY2UgaXQgaGFzIGJlZW5cbiAgICAgIC8vIFwiY29uc3VtZWRcIiBieSB0aGUgZGVsZWdhdGUgaXRlcmF0b3IuIElmIGNvbnRleHQubWV0aG9kIHdhc1xuICAgICAgLy8gXCJyZXR1cm5cIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGVcbiAgICAgIC8vIG91dGVyIGdlbmVyYXRvci5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCAhPT0gXCJyZXR1cm5cIikge1xuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCQxO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBkZWZpbmUoR3AsIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvclwiKTtcblxuICAvLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZVxuICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZVxuICAvLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvclxuICAvLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuXG4gIGRlZmluZShHcCwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcblxuICBkZWZpbmUoR3AsIFwidG9TdHJpbmdcIiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkJDE7XG4gICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBhbiBpdGVyYXRvciB3aXRoIG5vIHZhbHVlcy5cbiAgICByZXR1cm4geyBuZXh0OiBkb25lUmVzdWx0IH07XG4gIH1cbiAgZXhwb3J0cy52YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkJDEsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkJDE7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQkMTtcblxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICAgICAgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiZcbiAgICAgICAgICAgICAgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZCQxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkJDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkJDE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlXG4gIC8vIG9yIG5vdCwgcmV0dXJuIHRoZSBydW50aW1lIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBkZWNsYXJlIHRoZSB2YXJpYWJsZVxuICAvLyByZWdlbmVyYXRvclJ1bnRpbWUgaW4gdGhlIG91dGVyIHNjb3BlLCB3aGljaCBhbGxvd3MgdGhpcyBtb2R1bGUgdG8gYmVcbiAgLy8gaW5qZWN0ZWQgZWFzaWx5IGJ5IGBiaW4vcmVnZW5lcmF0b3IgLS1pbmNsdWRlLXJ1bnRpbWUgc2NyaXB0LmpzYC5cbiAgcmV0dXJuIGV4cG9ydHM7XG5cbn0oXG4gIC8vIElmIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZSwgdXNlIG1vZHVsZS5leHBvcnRzXG4gIC8vIGFzIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgbmFtZXNwYWNlLiBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGVtcHR5XG4gIC8vIG9iamVjdC4gRWl0aGVyIHdheSwgdGhlIHJlc3VsdGluZyBvYmplY3Qgd2lsbCBiZSB1c2VkIHRvIGluaXRpYWxpemVcbiAgLy8gdGhlIHJlZ2VuZXJhdG9yUnVudGltZSB2YXJpYWJsZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZS5cbiAgIG1vZHVsZS5leHBvcnRzIFxuKSk7XG5cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3RcbiAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCBpbiBtb2Rlcm4gZW5naW5lc1xuICAvLyB3ZSBjYW4gZXhwbGljaXRseSBhY2Nlc3MgZ2xvYmFsVGhpcy4gSW4gb2xkZXIgZW5naW5lcyB3ZSBjYW4gZXNjYXBlXG4gIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbFxuICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2VcbiAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcbiAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXG4gIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBnbG9iYWxUaGlzLnJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG4gIH0gZWxzZSB7XG4gICAgRnVuY3Rpb24oXCJyXCIsIFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShydW50aW1lKTtcbiAgfVxufVxufSk7XG5cbnZhciBzdmdUb1BhdGggPSBmdW5jdGlvbiBzdmdUb1BhdGgoc3ZnKSB7XG4gIHZhciBwMCA9IHN2Zy5pbmRleE9mKCdkPVwiJyk7XG4gIHZhciBwMSA9IHN2Zy5pbmRleE9mKCdcIicsIHAwICsgMyk7XG4gIHJldHVybiBzdmcuc3Vic3RyaW5nKHAwICsgMywgcDEpO1xufTtcblxudmFyIHVybCA9ICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL3NpbXBsZS1pY29uc0BsYXRlc3QvaWNvbnMvJztcbnZhciBjYWNoZSA9IHt9O1xudmFyIGZhbGxiYWNrID0gJyc7XG5cbnZhciBnZXRTbHVnUGF0aCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIHZhciBfcmVmID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcnVudGltZV8xLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShzbHVnKSB7XG4gICAgdmFyIHVybFNsdWcsIHJlcywgdGV4dCwgcGF0aDtcbiAgICByZXR1cm4gcnVudGltZV8xLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBpZiAoY2FjaGVbc2x1Z10pIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7XG4gICAgICAgICAgICB1cmxTbHVnID0gXCJcIiArIHVybCArIHNsdWcgKyBcIi5zdmdcIjtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1O1xuICAgICAgICAgICAgcmV0dXJuIGZldGNoKHVybFNsdWcsIHtcbiAgICAgICAgICAgICAgY2FjaGU6ICdmb3JjZS1jYWNoZSdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4O1xuICAgICAgICAgICAgcmV0dXJuIHJlcy50ZXh0KCk7XG5cbiAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICB0ZXh0ID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgIHBhdGggPSBzdmdUb1BhdGgodGV4dCk7XG4gICAgICAgICAgICBjYWNoZVtzbHVnXSA9IHBhdGg7XG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTM7XG4gICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0W1wiY2F0Y2hcIl0oMSk7XG5cbiAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgaWYgKCFjYWNoZVtzbHVnXSkge1xuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNhY2hlW3NsdWddKTtcblxuICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGZhbGxiYWNrKTtcblxuICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMTNdXSk7XG4gIH0pKTtcblxuICByZXR1cm4gZnVuY3Rpb24gZ2V0U2x1Z1BhdGgoX3gpIHtcbiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0U2x1Z3NQYXRoID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWYyID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcnVudGltZV8xLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoc2x1Z3MpIHtcbiAgICB2YXIgbWFwO1xuICAgIHJldHVybiBydW50aW1lXzEud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBtYXAgPSB7fTtcbiAgICAgICAgICAgIHNsdWdzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgbWFwW3NdID0gcztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0O1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKG1hcCkubWFwKGdldFNsdWdQYXRoKSk7XG5cbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCBzbHVncy5tYXAoZnVuY3Rpb24gKHNsdWcpIHtcbiAgICAgICAgICAgICAgdmFyIF9jYWNoZSRzbHVnO1xuXG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2x1Zzogc2x1ZyxcbiAgICAgICAgICAgICAgICBwYXRoOiAoX2NhY2hlJHNsdWcgPSBjYWNoZVtzbHVnXSkgIT0gbnVsbCA/IF9jYWNoZSRzbHVnIDogZmFsbGJhY2tcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWUyKTtcbiAgfSkpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBnZXRTbHVnc1BhdGgoX3gyKSB7XG4gICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59KCk7XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW1wbGUtaWNvbnMvc2ltcGxlLWljb25zL2Jsb2IvZGV2ZWxvcC9zY3JpcHRzL3V0aWxzLmpzXG52YXIgVElUTEVfVE9fU0xVR19SRVBMQUNFTUVOVFMgPSB7XG4gICcrJzogJ3BsdXMnLFxuICAnLic6ICdkb3QnLFxuICAnJic6ICdhbmQnLFxuICDEkTogJ2QnLFxuICDEpzogJ2gnLFxuICDEsTogJ2knLFxuICDEuDogJ2snLFxuICDFgDogJ2wnLFxuICDFgjogJ2wnLFxuICDDnzogJ3NzJyxcbiAgxac6ICd0J1xufTtcbnZhciBUSVRMRV9UT19TTFVHX0NIQVJTX1JFR0VYID0gLyojX19QVVJFX18qL1JlZ0V4cChcIltcIiArIC8qI19fUFVSRV9fKi9PYmplY3Qua2V5cyhUSVRMRV9UT19TTFVHX1JFUExBQ0VNRU5UUykuam9pbignJykgKyBcIl1cIiwgJ2cnKTtcbnZhciBUSVRMRV9UT19TTFVHX1JBTkdFX1JFR0VYID0gL1teYS16MC05XS9nO1xudmFyIGdldFNsdWcgPSBmdW5jdGlvbiBnZXRTbHVnKF9yZWYpIHtcbiAgdmFyIHRpdGxlID0gX3JlZi50aXRsZTtcbiAgcmV0dXJuIHRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZShUSVRMRV9UT19TTFVHX0NIQVJTX1JFR0VYLCBmdW5jdGlvbiAoX2NoYXIpIHtcbiAgICByZXR1cm4gVElUTEVfVE9fU0xVR19SRVBMQUNFTUVOVFNbX2NoYXJdO1xuICB9KS5ub3JtYWxpemUoJ05GRCcpLnJlcGxhY2UoVElUTEVfVE9fU0xVR19SQU5HRV9SRUdFWCwgJycpO1xufTtcblxudmFyIHVybCQxID0gJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9zaW1wbGUtaWNvbnMvc2ltcGxlLWljb25zL2RldmVsb3AvX2RhdGEvc2ltcGxlLWljb25zLmpzb24nO1xudmFyIGNhY2hlJDE7XG52YXIgZmFsbGJhY2skMSA9ICcjMDAwJztcblxudmFyIHByaW1lQ2FjaGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZiA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3J1bnRpbWVfMS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgdmFyIHJlcywganNvbjtcbiAgICByZXR1cm4gcnVudGltZV8xLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBpZiAoY2FjaGUkMSkge1xuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0O1xuICAgICAgICAgICAgcmV0dXJuIGZldGNoKHVybCQxLCB7XG4gICAgICAgICAgICAgIGNhY2hlOiAnZm9yY2UtY2FjaGUnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7XG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNztcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuXG4gICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAganNvbiA9IF9jb250ZXh0LnNlbnQ7XG4gICAgICAgICAgICBjYWNoZSQxID0ge307XG4gICAgICAgICAgICBqc29uLmljb25zLmZvckVhY2goZnVuY3Rpb24gKGljb24pIHtcbiAgICAgICAgICAgICAgdmFyIF9pY29uJGhleDtcblxuICAgICAgICAgICAgICB2YXIgaWNvblNsdWcgPSBnZXRTbHVnKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogaWNvbi50aXRsZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY2FjaGUkMVtpY29uU2x1Z10gPSB7XG4gICAgICAgICAgICAgICAgaGV4OiBhZGRIYXNoKChfaWNvbiRoZXggPSBpY29uLmhleCkgIT0gbnVsbCA/IF9pY29uJGhleCA6IGZhbGxiYWNrJDEpLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBpY29uLnRpdGxlLFxuICAgICAgICAgICAgICAgIHNsdWc6IGljb25TbHVnXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMjtcbiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbXCJjYXRjaFwiXSgxKTtcblxuICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMTJdXSk7XG4gIH0pKTtcblxuICByZXR1cm4gZnVuY3Rpb24gcHJpbWVDYWNoZSgpIHtcbiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0U2x1Z0hleHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZjIgPSAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9ydW50aW1lXzEubWFyayhmdW5jdGlvbiBfY2FsbGVlMihzbHVncykge1xuICAgIHJldHVybiBydW50aW1lXzEud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7XG4gICAgICAgICAgICByZXR1cm4gcHJpbWVDYWNoZSgpO1xuXG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwge1xuICAgICAgICAgICAgICBoZXhzOiBzbHVncy5tYXAoZnVuY3Rpb24gKHNsdWcpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2NhY2hlJHNsdWckaGV4LCBfY2FjaGUkc2x1ZywgX2NhY2hlJHNsdWckdGl0bGUsIF9jYWNoZSRzbHVnMjtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBzbHVnOiBzbHVnLFxuICAgICAgICAgICAgICAgICAgaGV4OiBjYWNoZSQxID8gKF9jYWNoZSRzbHVnJGhleCA9IChfY2FjaGUkc2x1ZyA9IGNhY2hlJDFbc2x1Z10pID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGUkc2x1Zy5oZXgpICE9IG51bGwgPyBfY2FjaGUkc2x1ZyRoZXggOiBmYWxsYmFjayQxIDogZmFsbGJhY2skMSxcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiBjYWNoZSQxID8gKF9jYWNoZSRzbHVnJHRpdGxlID0gKF9jYWNoZSRzbHVnMiA9IGNhY2hlJDFbc2x1Z10pID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGUkc2x1ZzIudGl0bGUpICE9IG51bGwgPyBfY2FjaGUkc2x1ZyR0aXRsZSA6ICdpY29uJyA6ICdpY29uJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBjYWNoZTogY2FjaGUkMVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlMik7XG4gIH0pKTtcblxuICByZXR1cm4gZnVuY3Rpb24gZ2V0U2x1Z0hleHMoX3gpIHtcbiAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKTtcblxudmFyIGZldGNoU2ltcGxlSWNvbnMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZjIgPSAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9ydW50aW1lXzEubWFyayhmdW5jdGlvbiBfY2FsbGVlKF9yZWYpIHtcbiAgICB2YXIgc2x1Z3MsIF95aWVsZCRQcm9taXNlJGFsbCwgcGF0aHMsIF95aWVsZCRQcm9taXNlJGFsbCQsIGhleHMsIGNhY2hlLCBtYXA7XG5cbiAgICByZXR1cm4gcnVudGltZV8xLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBzbHVncyA9IF9yZWYuc2x1Z3M7XG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbZ2V0U2x1Z3NQYXRoKHNsdWdzKSwgZ2V0U2x1Z0hleHMoc2x1Z3MpXSk7XG5cbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBfeWllbGQkUHJvbWlzZSRhbGwgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgICAgcGF0aHMgPSBfeWllbGQkUHJvbWlzZSRhbGxbMF07XG4gICAgICAgICAgICBfeWllbGQkUHJvbWlzZSRhbGwkID0gX3lpZWxkJFByb21pc2UkYWxsWzFdO1xuICAgICAgICAgICAgaGV4cyA9IF95aWVsZCRQcm9taXNlJGFsbCQuaGV4cztcbiAgICAgICAgICAgIGNhY2hlID0gX3lpZWxkJFByb21pc2UkYWxsJC5jYWNoZTtcbiAgICAgICAgICAgIG1hcCA9IHt9O1xuICAgICAgICAgICAgaGV4cy5mb3JFYWNoKGZ1bmN0aW9uIChoZXgpIHtcbiAgICAgICAgICAgICAgbWFwW2hleC5zbHVnXSA9IGhleDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGF0aHMuZm9yRWFjaChmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAgICAgICBtYXBbcGF0aC5zbHVnXS5wYXRoID0gcGF0aC5wYXRoO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzbHVncy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgIHZhciBvID0gbWFwW3NdO1xuXG4gICAgICAgICAgICAgIGlmICghby5oZXggfHwgIW8ucGF0aCkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiJ3JlYWN0LWljb24tY2xvdWQvZmV0Y2hTaW1wbGVJY29ucyc6IHRoZSByZXNwb25zZSBvZiBcIiArIG8uc2x1ZyArIFwiIHdhcyBtYWxmb3JtZWQgYW5kIGl0IHdpbGwgYmUgaWdub3JlZC5cIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVsZXRlIG1hcFtzXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIHtcbiAgICAgICAgICAgICAgc2ltcGxlSWNvbnM6IG1hcCxcbiAgICAgICAgICAgICAgYWxsSWNvbjogY2FjaGVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZSk7XG4gIH0pKTtcblxuICByZXR1cm4gZnVuY3Rpb24gZmV0Y2hTaW1wbGVJY29ucyhfeCkge1xuICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpO1xuXG5leHBvcnQgeyBDbG91ZCwgZmV0Y2hTaW1wbGVJY29ucywgZ2V0U2x1ZywgcmVuZGVyU2ltcGxlSWNvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhY3QtaWNvbi1jbG91ZC5lc20uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-icon-cloud/dist/react-icon-cloud.esm.js\n");

/***/ })

};
;